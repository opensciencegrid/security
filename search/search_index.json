{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"OSG Security Welcome to OSG Security The OSG security team's goal is to provide a security framework that enables science and promotes autonomous and open science collaboration among Virtual Organizations (VOs), sites, and software providers. Keeping the balance between the openness, which is necessary for science, and the security is at the core of our work. Our mission is to protect OSG users and resources from security breaches and provide convenient access to OSG resources. Reporting a security incident If you suspect a security problem, please report it immediately . Note Also do NOT forget to report security incidents to your local/home organization's incident response team. Please promptly report security incidents involving OSG resources via email to security@opensciencegrid.org . Please include the following information in your report: Your name, email address, phone number. A description of the incident, including time(s), systems and user accounts involved, and any related event. What is your affiliation with the OSG? Which Virtual Organization are you a member of? Did this incident occur on a Site machine or on a VO machine or on your personal computer? Please provide detailed information (names, IPs, URLs, etc.) if you have Do you think your grid identity (certificate and/or proxy) is compromised? Any additional comments or questions you have Mailing Lists The following addresses are open for use by all OSG members, partners, and collaborators: security@opensciencegrid.org is the standard email address open to the OSG public for reporting of security incidents. security-sig@opensciencegrid.org is an open security discussion group for non-sensitive security topics related to OSG. You can join this mailing list here . The following addresses are for internal use by OSG staff: osg-security-team@opensciencegrid.org is for internal discussions among OSG security team members. OSG Security Team PGP key User ID: Open Science Grid Security <security@opensciencegrid.org> Key ID: 7FD42669 Expires: Fingerprint: 6E5F 4DD8 7ABC 9F68 A49B F3CA 15E3 B3AD 7FD4 2669 The team key is available from the MIT PGP server . PGP software is available from: GnuPG OSG Security team members The OSG Security Team can be contacted at osg-security-team AT opensciencegrid.org OSG Security Officer: Mike Standfield mstanfiem AT iu.edu Zalak Shah: zsshah AT iu.edu Jeny Teheran: jteheran AT fnal.gov Josh Drake: drakejc AT iu.edu Adrian Crenshaw: adrian AT iu.edu","title":"Home"},{"location":"#osg-security","text":"Welcome to OSG Security The OSG security team's goal is to provide a security framework that enables science and promotes autonomous and open science collaboration among Virtual Organizations (VOs), sites, and software providers. Keeping the balance between the openness, which is necessary for science, and the security is at the core of our work. Our mission is to protect OSG users and resources from security breaches and provide convenient access to OSG resources.","title":"OSG Security"},{"location":"#reporting-a-security-incident","text":"If you suspect a security problem, please report it immediately . Note Also do NOT forget to report security incidents to your local/home organization's incident response team. Please promptly report security incidents involving OSG resources via email to security@opensciencegrid.org . Please include the following information in your report: Your name, email address, phone number. A description of the incident, including time(s), systems and user accounts involved, and any related event. What is your affiliation with the OSG? Which Virtual Organization are you a member of? Did this incident occur on a Site machine or on a VO machine or on your personal computer? Please provide detailed information (names, IPs, URLs, etc.) if you have Do you think your grid identity (certificate and/or proxy) is compromised? Any additional comments or questions you have","title":"Reporting a security incident"},{"location":"#mailing-lists","text":"The following addresses are open for use by all OSG members, partners, and collaborators: security@opensciencegrid.org is the standard email address open to the OSG public for reporting of security incidents. security-sig@opensciencegrid.org is an open security discussion group for non-sensitive security topics related to OSG. You can join this mailing list here . The following addresses are for internal use by OSG staff: osg-security-team@opensciencegrid.org is for internal discussions among OSG security team members.","title":"Mailing Lists"},{"location":"#osg-security-team-pgp-key","text":"User ID: Open Science Grid Security <security@opensciencegrid.org> Key ID: 7FD42669 Expires: Fingerprint: 6E5F 4DD8 7ABC 9F68 A49B F3CA 15E3 B3AD 7FD4 2669 The team key is available from the MIT PGP server . PGP software is available from: GnuPG","title":"OSG Security Team PGP key"},{"location":"#osg-security-team-members","text":"The OSG Security Team can be contacted at osg-security-team AT opensciencegrid.org OSG Security Officer: Mike Standfield mstanfiem AT iu.edu Zalak Shah: zsshah AT iu.edu Jeny Teheran: jteheran AT fnal.gov Josh Drake: drakejc AT iu.edu Adrian Crenshaw: adrian AT iu.edu","title":"OSG Security team members"},{"location":"CILogonOSGFAQ/","text":"CILogon OSG CA Warning OSG CA stopped issuing certificates on May 31st, 2018. After this date, new certificates from the CILogon OSG CA cannot be requested and therefore will no longer be issued. All certificates issued by CILogon OSG CA will continue to work until their expiration dates. The CILogon OSG CA will remain in the IGTF distribution until July 2019. Starting June 2016, the CILogon OSG CA is issuing certificates for users, hosts and services for OSG. The CILogon OSG CA is jointly operated with XSEDE. Combined with OSG Registration Authority and the OSG Information Management System, the CILogon OSG CA will provide the essential certificate services to the OSG community, including the personal, host and service certificates. The transition from DigiCert CA to CILogon OSG CA was completed on May 31st, 2016. All user, host and service certificates are issued by CILogon OSG CA. All OSG Virtual Organizations (VOs) were transitioned successfully to CILogon OSG CA. All certificates issued by DigiCert CA will continue to work until its expiration date What are we using from CILogon? Note, we are not using CILogon Basic CA. We are using CILogon HSM which is completely different from CILogon Basic. Note that CILogon has 4 different backend services and they are all different, we are using HSM. If you have a CILogon Basic certificate, you can continue to use that, but when you get a new certificate from OSG, you will get a CILogon HSM, not a CILogon Basic one, so it will be different. How do I get user certificates? How do I get host or server certificates? Frequently Asked Questions Does this transition mean that my local site will pay for certificates? No. No changes to current process with regard to fees. What does this transition mean for the end user? What does the end user need to do to get new certificates? Once end users' certificates are near expiring, they go to OIM to get a new certificate. The process is the same, but the distinguished name (DN) in the certifcate will be the new provider instead of DigiCert. Users will need to register their new DN with whatever services they access: DocDB?, twiki, etc. Note, the transition team will provide a script to automatically register the new DN with VOMS. I am a GridAdmin/RA Agent. Will I have the same privileges? If so, will you require anything from my home institution? Yes, you will continue to act as a GridAdmin. Your home institution is not required to do anything for you to obtain this privilege. Will the new certificates be trusted by browsers so we don't get all sorts of warnings popping up? Since the previous one was commercial, they paid money to be accepted by browsers. Warning messages may well pop up.","title":"Frequently Asked Questions (FAQ)"},{"location":"CILogonOSGFAQ/#cilogon-osg-ca","text":"Warning OSG CA stopped issuing certificates on May 31st, 2018. After this date, new certificates from the CILogon OSG CA cannot be requested and therefore will no longer be issued. All certificates issued by CILogon OSG CA will continue to work until their expiration dates. The CILogon OSG CA will remain in the IGTF distribution until July 2019. Starting June 2016, the CILogon OSG CA is issuing certificates for users, hosts and services for OSG. The CILogon OSG CA is jointly operated with XSEDE. Combined with OSG Registration Authority and the OSG Information Management System, the CILogon OSG CA will provide the essential certificate services to the OSG community, including the personal, host and service certificates. The transition from DigiCert CA to CILogon OSG CA was completed on May 31st, 2016. All user, host and service certificates are issued by CILogon OSG CA. All OSG Virtual Organizations (VOs) were transitioned successfully to CILogon OSG CA. All certificates issued by DigiCert CA will continue to work until its expiration date","title":"CILogon OSG CA"},{"location":"CILogonOSGFAQ/#what-are-we-using-from-cilogon","text":"Note, we are not using CILogon Basic CA. We are using CILogon HSM which is completely different from CILogon Basic. Note that CILogon has 4 different backend services and they are all different, we are using HSM. If you have a CILogon Basic certificate, you can continue to use that, but when you get a new certificate from OSG, you will get a CILogon HSM, not a CILogon Basic one, so it will be different. How do I get user certificates? How do I get host or server certificates?","title":"What are we using from CILogon?"},{"location":"CILogonOSGFAQ/#frequently-asked-questions","text":"","title":"Frequently Asked Questions"},{"location":"CILogonOSGFAQ/#does-this-transition-mean-that-my-local-site-will-pay-for-certificates","text":"No. No changes to current process with regard to fees.","title":"Does this transition mean that my local site will pay for certificates?"},{"location":"CILogonOSGFAQ/#what-does-this-transition-mean-for-the-end-user-what-does-the-end-user-need-to-do-to-get-new-certificates","text":"Once end users' certificates are near expiring, they go to OIM to get a new certificate. The process is the same, but the distinguished name (DN) in the certifcate will be the new provider instead of DigiCert. Users will need to register their new DN with whatever services they access: DocDB?, twiki, etc. Note, the transition team will provide a script to automatically register the new DN with VOMS.","title":"What does this transition mean for the end user? What does the end user need to do to get new certificates?"},{"location":"CILogonOSGFAQ/#i-am-a-gridadminra-agent-will-i-have-the-same-privileges-if-so-will-you-require-anything-from-my-home-institution","text":"Yes, you will continue to act as a GridAdmin. Your home institution is not required to do anything for you to obtain this privilege.","title":"I am a GridAdmin/RA Agent. Will I have the same privileges? If so, will you require anything from my home institution?"},{"location":"CILogonOSGFAQ/#will-the-new-certificates-be-trusted-by-browsers-so-we-dont-get-all-sorts-of-warnings-popping-up","text":"Since the previous one was commercial, they paid money to be accepted by browsers. Warning messages may well pop up.","title":"Will the new certificates be trusted by browsers so we don't get all sorts of warnings popping up?"},{"location":"CaDistribution/","text":"OSG Certificate Authority Distribution About This Document The OSG Certificate Authority Distribution contains information about Certificate Authorities (CAs) in use in OSG. Contents The OSG CA Distribution contains: IGTF Distribution of Authority Root Certificates (CAs accredited by the International Grid Trust Federation ) For additional details, see the distribution site and change log . CA Certificate Installation and Update provides you with details of various options to install the Certificate Authority (CA) certificates and have up-to-date certificate revocation list (CRL) using OSG RPMs. In the OSG repositories, there are two different sets of predefined CA certificates: osg-ca-certs and igtf-ca-certs. In the past, these two packages had different content and some unaccredited CA were distributed. As of February 19, 2018, the content of both packages is identical. News Effective 25 June 2010 the old FNAL_KCA has been removed, in OSG CA package version 1.15. FNAL KCA (e1fce4e9) Production services on OSG should NOT install (or reference via yum or apt) the ITB version of the CA distribution since it may, at times, contain an untrustworthy CA certificate for testing purposes Effective March 10, 2009, the OSG Security Team has removed the following unused non-IGTF CAs from the OSG CA distribution: PSC Kerberos CA (290a3b29) PSC Root CA (9b88e95b) PSC Hosts CA (acc06fda) SDSC (3deda549) NPACI (b89793e4) TACC (9a1da9f9) old NCSA CA (4a6cd8b1) If you are aware of any use of these CAs in OSG, so that they should continue to be included in the OSG CA distribution, please notify security@opensciencegrid.org immediately. References OSG CA Certificates Hosted By GOC OSG GOC Yum Repository","title":"Certificate Authorities (CA) Distribution"},{"location":"CaDistribution/#osg-certificate-authority-distribution","text":"","title":"OSG Certificate Authority Distribution"},{"location":"CaDistribution/#about-this-document","text":"The OSG Certificate Authority Distribution contains information about Certificate Authorities (CAs) in use in OSG.","title":"About This Document"},{"location":"CaDistribution/#contents","text":"The OSG CA Distribution contains: IGTF Distribution of Authority Root Certificates (CAs accredited by the International Grid Trust Federation ) For additional details, see the distribution site and change log . CA Certificate Installation and Update provides you with details of various options to install the Certificate Authority (CA) certificates and have up-to-date certificate revocation list (CRL) using OSG RPMs. In the OSG repositories, there are two different sets of predefined CA certificates: osg-ca-certs and igtf-ca-certs. In the past, these two packages had different content and some unaccredited CA were distributed. As of February 19, 2018, the content of both packages is identical.","title":"Contents"},{"location":"CaDistribution/#news","text":"Effective 25 June 2010 the old FNAL_KCA has been removed, in OSG CA package version 1.15. FNAL KCA (e1fce4e9) Production services on OSG should NOT install (or reference via yum or apt) the ITB version of the CA distribution since it may, at times, contain an untrustworthy CA certificate for testing purposes Effective March 10, 2009, the OSG Security Team has removed the following unused non-IGTF CAs from the OSG CA distribution: PSC Kerberos CA (290a3b29) PSC Root CA (9b88e95b) PSC Hosts CA (acc06fda) SDSC (3deda549) NPACI (b89793e4) TACC (9a1da9f9) old NCSA CA (4a6cd8b1) If you are aware of any use of these CAs in OSG, so that they should continue to be included in the OSG CA distribution, please notify security@opensciencegrid.org immediately.","title":"News"},{"location":"CaDistribution/#references","text":"OSG CA Certificates Hosted By GOC OSG GOC Yum Repository","title":"References"},{"location":"IncidentDiscoveryReporting/","text":"Incident Discovery and Reporting Reporting a problem If you suspect a security problem, please report it immediately . Also do NOT forget to report security incidents to your local/home organization's incident response team. Please promptly report security incidents involving OSG resources via email to security@opensciencegrid.org . Please include the following information in your report: Your name, email address, phone number. A description of the incident, including time(s), systems and user accounts involved, and any related event. What is your affiliation with the OSG? Which Virtual Organization are you a member of? Did this incident occur on a Site machine or on a VO machine or on your personal computer? Please provide detailed information (names, IPs, URLs, etc.) if you have Do you think your grid identity (certificate and/or proxy) is compromised? Any additional comments or questions you have What to do after an incident is reported Note If you have not reported the incident to your local security team AND the OSG security team, report the incident now. Note You will first want to notify your local security contacts. The local security contacts will help with hands-on examination. Then, make sure to report the incident to OSG. Compromised machine If it is initially determined that the machine has been compromised, then here are a couple of steps to take: Note Do not turn the machine off. There may be processes and/or live data that an incident responder may want to obtain on the machine. Note Do not delete any files. Do not wipe off and re-install the system. Get the machine off the network so it cannot do any more damage. The easiest way to do this will be to unplug the network cable from the machine. If this is a remote machine, or you are not sure where the machine is, then you will likely need to contact the local security or networking group and have them block the machine at the border or at the network jack. Take notes including timestamps of actions performed while investigating and isolating the machine. Compromised account If you have determined that this incident has a compromised account(s) then you should follow below two steps: Banning a user Revoking a certificate Whether you are an end user and have discovered that your certificate was compromised, or a system administrator who needs to revoke one or many certificates that were discovered to be compromised. End user revoking a certificate If you think that your certificate has been compromised in any way then it is the safest bet to go ahead and revoke your certificate and get a new one. Using the web browser where your certificate and private key are installed, go to the OIM interface , choose the appropriate type of certificate and click on the Search button. Enter details as to why the certificate is being revoked and click on the Revoke button. You can get a new one afterward from the same location. There are currently no options to revoke a certificate from the command line. Getting a new user certificate . System administrator revoking a certificate(s) If you are a system administrator and have discovered that one (or more) user certificates on your system have been compromised then you will need to have these certificates revoked. Users can revoke their own certificates, but only a Registration Authority Agent (RAA) for a Certificate Authority (CA) can revoke a certificate not owned by them. So you will need to determine what CA's the certificates on your system belong to and then contact a RAA for that CA and have them revoke the certificates for you. Additional steps If you are tasked with doing the forensic analysis, there are additional steps you can take. However, if an administrator or security engineer is going to be looking into the incident then you should leave the basic forensic analysis to them to insure that no data is destroyed during the investigation.","title":"Incident Discovery Reporting"},{"location":"IncidentDiscoveryReporting/#incident-discovery-and-reporting","text":"","title":"Incident Discovery and Reporting"},{"location":"IncidentDiscoveryReporting/#reporting-a-problem","text":"If you suspect a security problem, please report it immediately . Also do NOT forget to report security incidents to your local/home organization's incident response team. Please promptly report security incidents involving OSG resources via email to security@opensciencegrid.org . Please include the following information in your report: Your name, email address, phone number. A description of the incident, including time(s), systems and user accounts involved, and any related event. What is your affiliation with the OSG? Which Virtual Organization are you a member of? Did this incident occur on a Site machine or on a VO machine or on your personal computer? Please provide detailed information (names, IPs, URLs, etc.) if you have Do you think your grid identity (certificate and/or proxy) is compromised? Any additional comments or questions you have","title":"Reporting a problem"},{"location":"IncidentDiscoveryReporting/#what-to-do-after-an-incident-is-reported","text":"Note If you have not reported the incident to your local security team AND the OSG security team, report the incident now. Note You will first want to notify your local security contacts. The local security contacts will help with hands-on examination. Then, make sure to report the incident to OSG.","title":"What to do after an incident is reported"},{"location":"IncidentDiscoveryReporting/#compromised-machine","text":"If it is initially determined that the machine has been compromised, then here are a couple of steps to take: Note Do not turn the machine off. There may be processes and/or live data that an incident responder may want to obtain on the machine. Note Do not delete any files. Do not wipe off and re-install the system. Get the machine off the network so it cannot do any more damage. The easiest way to do this will be to unplug the network cable from the machine. If this is a remote machine, or you are not sure where the machine is, then you will likely need to contact the local security or networking group and have them block the machine at the border or at the network jack. Take notes including timestamps of actions performed while investigating and isolating the machine.","title":"Compromised machine"},{"location":"IncidentDiscoveryReporting/#compromised-account","text":"If you have determined that this incident has a compromised account(s) then you should follow below two steps:","title":"Compromised account"},{"location":"IncidentDiscoveryReporting/#banning-a-user","text":"","title":"Banning a user"},{"location":"IncidentDiscoveryReporting/#revoking-a-certificate","text":"Whether you are an end user and have discovered that your certificate was compromised, or a system administrator who needs to revoke one or many certificates that were discovered to be compromised.","title":"Revoking a certificate"},{"location":"IncidentDiscoveryReporting/#end-user-revoking-a-certificate","text":"If you think that your certificate has been compromised in any way then it is the safest bet to go ahead and revoke your certificate and get a new one. Using the web browser where your certificate and private key are installed, go to the OIM interface , choose the appropriate type of certificate and click on the Search button. Enter details as to why the certificate is being revoked and click on the Revoke button. You can get a new one afterward from the same location. There are currently no options to revoke a certificate from the command line. Getting a new user certificate .","title":"End user revoking a certificate"},{"location":"IncidentDiscoveryReporting/#system-administrator-revoking-a-certificates","text":"If you are a system administrator and have discovered that one (or more) user certificates on your system have been compromised then you will need to have these certificates revoked. Users can revoke their own certificates, but only a Registration Authority Agent (RAA) for a Certificate Authority (CA) can revoke a certificate not owned by them. So you will need to determine what CA's the certificates on your system belong to and then contact a RAA for that CA and have them revoke the certificates for you.","title":"System administrator revoking a certificate(s)"},{"location":"IncidentDiscoveryReporting/#additional-steps","text":"If you are tasked with doing the forensic analysis, there are additional steps you can take. However, if an administrator or security engineer is going to be looking into the incident then you should leave the basic forensic analysis to them to insure that no data is destroyed during the investigation.","title":"Additional steps"},{"location":"JoiningLeavingSecurityTeam/","text":"","title":"JoiningLeavingSecurityTeam"},{"location":"LetsEncryptOSGCAbundle/","text":"Note This procedure has been added on April 26th, 2018 as part of the OSG Service Migration Plan (see references below) As a part of the Service Migration Plan , we will be adding the Let\u2019s Encrypt root certificate to the OSG CA certificate bundle. The OSG has traditionally included a handful of CAs in addition to the IGTF-Classic Certificate Authorities (CAs) for signing host certificates. These CAs often rely on manual, multi-step processes for signing certificates that add administrative overhead. Many modern operational environments would like to spin up hosts in response to changing user demand but the manual process often proves to be too slow for certificate procurement and revocation. Let\u2019s Encrypt is an automated CA system that relies on a FQDN\u2019s authoritative DNS records to identify and confirm a host\u2019s identity. Let\u2019s Encrypt also provides short-lived certificates in a secure manner with a minimum of overhead and automated renewal. Unlike the IGTF-Classic CAs, certificates from Let\u2019s Encrypt will be recognized by your browser and OS by default. Let\u2019s Encrypt, however, does not confirm the organization that is running the host in the same manner as the IGTF-Classic CAs; we believe the additional IGTF checks are redundant with the registration and service discovery steps done on the OSG. OSG has separate registration procedures for services on the OSG that verifies the organizations; no access is given solely based on the possession of a host certificate. For more details please consult the OSG Information Security Officer's position paper on the Let's Encrypt CA for Host Certificate Signing. This is the upcoming change likely to be most relevant to security contacts during the migration. For more details on the migration plan please consult the Service Migration Plan document .","title":"Including Let\u2019s Encrypt signing certificate in OSG CA bundle"},{"location":"OSGCertificateService/","text":"OSG Certificate Service Warning OSG CA stopped issuing certificates on May 31st, 2018. After this date, new certificates from the CILogon OSG CA cannot be requested and therefore will no longer be issued. All certificates issued by CILogon OSG CA will continue to work until their expiration dates. The CILogon OSG CA will remain in the IGTF distribution until July 2019. OSG collaborated with XSEDE team to create a new CA service, CILogon OSG CA. Combined with OSG Registration Authority and the OSG Information Management System, the CILogon OSG CA will provide the essential certificate services to the OSG community, including the personal and host/service certificates. OSG Information Security Officer\u2019s position paper on the Let\u2019s Encrypt CA for Host Certificate Signing OSG Information Security Officer\u2019s position paper on the Let\u2019s Encrypt CA for Host Certificate Signing The CILogon OSG Frequently Asked Questions (FAQ) CILogon OSG FAQ The CILogon OSG CA Certificate Policy (CP) and Certification Practice Statement (CPS) CILogon OSG CA CP/CPS V3 PDF version CILogon OSG CA CP/CPS V3 docx version History Version 2 CILogon OSG CA CP/CPS V2 PDF version CILogon OSG CA CP/CPS V2 docx version Version 3 CILogon OSG CA CP/CPS V1 PDF version CILogon OSG CA CP/CPS V1 docx version Certificate Subscriber Agreement Certificate Subscriber Agreement OSG CILogon CA Essential Information Certificate Policy OID 1.3.6.1.4.1.34998.1.6.2 Self-signed CA Certificate PEM format cilogon-osg.pem Self-signed CA Certificate DER format cilogon-osg.crt Self-signed CA Certificate Human Readable CILogon OSG CA Signing Policy File cilogon-osg.signing_policy CRL URL File cilogon-osg.crl_url INFO File cilogon-osg.info CRL File in PEM Format cilogon-osg.r0 CRL File DER Format cilogon-osg.crl Sample personal certificate in PEM format user-sample.pem Sample personal certificate Human Readable User Sample Human Readable Sample host certificate in PEM format host-sample.pem Sample host certificate in Human Readable Host Sample HumanReadable OpenSSL 1.0 hash value 70d35895 SHA-1 Fingerprint 5C:5C:24:5C:2F:05:24:EC:24:45:8D:5B:D8:F2:82:9B:EE:68:22:A8 OSG Contact Information The CP/CPS is managed by OSG Security Officer and can be reached at: Susan E. Sons OSG Security Officer 2719 E. 10th Street, Suite 231 Bloomington, IN 47408 Office: 812-856-2949 Fax: 812-856-7400 osg-security-team AT opensciencegrid.org sesons AT iu.edu","title":"CILogon OSG CA"},{"location":"OSGCertificateService/#osg-certificate-service","text":"Warning OSG CA stopped issuing certificates on May 31st, 2018. After this date, new certificates from the CILogon OSG CA cannot be requested and therefore will no longer be issued. All certificates issued by CILogon OSG CA will continue to work until their expiration dates. The CILogon OSG CA will remain in the IGTF distribution until July 2019. OSG collaborated with XSEDE team to create a new CA service, CILogon OSG CA. Combined with OSG Registration Authority and the OSG Information Management System, the CILogon OSG CA will provide the essential certificate services to the OSG community, including the personal and host/service certificates.","title":"OSG Certificate Service"},{"location":"OSGCertificateService/#osg-information-security-officers-position-paper-on-the-lets-encrypt-ca-for-host-certificate-signing","text":"OSG Information Security Officer\u2019s position paper on the Let\u2019s Encrypt CA for Host Certificate Signing","title":"OSG Information Security Officer\u2019s position paper on the Let\u2019s Encrypt CA for Host Certificate Signing"},{"location":"OSGCertificateService/#the-cilogon-osg-frequently-asked-questions-faq","text":"CILogon OSG FAQ","title":"The CILogon OSG Frequently Asked Questions (FAQ)"},{"location":"OSGCertificateService/#the-cilogon-osg-ca-certificate-policy-cp-and-certification-practice-statement-cps","text":"CILogon OSG CA CP/CPS V3 PDF version CILogon OSG CA CP/CPS V3 docx version","title":"The CILogon OSG CA Certificate Policy (CP) and Certification Practice Statement (CPS)"},{"location":"OSGCertificateService/#history","text":"","title":"History"},{"location":"OSGCertificateService/#version-2","text":"CILogon OSG CA CP/CPS V2 PDF version CILogon OSG CA CP/CPS V2 docx version","title":"Version 2"},{"location":"OSGCertificateService/#version-3","text":"CILogon OSG CA CP/CPS V1 PDF version CILogon OSG CA CP/CPS V1 docx version","title":"Version 3"},{"location":"OSGCertificateService/#certificate-subscriber-agreement","text":"Certificate Subscriber Agreement","title":"Certificate Subscriber Agreement"},{"location":"OSGCertificateService/#osg-cilogon-ca-essential-information","text":"Certificate Policy OID 1.3.6.1.4.1.34998.1.6.2 Self-signed CA Certificate PEM format cilogon-osg.pem Self-signed CA Certificate DER format cilogon-osg.crt Self-signed CA Certificate Human Readable CILogon OSG CA Signing Policy File cilogon-osg.signing_policy CRL URL File cilogon-osg.crl_url INFO File cilogon-osg.info CRL File in PEM Format cilogon-osg.r0 CRL File DER Format cilogon-osg.crl Sample personal certificate in PEM format user-sample.pem Sample personal certificate Human Readable User Sample Human Readable Sample host certificate in PEM format host-sample.pem Sample host certificate in Human Readable Host Sample HumanReadable OpenSSL 1.0 hash value 70d35895 SHA-1 Fingerprint 5C:5C:24:5C:2F:05:24:EC:24:45:8D:5B:D8:F2:82:9B:EE:68:22:A8","title":"OSG CILogon CA Essential Information"},{"location":"OSGCertificateService/#osg-contact-information","text":"The CP/CPS is managed by OSG Security Officer and can be reached at: Susan E. Sons OSG Security Officer 2719 E. 10th Street, Suite 231 Bloomington, IN 47408 Office: 812-856-2949 Fax: 812-856-7400 osg-security-team AT opensciencegrid.org sesons AT iu.edu","title":"OSG Contact Information"},{"location":"OSGSecurityAnnouncements-x86/","text":"OSG Security Announcements for vulnerabilities in x86 All security announcements related to x86 vulnerabilities are listed here. Date Title Contents/Link Risk 2018-08-17 CPU speculative execution vulnerabilities (Foreshadow) OSG-SEC-2018-08-17 2018-05-08 CPU speculative execution vulnerabilities (Spectre and Meltdown) OSG-SEC-2018-01-04 UPDATE 2018-01-22 CPU speculative execution vulnerabilities (Spectre and Meltdown) OSG-SEC-2018-01-04 UPDATE 2018-01-10 CPU speculative execution vulnerabilities (Spectre and Meltdown) OSG-SEC-2018-01-04 UPDATE 2018-01-04 CPU speculative execution vulnerabilities (Spectre and Meltdown) OSG-SEC-2018-01-04","title":"Overview x86 vulnerabilities"},{"location":"OSGSecurityAnnouncements-x86/#osg-security-announcements-for-vulnerabilities-in-x86","text":"All security announcements related to x86 vulnerabilities are listed here. Date Title Contents/Link Risk 2018-08-17 CPU speculative execution vulnerabilities (Foreshadow) OSG-SEC-2018-08-17 2018-05-08 CPU speculative execution vulnerabilities (Spectre and Meltdown) OSG-SEC-2018-01-04 UPDATE 2018-01-22 CPU speculative execution vulnerabilities (Spectre and Meltdown) OSG-SEC-2018-01-04 UPDATE 2018-01-10 CPU speculative execution vulnerabilities (Spectre and Meltdown) OSG-SEC-2018-01-04 UPDATE 2018-01-04 CPU speculative execution vulnerabilities (Spectre and Meltdown) OSG-SEC-2018-01-04","title":"OSG Security Announcements for vulnerabilities in x86"},{"location":"OSGSecurityAnnouncements/","text":"Date Title Contents/Link Risk 2021-01-28 vulnerabilities in HTCondor OSG-SEC-2021-01-28 2021-01-27 heap-based buffer overflow in sudo OSG-SEC-2021-01-27 2020-10-26 CVE-2020-14386 Memory corruption in kernel on EL8 UPDATE OSG-SEC-2020-10-26 2020-09-22 CVE-2020-14386 Memory corruption in kernel on EL8 OSG-SEC-2020-09-22 2020-08-31 Vulnerabilities in frontier-squid OSG-SEC-2020-08-31 2020-05-05 Singularity and unprivileged user namespaces OSG-SEC-2020-05-05 2020-03-26 Vulnerability in xrootd-scitokens Plugin OSG-SEC-2020-03-26 2020-02-07 Vulnerabilities in Frontier Squid OSG-SEC-2020-02-07 2019-11-15 Vulnerability in Squid UPDATE 2 OSG-SEC-2019-11-15 2019-11-11 Vulnerability in Squid UPDATE OSG-SEC-2019-11-11 2019-11-08 Vulnerability in Squid OSG-SEC-2019-11-08 2019-07-25 Vulnerability in Squid OSG-SEC-2019-07-25 2019-07-03 Critical vulnerability in Singularity Update 2 OSG-SEC-2018-12-12 UPDATE 2 2019-05-14 Vulnerability in Singularity OSG-SEC-2019-05-14 2018-12-12 Critical vulnerability in Singularity Update OSG-SEC-2018-12-12 UPDATE 2018-12-12 Critical vulnerability in Singularity OSG-SEC-2018-12-12 2018-10-18 Vulnerability in Linux kernel's create_elf_tables() function OSG-SEC-2018-10-18 UPDATE 2018-10-04 Vulnerability in RedHat Ceph Storage OSG-SEC-2018-10-04 2018-10-02 Vulnerability in Linux kernel's create_elf_tables() function OSG-SEC-2018-10-02 2018-09-20 Vulnerability in AFS OSG-SEC-2018-09-20 2018-09-06 Vulnerability in Apache Struts OSG-SEC-2018-09-06 2018-08-07 Data channel encryption not guaranteed OSG-SEC-2018-08-07 2018-07-05 Vulnerabilities in Singularity OSG-SEC-2018-07-05 2018-07-03 BLAHP vulnerability OSG-SEC-2018-07-03 2018-05-23 CILogon OSG CA service retirement OSG-SEC-2018-05-23 2018-05-18 Multiple EL7 Linux kernel vulnerabilities OSG-SEC-2018-05-18 2018-05-07 Unprivileged user namespaces in Singularity OSG-SEC-2018-05-07 2018-04-30 Multiple vulnerabilities in Singularity OSG-SEC-2018-04-30 2018-04-25 Including Let's Encrypt CA in the OSG CA bundle OSG-SEC-2018-04-25 2018-04-19 Critical vulnerability in Singularity OSG-SEC-2018-04-19 UPDATE 2018-04-17 Vulnerability in MariaDB MySQL OSG-SEC-2018-04-17 2018-04-02 Critical vulnerability in Singularity OSG-SEC-2018-04-02 2018-03-27 Vulnerability in SLURM OSG-SEC-2018-03-27 2018-03-13 SAML Vulnerabilities affecting multiple implementations OSG-SEC-2018-03-13 2018-03-08 Limiting Singularity image types OSG-SEC-2018-03-08 2018-03-05 Vulnerability in Singularity OSG-SEC-2018-03-05 2018-02-28 Disable weak ciphers in SSL OSG-SEC-2018-02-28","title":"Overview"},{"location":"OSGSecurityPolicies/","text":"OSG Security Policies OSG security policies should address topics of importance to OSG stakeholders. The policies should be succinct and few. OSG security policies are developed by the OSG security team, when appropriate in conjunction with Joint Security Policy Group(see below). The security team develops implementation and assessment procedures concurrently with the policies. Draft policies are approved by the OSG Executive Board and then officially endorsed by the OSG Council according to the OSG Statement on Agreements and Policies . Approved Security Policies The following policies are approved and in effect in OSG: Master Information Security Policy & Procedures Status: v1.0 Approved by OSG Executive Director on Dec-1-2019 Grid Site Operations Policy approved by OSG Council on 2007 OSG Doc 676 OSG-VO Registration Policy and Procedure Site/VO Removal OSG Doc 737 Status: Approved by OSG Executive Director on Jul-15-2009. OSG VO Member Acceptable Use Policy OSG Doc 742 Status: approved in April 2018. Old version: OSG Doc 86 Status: v2.0 approved by OSG EB on Feb-9-2006 and endorsed by OSG Council. JSPG Doc v3.1 approved by WLCG MB on 28-Nov-2005. Note: The OSG and JSPG policies are identical. VO AUP Template Policy OSG Doc 751 Service Agreement: OSG Doc 87 Status: v1.0.4 approved by OSG EB Mar-15-2005 and endorsed by the OSG Council. Open Science Grid Privacy Policy: OSG Doc 741 Status: v3.8 approved by OSG Executive Director on Dec-16-2008. Certificate Authorities: OSG Doc 752 Status: v1.0 approved by OSG Facilities Aug-09-2007. v2.2 approved by OSG Executive Director on Dec-16-2008. JSPG Doc v2.5 approved by WLCG and EGEE. v2.8 approved by WLCG MB and EGEE TMB Aug 2008. Note: v1.0 of the OSG policy adds operational details to the JSPG policy. OSG Service Container Security Policy v1.0 Approved by OSG Executive Director on Dec-1-2019 Security Incident Response Policy Incident Response policies and Procedures v1.0 Approved by OSG Executive Director on Dec-1-2019 Incident Discovery/Reporting OSG Doc 875 OSG Connect Login Server Open Port Policy","title":"Approved OSG Security Policies"},{"location":"OSGSecurityPolicies/#osg-security-policies","text":"OSG security policies should address topics of importance to OSG stakeholders. The policies should be succinct and few. OSG security policies are developed by the OSG security team, when appropriate in conjunction with Joint Security Policy Group(see below). The security team develops implementation and assessment procedures concurrently with the policies. Draft policies are approved by the OSG Executive Board and then officially endorsed by the OSG Council according to the OSG Statement on Agreements and Policies .","title":"OSG Security Policies"},{"location":"OSGSecurityPolicies/#approved-security-policies","text":"The following policies are approved and in effect in OSG: Master Information Security Policy & Procedures Status: v1.0 Approved by OSG Executive Director on Dec-1-2019 Grid Site Operations Policy approved by OSG Council on 2007 OSG Doc 676 OSG-VO Registration Policy and Procedure Site/VO Removal OSG Doc 737 Status: Approved by OSG Executive Director on Jul-15-2009. OSG VO Member Acceptable Use Policy OSG Doc 742 Status: approved in April 2018. Old version: OSG Doc 86 Status: v2.0 approved by OSG EB on Feb-9-2006 and endorsed by OSG Council. JSPG Doc v3.1 approved by WLCG MB on 28-Nov-2005. Note: The OSG and JSPG policies are identical. VO AUP Template Policy OSG Doc 751 Service Agreement: OSG Doc 87 Status: v1.0.4 approved by OSG EB Mar-15-2005 and endorsed by the OSG Council. Open Science Grid Privacy Policy: OSG Doc 741 Status: v3.8 approved by OSG Executive Director on Dec-16-2008. Certificate Authorities: OSG Doc 752 Status: v1.0 approved by OSG Facilities Aug-09-2007. v2.2 approved by OSG Executive Director on Dec-16-2008. JSPG Doc v2.5 approved by WLCG and EGEE. v2.8 approved by WLCG MB and EGEE TMB Aug 2008. Note: v1.0 of the OSG policy adds operational details to the JSPG policy. OSG Service Container Security Policy v1.0 Approved by OSG Executive Director on Dec-1-2019 Security Incident Response Policy Incident Response policies and Procedures v1.0 Approved by OSG Executive Director on Dec-1-2019 Incident Discovery/Reporting OSG Doc 875 OSG Connect Login Server Open Port Policy","title":"Approved Security Policies"},{"location":"OSGSecurityProcedures/","text":"OSG Security Procedures OSG has the following documented security procedures: References and Related Information (verify accuracy of this info) WLCG OSG participants who participate in WLCG are also subject to WLCG/EGI Security Policies .","title":"OSG Security Procedures"},{"location":"OSGSecurityProcedures/#osg-security-procedures","text":"OSG has the following documented security procedures:","title":"OSG Security Procedures"},{"location":"OSGSecurityProcedures/#references-and-related-information-verify-accuracy-of-this-info","text":"","title":"References and Related Information (verify accuracy of this info)"},{"location":"OSGSecurityProcedures/#wlcg","text":"OSG participants who participate in WLCG are also subject to WLCG/EGI Security Policies .","title":"WLCG"},{"location":"SecureCommunicationsOSG/","text":"Secure communications in OSG This document covers using secure email when communicating with the OSG security team. The OSG Security team encourages the use of secure email communication. All official announcements from the OSG security team will be digitally signed. We encourage you to verify the digital signatures on OSG security announcements. Also when sending sensitive information to the OSG security team, we encourage you to encrypt your messages. OSG Security PGP Key User ID: Open Science Grid Security <security@opensciencegrid.org> Key ID: 7FD42669 Expires: Fingerprint: 6E5F 4DD8 7ABC 9F68 A49B F3CA 15E3 B3AD 7FD4 2669 The team key is available from the Security Team Members page or the MIT PGP server . PGP software is available from: GnuPG Generating a PGP signature for a message Install GnuPG if it is not already installed on your computer. Verifying a PGP signature Install GnuPG if it is not already installed on your computer. Save osg-security-pubkey.asc to a file on your computer. Import the security@opensciencegrid.org public key: [user@client ~]$ gpg --import < osg-security-pubkey.asc gpg: key 7FD42669: public key \"Open Science Grid Security <security@opensciencegrid.org>\" imported gpg: Total number processed: 1 gpg: imported: 1 Verify the message (saved in signed-message.txt) [user@client ~]$ gpg --verify < signed-message.txt gpg: Signature made Tue Apr 14 13:18:26 2010 CDT using DSA key ID 7FD42669 gpg: Good signature from \"Open Science Grid Security <security@opensciencegrid.org>\"","title":"Secure Communications in OSG"},{"location":"SecureCommunicationsOSG/#secure-communications-in-osg","text":"This document covers using secure email when communicating with the OSG security team. The OSG Security team encourages the use of secure email communication. All official announcements from the OSG security team will be digitally signed. We encourage you to verify the digital signatures on OSG security announcements. Also when sending sensitive information to the OSG security team, we encourage you to encrypt your messages.","title":"Secure communications in OSG"},{"location":"SecureCommunicationsOSG/#osg-security-pgp-key","text":"User ID: Open Science Grid Security <security@opensciencegrid.org> Key ID: 7FD42669 Expires: Fingerprint: 6E5F 4DD8 7ABC 9F68 A49B F3CA 15E3 B3AD 7FD4 2669 The team key is available from the Security Team Members page or the MIT PGP server . PGP software is available from: GnuPG","title":"OSG Security PGP Key"},{"location":"SecureCommunicationsOSG/#generating-a-pgp-signature-for-a-message","text":"Install GnuPG if it is not already installed on your computer.","title":"Generating a PGP signature for a message"},{"location":"SecureCommunicationsOSG/#verifying-a-pgp-signature","text":"Install GnuPG if it is not already installed on your computer. Save osg-security-pubkey.asc to a file on your computer. Import the security@opensciencegrid.org public key: [user@client ~]$ gpg --import < osg-security-pubkey.asc gpg: key 7FD42669: public key \"Open Science Grid Security <security@opensciencegrid.org>\" imported gpg: Total number processed: 1 gpg: imported: 1 Verify the message (saved in signed-message.txt) [user@client ~]$ gpg --verify < signed-message.txt gpg: Signature made Tue Apr 14 13:18:26 2010 CDT using DSA key ID 7FD42669 gpg: Good signature from \"Open Science Grid Security <security@opensciencegrid.org>\"","title":"Verifying a PGP signature"},{"location":"SecureEmail/","text":"Secure Email in OSG About This Document This document covers using secure email when communicating with the OSG security team. The OSG Security team encourages the use of secure email communication. All official announcements from the OSG security team will be digitally signed. We encourage you to verify the digital signatures on OSG security announcements. Also when sending sensitive information to the OSG security team, we encourage you to encrypt your messages. News 2010-01-28: The OSG security team has updated the PGP key for security@opensciencegrid.org . OSG Security PGP key User ID: Open Science Grid Security <security@opensciencegrid.org> Key ID: 7FD42669 Expires: Fingerprint: 6E5F 4DD8 7ABC 9F68 A49B F3CA 15E3 B3AD 7FD4 2669 The team key is available from the Security Team Members page or the MIT PGP server . PGP software is available from: GnuPG Verifying a PGP signature Install GnuPG if it is not already installed on your computer. Save osg-security-pubkey.asc to a file on your computer. Import the security@opensciencegrid.org public key: [user@client ~]$ gpg --import < osg-security-pubkey.asc gpg: key 7FD42669: public key \"Open Science Grid Security <security@opensciencegrid.org>\" imported gpg: Total number processed: 1 gpg: imported: 1 Save the message you want to verify to a file on your system (for example: signed-message.txt ). Verify the message: [user@client ~]$ gpg --verify < signed-message.txt gpg: Signature made Tue Apr 14 13:18:26 2010 CDT using DSA key ID 7FD42669 gpg: Good signature from \"Open Science Grid Security <security@opensciencegrid.org>\" To verify additional messages, only steps 4-5 are required. When the security@opensciencegrid.org public key expires, you will need to perform steps 2-3 again for the new public key. Encrypting a PGP message Install GnuPG if it is not already installed on your computer. Save osg-security-pubkey.asc to a file on your computer. Import the security@opensciencegrid.org public key: [user@client ~]$ gpg --import < osg-security-pubkey.asc gpg: key 7FD42669: public key \"Open Science Grid Security <security@opensciencegrid.org>\" imported gpg: Total number processed: 1 gpg: imported: 1 Save the message you want to encrypt to a file on your system named message.txt. Encrypt the message: [user@client ~]$ gpg --recipient security@opensciencegrid.org -a --encrypt < message.txt > encrypted-message.txt Send the encrypted-message.txt file in email to security@opensciencegrid.org . To encrypt additional messages, only steps 4-6 are required. When the security@opensciencegrid.org public key expires, you will need to perform steps 2-3 again for the new public key. Other PGP Clients Enigmail OpenPGP plugin for Thunderbird The OpenPGP plugin for Thunderbird provides a well integrated user interface for key management and email signing and verification that uses GnuPG underneath. Signing an S/MIME message with your certificate The following is a command line instruction on how to sign an email with your certificate. Instructions for web clients is below. [user@client ~]$ openssl smime -sign -signer ~/.globus/usercert.pem -inkey ~/.globus/userkey.pem -in message.txt | mail -s \"email subject\" person@example.com message.txt - body of the email message ~/.globus/usercert.pem, userkey.pem - your personal grid certificate person@example.com - address where email is to be sent Alternatively, you can send message.txt as an attachment with nearly any email client. It generally works better to send the signed file as an attachment rather than copying it into the body of the message because various email clients and particularly web interfaces to email often modify the message body and therefore break the digital signature. Email client instructions With the diversity of different web and various mail clients it is difficult to keep instructions up-to-date on how to deal with certificates. So below we link to a few different sites that deal in X509 certificates and have good instructions on signing emails, as well as other topics dealing with certificates. Thawte's how to sign an email instructions. Verisign certificate instructions. Verifying an S/MIME signed message [user@client ~]$ openssl smime -verify -in message.txt -CApath $X509_CERT_DIR -signer sendercert.pem [user@client ~]$ openssl x509 -in sendercert.pem -noout -subject -email -serial -dates message.txt - body of email message received note that the line beginning \"Content-Type\" and including 'boundary=\"---' must be a single line and not get broken or wrapped. sendercert.pem - the certificate used by the sender to sign the message, is extracted with the openssl smime command openssl x5091 command above will display the subject, email address, serial number and validity dates of the signer's certificate","title":"SecureEmail"},{"location":"SecureEmail/#secure-email-in-osg","text":"","title":"Secure Email in OSG"},{"location":"SecureEmail/#about-this-document","text":"This document covers using secure email when communicating with the OSG security team. The OSG Security team encourages the use of secure email communication. All official announcements from the OSG security team will be digitally signed. We encourage you to verify the digital signatures on OSG security announcements. Also when sending sensitive information to the OSG security team, we encourage you to encrypt your messages.","title":"About This Document"},{"location":"SecureEmail/#news","text":"2010-01-28: The OSG security team has updated the PGP key for security@opensciencegrid.org .","title":"News"},{"location":"SecureEmail/#osg-security-pgp-key","text":"User ID: Open Science Grid Security <security@opensciencegrid.org> Key ID: 7FD42669 Expires: Fingerprint: 6E5F 4DD8 7ABC 9F68 A49B F3CA 15E3 B3AD 7FD4 2669 The team key is available from the Security Team Members page or the MIT PGP server . PGP software is available from: GnuPG","title":"OSG Security PGP key"},{"location":"SecureEmail/#verifying-a-pgp-signature","text":"Install GnuPG if it is not already installed on your computer. Save osg-security-pubkey.asc to a file on your computer. Import the security@opensciencegrid.org public key: [user@client ~]$ gpg --import < osg-security-pubkey.asc gpg: key 7FD42669: public key \"Open Science Grid Security <security@opensciencegrid.org>\" imported gpg: Total number processed: 1 gpg: imported: 1 Save the message you want to verify to a file on your system (for example: signed-message.txt ). Verify the message: [user@client ~]$ gpg --verify < signed-message.txt gpg: Signature made Tue Apr 14 13:18:26 2010 CDT using DSA key ID 7FD42669 gpg: Good signature from \"Open Science Grid Security <security@opensciencegrid.org>\" To verify additional messages, only steps 4-5 are required. When the security@opensciencegrid.org public key expires, you will need to perform steps 2-3 again for the new public key.","title":"Verifying a PGP signature"},{"location":"SecureEmail/#encrypting-a-pgp-message","text":"Install GnuPG if it is not already installed on your computer. Save osg-security-pubkey.asc to a file on your computer. Import the security@opensciencegrid.org public key: [user@client ~]$ gpg --import < osg-security-pubkey.asc gpg: key 7FD42669: public key \"Open Science Grid Security <security@opensciencegrid.org>\" imported gpg: Total number processed: 1 gpg: imported: 1 Save the message you want to encrypt to a file on your system named message.txt. Encrypt the message: [user@client ~]$ gpg --recipient security@opensciencegrid.org -a --encrypt < message.txt > encrypted-message.txt Send the encrypted-message.txt file in email to security@opensciencegrid.org . To encrypt additional messages, only steps 4-6 are required. When the security@opensciencegrid.org public key expires, you will need to perform steps 2-3 again for the new public key.","title":"Encrypting a PGP message"},{"location":"SecureEmail/#other-pgp-clients","text":"","title":"Other PGP Clients"},{"location":"SecureEmail/#enigmail-openpgp-plugin-for-thunderbird","text":"The OpenPGP plugin for Thunderbird provides a well integrated user interface for key management and email signing and verification that uses GnuPG underneath.","title":"Enigmail OpenPGP plugin for Thunderbird"},{"location":"SecureEmail/#signing-an-smime-message-with-your-certificate","text":"The following is a command line instruction on how to sign an email with your certificate. Instructions for web clients is below. [user@client ~]$ openssl smime -sign -signer ~/.globus/usercert.pem -inkey ~/.globus/userkey.pem -in message.txt | mail -s \"email subject\" person@example.com message.txt - body of the email message ~/.globus/usercert.pem, userkey.pem - your personal grid certificate person@example.com - address where email is to be sent Alternatively, you can send message.txt as an attachment with nearly any email client. It generally works better to send the signed file as an attachment rather than copying it into the body of the message because various email clients and particularly web interfaces to email often modify the message body and therefore break the digital signature.","title":"Signing an S/MIME message with your certificate"},{"location":"SecureEmail/#email-client-instructions","text":"With the diversity of different web and various mail clients it is difficult to keep instructions up-to-date on how to deal with certificates. So below we link to a few different sites that deal in X509 certificates and have good instructions on signing emails, as well as other topics dealing with certificates. Thawte's how to sign an email instructions. Verisign certificate instructions.","title":"Email client instructions"},{"location":"SecureEmail/#verifying-an-smime-signed-message","text":"[user@client ~]$ openssl smime -verify -in message.txt -CApath $X509_CERT_DIR -signer sendercert.pem [user@client ~]$ openssl x509 -in sendercert.pem -noout -subject -email -serial -dates message.txt - body of email message received note that the line beginning \"Content-Type\" and including 'boundary=\"---' must be a single line and not get broken or wrapped. sendercert.pem - the certificate used by the sender to sign the message, is extracted with the openssl smime command openssl x5091 command above will display the subject, email address, serial number and validity dates of the signer's certificate","title":"Verifying an S/MIME signed message"},{"location":"SecurityAwarenessForTheOSG/","text":"Security Awareness for the OSG: OSG Security in a Nutshell About This Document This document covers what site should be knowledgeable about regarding security in the OSG. Security Awareness OSG embraces Integrated Security Management Principles , where everyone is responsible for the security. Everyone is obliged to: work diligently follow the OSG controls be proactive feed into process Our goal is to prevent the unacceptable security risks to OSG. Risk is a function of threat and vulnerability. R(Threat, Vulnerability). A threat that has no existing vulnerability at OSG does not constitute a risk; a vulnerability without any existing threat does not constitute a risk. A system with no risks can only happen when it is entirely isolated from the outside world and under tight security controls. OSG's goal is not to create a \"perfect\" system but prevent unacceptable risks. The impact of a risk is proportional to the loss caused by the risk. A risk with very small likelihood and very large loss potential has a higher impact than a risk with higher likelihood but a much smaller loss. OSG risk assessment evaluates the risks to OSG core services/assets and classifies their impacts. For example, an acceptable risk with LOW impact: A security event has LOW risk if it occurs less than 10 times per year AND does not disrupt the perception of the OSG as a reliable computational facility AND no single occurrence of the event disables substantially all of OSG\u2019s operational Compute Element service for more than two days.\u201d The OSG security plan describes the security controls (activities, audits, checks, etc) that should be followed to minimize the risks. It includes management (policies, roles and responsibilitites), operational (how people should behave) and technical (how service/machine should behave) controls. The OSG Security Officer is responsible for coordinating, monitoring, responding to, and supporting the security of the OSG infrastructure. She leads the Security Team; promotes the mechanisms of integrated security management; ensures that the OSG Staff know their responsibilities and implement them; organizes the assessment of the security controls, drawing upon others as necessary to evaluate the operation of the security office itself. OSG Software coordinator (Alain Roy) and Operations coordinator (Rob Quick) are members of the security team. The Security Officer reports to Executive Director (Ruth Pordes) and the Facility Coordinator (Miron Livny) Accountability Each VO, site, and support center is responsible for its own security. A VO, site or support center has their own security officers and are responsible for providing their own security. For example, each VO and site is expected to have their security policies stated and implemented. OSG does not develop policies or implement them on its member's behalf. The OSG security team helps OSG members by providing examples, templates, services and tools; however, the ultimate responsibility lies with the member entity to ensure its security. Each VO and site is accountable for its actions in the OSG. They are expected to follow and comply with the OSG policies. A VO is responsible for the behavior of its members. OSG provides access to users due to their membership with a VO and OSG's trust in that VO. When users violates OSG policies, OSG holds the corrsponding VO responsible and may even bar that VO from OSG membership. therefore, it is a VO's responsibility to ensure that their users understand VO and OSG policies when they join the VO. Likewise, a site is responsible for its resources and services provided to the OSG community. For example, security hygiene of the resources, the due diligence to apply security patches, and cooperating during a security incident are among the site responsibilities. A site not meeting their responsibilities may be barred from OSG membership. In a nutshell, OSG expects each of its members to comply with the OSG policies and agreements and show due diligence to follow their own security policies. (All of the security policies are listed on Security Policies and procedures table.) OSG security team carries the responsibility to protect core OSG assets and help and coordinate OSG members to achieve their own security audit and examine OSG membership based on security policies OSG core assets are owned by OSG and they are services, documents, software stack and procedures that are vital for OSG to perform its functions. The OSG security team monitors and reviews the asset protection (including services and software stack), audits the asset owners, prepares and maintains policies, and maintains operational security. For example, OSG infrastructure (the software stack) is reviewed against vulnerabilities and additional patches or improvements are requested by the security team; the configuration of OSG services are audited by the security team yearly and adjustments are requested. In order to help OSG members, the security team provides security education, template policies and tools. These tools would help members to maintain their own security. In addition, the security team develops policies for its members to follow and audits the members on compliance. The security team is responsible for reporting non-compliant behaviors to the executive board Finally the security team is responsible for maintaining the operational security in OSG. This includes: keeping up-to-date contact information from the members; ensuring the OSG infrastructure allows secure distributed computing across the member institutions; incident response and mitigation; monitoring the activity across member organizations to detect abnormalities; distributing information/help to its members about vulnerabilities and flaws; scanning and testing running services (bot member services and core assets) to measure their security health. For more information, review the OSG security Plan and this presentation","title":"Security Awareness for the OSG"},{"location":"SecurityAwarenessForTheOSG/#security-awareness-for-the-osg-osg-security-in-a-nutshell","text":"","title":"Security Awareness for the OSG: OSG Security in a Nutshell"},{"location":"SecurityAwarenessForTheOSG/#about-this-document","text":"This document covers what site should be knowledgeable about regarding security in the OSG.","title":"About This Document"},{"location":"SecurityAwarenessForTheOSG/#security-awareness","text":"OSG embraces Integrated Security Management Principles , where everyone is responsible for the security. Everyone is obliged to: work diligently follow the OSG controls be proactive feed into process Our goal is to prevent the unacceptable security risks to OSG. Risk is a function of threat and vulnerability. R(Threat, Vulnerability). A threat that has no existing vulnerability at OSG does not constitute a risk; a vulnerability without any existing threat does not constitute a risk. A system with no risks can only happen when it is entirely isolated from the outside world and under tight security controls. OSG's goal is not to create a \"perfect\" system but prevent unacceptable risks. The impact of a risk is proportional to the loss caused by the risk. A risk with very small likelihood and very large loss potential has a higher impact than a risk with higher likelihood but a much smaller loss. OSG risk assessment evaluates the risks to OSG core services/assets and classifies their impacts. For example, an acceptable risk with LOW impact: A security event has LOW risk if it occurs less than 10 times per year AND does not disrupt the perception of the OSG as a reliable computational facility AND no single occurrence of the event disables substantially all of OSG\u2019s operational Compute Element service for more than two days.\u201d The OSG security plan describes the security controls (activities, audits, checks, etc) that should be followed to minimize the risks. It includes management (policies, roles and responsibilitites), operational (how people should behave) and technical (how service/machine should behave) controls. The OSG Security Officer is responsible for coordinating, monitoring, responding to, and supporting the security of the OSG infrastructure. She leads the Security Team; promotes the mechanisms of integrated security management; ensures that the OSG Staff know their responsibilities and implement them; organizes the assessment of the security controls, drawing upon others as necessary to evaluate the operation of the security office itself. OSG Software coordinator (Alain Roy) and Operations coordinator (Rob Quick) are members of the security team. The Security Officer reports to Executive Director (Ruth Pordes) and the Facility Coordinator (Miron Livny)","title":"Security Awareness"},{"location":"SecurityAwarenessForTheOSG/#accountability","text":"Each VO, site, and support center is responsible for its own security. A VO, site or support center has their own security officers and are responsible for providing their own security. For example, each VO and site is expected to have their security policies stated and implemented. OSG does not develop policies or implement them on its member's behalf. The OSG security team helps OSG members by providing examples, templates, services and tools; however, the ultimate responsibility lies with the member entity to ensure its security. Each VO and site is accountable for its actions in the OSG. They are expected to follow and comply with the OSG policies. A VO is responsible for the behavior of its members. OSG provides access to users due to their membership with a VO and OSG's trust in that VO. When users violates OSG policies, OSG holds the corrsponding VO responsible and may even bar that VO from OSG membership. therefore, it is a VO's responsibility to ensure that their users understand VO and OSG policies when they join the VO. Likewise, a site is responsible for its resources and services provided to the OSG community. For example, security hygiene of the resources, the due diligence to apply security patches, and cooperating during a security incident are among the site responsibilities. A site not meeting their responsibilities may be barred from OSG membership. In a nutshell, OSG expects each of its members to comply with the OSG policies and agreements and show due diligence to follow their own security policies. (All of the security policies are listed on Security Policies and procedures table.) OSG security team carries the responsibility to protect core OSG assets and help and coordinate OSG members to achieve their own security audit and examine OSG membership based on security policies OSG core assets are owned by OSG and they are services, documents, software stack and procedures that are vital for OSG to perform its functions. The OSG security team monitors and reviews the asset protection (including services and software stack), audits the asset owners, prepares and maintains policies, and maintains operational security. For example, OSG infrastructure (the software stack) is reviewed against vulnerabilities and additional patches or improvements are requested by the security team; the configuration of OSG services are audited by the security team yearly and adjustments are requested. In order to help OSG members, the security team provides security education, template policies and tools. These tools would help members to maintain their own security. In addition, the security team develops policies for its members to follow and audits the members on compliance. The security team is responsible for reporting non-compliant behaviors to the executive board Finally the security team is responsible for maintaining the operational security in OSG. This includes: keeping up-to-date contact information from the members; ensuring the OSG infrastructure allows secure distributed computing across the member institutions; incident response and mitigation; monitoring the activity across member organizations to detect abnormalities; distributing information/help to its members about vulnerabilities and flaws; scanning and testing running services (bot member services and core assets) to measure their security health. For more information, review the OSG security Plan and this presentation","title":"Accountability"},{"location":"SecuritySiteResponsibilities/","text":"Site Responsibilities for Security About This Document This describes the expectations and actions that a site administrator handles regarding security issues as a participant in OSG. First, our (OSG security team) responsibilities for sites Our goal is to minimize disruptions caused by attacks or security problems so that your work is more effective and the computational resources are more productive. We recognize that participating in and operating grid resources and infrastructure is a learning experience for all of us. In addition to keeping up with vulnerabilities discovered with the grid middleware and having a security process intended to reduce the likelihood that security problems cause a significant disruption to the productive use of the resources, we strive to provide helpful information and assistance to site administrators (and other grid participants). We are sure that the information provided to site administrators and grid users is incomplete and could be greatly improved. We hope (and would like) that site administrators (and others) that have questions will ask. And, one of the main reasons that documentation is maintained on the TWIKI is so that everyone can be a participant in improving the information. We are happy to answer questions Recognizing the inherent limitations in the documented information about OSG, and because we enjoy getting to know the other people in our grid community, we expect to get questions, and are happy to answer them (if we know the answer). And if we don't know the answer we probably have an idea about where to find the answer. But we can't answer questions unless you ask, so please ask. Remember, there are no stupid questions, only stupid answers. If your question is about a suspicious behavior, possibly an incident, then email us at security@opensciencegrid.org . This is a 24*7 alert list that we immediately respond to. How can we help you more effectively? Don't hesitate to tell us how we can be more effective or to ask a question. You can email security@opensciencegrid.org or contact one of the security team members individually. Background It is expected that the administrative and security contacts for a resource registered with OSG (in OIM) are capable of dealing with the normal system administration and security practices of running a cluster of machines for scientific computing. The security materials provided on the OSG twiki occasionally mention examples of how basic computer security features could be handled but that is not a replacement for formal in-depth training on unix system administration. Having said that we know that some small site admins (e.g. Tier-3s) may not have much experience in system level security. We have started collecting some examples in a Documentation.SecurityBestPractices page (which you are welcome to contribute to). If there are particular issues that you would like to learn more about (e.g. firewall configuration, linux updates), we can gladly point you to more specific resources. We may not have the effort to train you on basic security topics, but we will try our best to give you resources and put you in the right direction. Let us know! Site Security Responsibilities The following are the top security items that sites need to follow as members in the OSG. 1. Security contact information in OIM Site security contacts can update their contact information from the OSG Information Management (OIM) system by clicking the Profile link at the top. However, you will need a personal X.509 certificate in your web browser in order to register with OIM and for access to update your information. The OSG will do a periodic assessment of the contact information (once a year) to remind users to keep their information up-to-date. But it is expected that people will keep their own information current. Note Even if there are no changes to your contact information on your profile page you will still need to update your confirmation date. At the bottom of your profile page there is a \"Confirmation\" section. You will need to click on the \"Update Confirmation Date\", and then you MUST also click on the \"Submit\" button at the bottom in order for the new confirmation date to take affect. Note Please update OIM and notify the GOC whenever the operations or security contacts for your site changes. Note Maintaining valid contact information is 50% of being a GREAT site admin! Seriously. We will send you security patch notices, updates, instructions for risk mitigation, and so on. Without valid contact information your site will not get these important notices. Also, if you become unresponsive to all of our notification attempts, we will start thinking your site is no longer participating in the OSG. 2. Read Security Notifications from OSG OSG sends out security notifications to all security contacts when important events occur, such as a vulnerability notice requiring a software update. If you receive a notice you are expected to read it and the detailed information linked to a GOC ticket (if there is a link). Note You will need your personal certificate that is registered with OIM in your browser in order to read the details of the notice in the ticket. 3. Know your institutional cyber security officer Most institutions have someone responsible for cyber security at the institution, usually reporting to the CIO (Chief Information Officer) of the institution. The person responsible may have the title of Cyber Security Officer, or Computer Protection Program Manager, or some other title. They are typically responsible for security of the central IT systems, network security, and security awareness training for the users at that institution. You should know who that person is. If you don't know who that is, consider the following scenario: A suspicious process is found running on one of your compute elements. Doing some initial checks it appears that there may be some additional problems on the machine and a rootkit may be installed. Who is going to come help investigate? It will likely be someone from the local cyber security officer's team. They will also likely have the resources and data to determine the extent of the compromise at your site and the risks to the other machines on the network. You should introduce yourself to the cyber security officer and discuss any institutional requirements for the operation of your grid site. Remember your local security team is always the primary party responsible for the security of your site. They may want to understand what your participation in OSG means. 4. Maintain up-to-date VO and user access information Each VO on OSG keeps a up-to-date list of their members. These are the users that should be given access to sites on behalf of the VOs. It is important to keep these lists up to date so that when VO removes a user for whatever reason, your site would also stop providing access to the particular user. 5. Reporting and Responding to Security Incidents The goal of the OSG security team in incident handling is to first contain the incident to prevent it from spreading, and then to help the site administrators diagnose the cause or vulnerability of the incident. Then we can learn from the incident and improve the infrastructure accordingly. Because we are participating in a world wide infrastructure, the OSG will confidentially share information about incidents that is relevant to our partners in other countries. This means that we will keep you in the loop before we disclose any information about your site. When you first contact us, we will work with you and your local security team to decide what information we can share with other communities. We will not endanger your site's public reputation. We will share information when we believe other grid sites also subject to the same attack. Any circumstance that causes the grid credentials (X.509 certificate private key or proxy certificate) to be compromised should be reported to the OSG. What does compromised mean? It means the private key of an X.509 certificate, or a proxy certificate file, is accessible to someone or some process which is not the owner of the credential (not counting the root account). Also, if the root account is hacked on any system which stores X.509 private keys or proxy certificate files then all those credentials should be considered compromised. If you have evidence that the compromised credentials were actually used by the intruder, that should be reported as well. Note that these credentials can be either for a person or for a host or service. If it is an X.509 certificate private key that is compromised, that should also be reported to the issuing Certificate Authority so that certificate can be revoked. If any system which runs grid services, hosts grid software, or runs grid batch jobs has its root account hacked, then that incident should be reported to OSG. When an incident is confidentially reported to the OSG then someone from the OSG security team will follow-up with the site and proceed according to the circumstances. 6. Respond to requests from the OSG Security Officer In many ways, the most important security requirement for running a site is that you communicate with the OSG Security Officer and the Security Team. When issues come up or incidents occur there is usually some manual intervention required and this means reading email from the OSG security team or taking phone calls (in the most urgent cases). In order to be sure that OSG can communicate with the site administrator responsible for security of a site there is the periodic update of contact information in OIM. If you have confidential information to provide to the OSG security team, it can be sent via encrypted email or submitted as a security ticket to the GOC (requires a registered X509 certificate in your browser). Of course, you can always use the telephone as well for secure communications (call the GOC or individual security team members). Note Anything you tell OSG security team in confidentiality will be kept confidential. We will not share it with any other parties, including other sites, VOs, and OSG management. Of course, if the preservation of the information presents an imminent threat against the security of OSG, we may need to share it with other parties. BUT, before doing that we will inform you first, and decide how much to disclose and how to disclose the information. 7. Be familiar with the OSG Security web site Information regarding incident handling, security best practices, awareness training, procedures, etc. is linked from the main OSG Security twiki page. You should familiarize yourself with this information and browse through it before you have a security incident. Especially the sections marked URGENT and Security Awareness for OSG Participants. If you have any questions about any of the material ASK. 8. Communicate Securely The OSG Security team encourages the use of secure email communication. All official announcements from the OSG security team will be digitally signed. We encourage you to verify the digital signatures on OSG security announcements. Also when sending sensitive information to the OSG security team, we encourage you to encrypt your messages. More information here 8. Maintain up-to-date Trusted CA/CRL information","title":"Security Site Responsibilities"},{"location":"SecuritySiteResponsibilities/#site-responsibilities-for-security","text":"","title":"Site Responsibilities for Security"},{"location":"SecuritySiteResponsibilities/#about-this-document","text":"This describes the expectations and actions that a site administrator handles regarding security issues as a participant in OSG.","title":"About This Document"},{"location":"SecuritySiteResponsibilities/#first-our-osg-security-team-responsibilities-for-sites","text":"Our goal is to minimize disruptions caused by attacks or security problems so that your work is more effective and the computational resources are more productive. We recognize that participating in and operating grid resources and infrastructure is a learning experience for all of us. In addition to keeping up with vulnerabilities discovered with the grid middleware and having a security process intended to reduce the likelihood that security problems cause a significant disruption to the productive use of the resources, we strive to provide helpful information and assistance to site administrators (and other grid participants). We are sure that the information provided to site administrators and grid users is incomplete and could be greatly improved. We hope (and would like) that site administrators (and others) that have questions will ask. And, one of the main reasons that documentation is maintained on the TWIKI is so that everyone can be a participant in improving the information.","title":"First, our (OSG security team) responsibilities for sites"},{"location":"SecuritySiteResponsibilities/#we-are-happy-to-answer-questions","text":"Recognizing the inherent limitations in the documented information about OSG, and because we enjoy getting to know the other people in our grid community, we expect to get questions, and are happy to answer them (if we know the answer). And if we don't know the answer we probably have an idea about where to find the answer. But we can't answer questions unless you ask, so please ask. Remember, there are no stupid questions, only stupid answers. If your question is about a suspicious behavior, possibly an incident, then email us at security@opensciencegrid.org . This is a 24*7 alert list that we immediately respond to.","title":"We are happy to answer questions"},{"location":"SecuritySiteResponsibilities/#how-can-we-help-you-more-effectively","text":"Don't hesitate to tell us how we can be more effective or to ask a question. You can email security@opensciencegrid.org or contact one of the security team members individually.","title":"How can we help you more effectively?"},{"location":"SecuritySiteResponsibilities/#background","text":"It is expected that the administrative and security contacts for a resource registered with OSG (in OIM) are capable of dealing with the normal system administration and security practices of running a cluster of machines for scientific computing. The security materials provided on the OSG twiki occasionally mention examples of how basic computer security features could be handled but that is not a replacement for formal in-depth training on unix system administration. Having said that we know that some small site admins (e.g. Tier-3s) may not have much experience in system level security. We have started collecting some examples in a Documentation.SecurityBestPractices page (which you are welcome to contribute to). If there are particular issues that you would like to learn more about (e.g. firewall configuration, linux updates), we can gladly point you to more specific resources. We may not have the effort to train you on basic security topics, but we will try our best to give you resources and put you in the right direction. Let us know!","title":"Background"},{"location":"SecuritySiteResponsibilities/#site-security-responsibilities","text":"The following are the top security items that sites need to follow as members in the OSG.","title":"Site Security Responsibilities"},{"location":"SecuritySiteResponsibilities/#1-security-contact-information-in-oim","text":"Site security contacts can update their contact information from the OSG Information Management (OIM) system by clicking the Profile link at the top. However, you will need a personal X.509 certificate in your web browser in order to register with OIM and for access to update your information. The OSG will do a periodic assessment of the contact information (once a year) to remind users to keep their information up-to-date. But it is expected that people will keep their own information current. Note Even if there are no changes to your contact information on your profile page you will still need to update your confirmation date. At the bottom of your profile page there is a \"Confirmation\" section. You will need to click on the \"Update Confirmation Date\", and then you MUST also click on the \"Submit\" button at the bottom in order for the new confirmation date to take affect. Note Please update OIM and notify the GOC whenever the operations or security contacts for your site changes. Note Maintaining valid contact information is 50% of being a GREAT site admin! Seriously. We will send you security patch notices, updates, instructions for risk mitigation, and so on. Without valid contact information your site will not get these important notices. Also, if you become unresponsive to all of our notification attempts, we will start thinking your site is no longer participating in the OSG.","title":"1. Security contact information in OIM"},{"location":"SecuritySiteResponsibilities/#2-read-security-notifications-from-osg","text":"OSG sends out security notifications to all security contacts when important events occur, such as a vulnerability notice requiring a software update. If you receive a notice you are expected to read it and the detailed information linked to a GOC ticket (if there is a link). Note You will need your personal certificate that is registered with OIM in your browser in order to read the details of the notice in the ticket.","title":"2. Read Security Notifications from OSG"},{"location":"SecuritySiteResponsibilities/#3-know-your-institutional-cyber-security-officer","text":"Most institutions have someone responsible for cyber security at the institution, usually reporting to the CIO (Chief Information Officer) of the institution. The person responsible may have the title of Cyber Security Officer, or Computer Protection Program Manager, or some other title. They are typically responsible for security of the central IT systems, network security, and security awareness training for the users at that institution. You should know who that person is. If you don't know who that is, consider the following scenario: A suspicious process is found running on one of your compute elements. Doing some initial checks it appears that there may be some additional problems on the machine and a rootkit may be installed. Who is going to come help investigate? It will likely be someone from the local cyber security officer's team. They will also likely have the resources and data to determine the extent of the compromise at your site and the risks to the other machines on the network. You should introduce yourself to the cyber security officer and discuss any institutional requirements for the operation of your grid site. Remember your local security team is always the primary party responsible for the security of your site. They may want to understand what your participation in OSG means.","title":"3. Know your institutional cyber security officer"},{"location":"SecuritySiteResponsibilities/#4-maintain-up-to-date-vo-and-user-access-information","text":"Each VO on OSG keeps a up-to-date list of their members. These are the users that should be given access to sites on behalf of the VOs. It is important to keep these lists up to date so that when VO removes a user for whatever reason, your site would also stop providing access to the particular user.","title":"4. Maintain up-to-date VO and user access information"},{"location":"SecuritySiteResponsibilities/#5-reporting-and-responding-to-security-incidents","text":"The goal of the OSG security team in incident handling is to first contain the incident to prevent it from spreading, and then to help the site administrators diagnose the cause or vulnerability of the incident. Then we can learn from the incident and improve the infrastructure accordingly. Because we are participating in a world wide infrastructure, the OSG will confidentially share information about incidents that is relevant to our partners in other countries. This means that we will keep you in the loop before we disclose any information about your site. When you first contact us, we will work with you and your local security team to decide what information we can share with other communities. We will not endanger your site's public reputation. We will share information when we believe other grid sites also subject to the same attack. Any circumstance that causes the grid credentials (X.509 certificate private key or proxy certificate) to be compromised should be reported to the OSG. What does compromised mean? It means the private key of an X.509 certificate, or a proxy certificate file, is accessible to someone or some process which is not the owner of the credential (not counting the root account). Also, if the root account is hacked on any system which stores X.509 private keys or proxy certificate files then all those credentials should be considered compromised. If you have evidence that the compromised credentials were actually used by the intruder, that should be reported as well. Note that these credentials can be either for a person or for a host or service. If it is an X.509 certificate private key that is compromised, that should also be reported to the issuing Certificate Authority so that certificate can be revoked. If any system which runs grid services, hosts grid software, or runs grid batch jobs has its root account hacked, then that incident should be reported to OSG. When an incident is confidentially reported to the OSG then someone from the OSG security team will follow-up with the site and proceed according to the circumstances.","title":"5. Reporting and Responding to Security Incidents"},{"location":"SecuritySiteResponsibilities/#6-respond-to-requests-from-the-osg-security-officer","text":"In many ways, the most important security requirement for running a site is that you communicate with the OSG Security Officer and the Security Team. When issues come up or incidents occur there is usually some manual intervention required and this means reading email from the OSG security team or taking phone calls (in the most urgent cases). In order to be sure that OSG can communicate with the site administrator responsible for security of a site there is the periodic update of contact information in OIM. If you have confidential information to provide to the OSG security team, it can be sent via encrypted email or submitted as a security ticket to the GOC (requires a registered X509 certificate in your browser). Of course, you can always use the telephone as well for secure communications (call the GOC or individual security team members). Note Anything you tell OSG security team in confidentiality will be kept confidential. We will not share it with any other parties, including other sites, VOs, and OSG management. Of course, if the preservation of the information presents an imminent threat against the security of OSG, we may need to share it with other parties. BUT, before doing that we will inform you first, and decide how much to disclose and how to disclose the information.","title":"6. Respond to requests from the OSG Security Officer"},{"location":"SecuritySiteResponsibilities/#7-be-familiar-with-the-osg-security-web-site","text":"Information regarding incident handling, security best practices, awareness training, procedures, etc. is linked from the main OSG Security twiki page. You should familiarize yourself with this information and browse through it before you have a security incident. Especially the sections marked URGENT and Security Awareness for OSG Participants. If you have any questions about any of the material ASK.","title":"7. Be familiar with the OSG Security web site"},{"location":"SecuritySiteResponsibilities/#8-communicate-securely","text":"The OSG Security team encourages the use of secure email communication. All official announcements from the OSG security team will be digitally signed. We encourage you to verify the digital signatures on OSG security announcements. Also when sending sensitive information to the OSG security team, we encourage you to encrypt your messages. More information here","title":"8. Communicate Securely"},{"location":"SecuritySiteResponsibilities/#8-maintain-up-to-date-trusted-cacrl-information","text":"","title":"8. Maintain up-to-date Trusted CA/CRL information"},{"location":"SecurityTeamMembers/","text":"OSG Security Team The OSG Security Team can be contacted at osg-security-team AT opensciencegrid.org OSG Security Officer: Mike Stanfield stanfiem AT iu.edu Zalak Shah: zsshah AT iu.edu Jeny Teheran: jteheran AT fnal.gov Josh Drake: drakejc AT iu.edu Adrian Crenshaw: Adrian AT iu.edu","title":"Security Team"},{"location":"SecurityTeamMembers/#osg-security-team","text":"The OSG Security Team can be contacted at osg-security-team AT opensciencegrid.org OSG Security Officer: Mike Stanfield stanfiem AT iu.edu Zalak Shah: zsshah AT iu.edu Jeny Teheran: jteheran AT fnal.gov Josh Drake: drakejc AT iu.edu Adrian Crenshaw: Adrian AT iu.edu","title":"OSG Security Team"},{"location":"SecurityUserResponsibilities/","text":"What are Users' Responsibilities Regarding Security on OSG? About This Document As a user of OSG, you are responsible for three aspects of security: Protecting your grid identity token Abiding by the policies of your Virtual Organization (VO) that authorizes access to resources Reporting known or suspected breaches of security This document covers each of these areas of responsibility. Protecting Your Grid Identity Token The grid identity token is a PKI X509 digital certificate with a lifetime of one year, and a private key to which only the user has access. Protecting your grid identity means protecting your private key so that no one else is able to use (or misuse) it. Typically the private key is stored in a file called $HOME/.globus/userkey.pem. The (public) certificate needs to be accessible to parties and resources to which you'll need to authenticate yourself. It is typically stored in a file called $HOME/.globus/usercert.pem. To protect your private key, please follow these security guidelines with respect to your userkey.pem file: Copy userkey.pem to and/or store it only in a file that is accessible to yourself alone, i.e., to which no one else has privileges. In particular, observe the following: Do not keep unnecessary copies of it. Do not copy it to or store it in AFS or other shared file system. Do not copy it to or store it in a directory that is accessible to the network. The private key must be encrypted with a suitably complex passphrase that only you know. Typical Unix permissions should be 0400, readable only by owner. You may also keep a copy of your certificate and private key in your web browser. Here, too, the private key must be encrypted using the features of your browser for encrypting keys and passwords. For Mozilla Firefox this is called the Master Password of the Software Security Device. If your private key is compromised, please revoke your certificate immediately and get a new one (see How do I get a user certificate in OSG? ). If your VO does not provide instructions on revoking your certificate, then contact the registration authority (RA) that issued the certificate, or directly contact the certificate authority (CA) that issued it. Abiding by the policies of your VO Every VO through which you access OSG resources has a science mission for which use of these resources is allowed. If you use OSG resources in a manner that is not directly or indirectly meeting the purpose of your VO, then you are in violation of the OSG acceptable use policy (AUP), and your VO can suspend your access to OSG resources. Reporting known or suspected breaches of security If you suspect or have knowledge of a security incident, please report it immediately to your local OSG grid security contact. For instructions, see: Reporting a Security Incident .","title":"Security User Responsibilities"},{"location":"SecurityUserResponsibilities/#what-are-users-responsibilities-regarding-security-on-osg","text":"","title":"What are Users' Responsibilities Regarding Security on OSG?"},{"location":"SecurityUserResponsibilities/#about-this-document","text":"As a user of OSG, you are responsible for three aspects of security: Protecting your grid identity token Abiding by the policies of your Virtual Organization (VO) that authorizes access to resources Reporting known or suspected breaches of security This document covers each of these areas of responsibility.","title":"About This Document"},{"location":"SecurityUserResponsibilities/#protecting-your-grid-identity-token","text":"The grid identity token is a PKI X509 digital certificate with a lifetime of one year, and a private key to which only the user has access. Protecting your grid identity means protecting your private key so that no one else is able to use (or misuse) it. Typically the private key is stored in a file called $HOME/.globus/userkey.pem. The (public) certificate needs to be accessible to parties and resources to which you'll need to authenticate yourself. It is typically stored in a file called $HOME/.globus/usercert.pem. To protect your private key, please follow these security guidelines with respect to your userkey.pem file: Copy userkey.pem to and/or store it only in a file that is accessible to yourself alone, i.e., to which no one else has privileges. In particular, observe the following: Do not keep unnecessary copies of it. Do not copy it to or store it in AFS or other shared file system. Do not copy it to or store it in a directory that is accessible to the network. The private key must be encrypted with a suitably complex passphrase that only you know. Typical Unix permissions should be 0400, readable only by owner. You may also keep a copy of your certificate and private key in your web browser. Here, too, the private key must be encrypted using the features of your browser for encrypting keys and passwords. For Mozilla Firefox this is called the Master Password of the Software Security Device. If your private key is compromised, please revoke your certificate immediately and get a new one (see How do I get a user certificate in OSG? ). If your VO does not provide instructions on revoking your certificate, then contact the registration authority (RA) that issued the certificate, or directly contact the certificate authority (CA) that issued it.","title":"Protecting Your Grid Identity Token"},{"location":"SecurityUserResponsibilities/#abiding-by-the-policies-of-your-vo","text":"Every VO through which you access OSG resources has a science mission for which use of these resources is allowed. If you use OSG resources in a manner that is not directly or indirectly meeting the purpose of your VO, then you are in violation of the OSG acceptable use policy (AUP), and your VO can suspend your access to OSG resources.","title":"Abiding by the policies of your VO"},{"location":"SecurityUserResponsibilities/#reporting-known-or-suspected-breaches-of-security","text":"If you suspect or have knowledge of a security incident, please report it immediately to your local OSG grid security contact. For instructions, see: Reporting a Security Incident .","title":"Reporting known or suspected breaches of security"},{"location":"SiteVORemovalPolicy/","text":"Security Policy on Site/VO Removal This document describes the policy for removing a Virtual Organization (VO) from the OSG. Note This policy was approved by the OSG Security Officer (Mine Altunay) on Jun 16 2009. Approved by the OSG Executive Director (Ruth Pordes) on Jul 15 2009. The interconnected nature of OSG requires that all OSG participants share responsibility for security. The security of each OSG site and VO impacts on the security of other OSG sites and VOs, as well as on partner grids. The OSG Grid Acceptable Use Policy and Service Agreement specify requirements for OSG participants, including security requirements. Furthermore, every OSG site and VO must register a security contact in the OSG Information Management System who will be responsive to requests from the OSG Security Officer. In the event that a site or VO presents an immediate operational security threat to the grid, the OSG Security Officer may immediately remove the site or VO from the OSG operational infrastructure on a temporary basis while awaiting an Executive Board decision. In the event that a site or VO presents a significant and persistent security threat to the grid, the OSG Security Officer may recommend to the Executive Board that the site or VO be removed from the OSG operational infrastructure. The decisions to remove and to later re-instate the site or VO ultimately rest with the Executive Board. The OSG Security Officer aims to work collaboratively with sites and VOs to maintain the security of OSG. Removal of a site or VO from the OSG operational infrastructure for security reasons is an option of last resort. The OSG Security Officer may initiate removal of a site or VO if one or more of the following criteria are met: The site or VO is repeatedly unresponsive to requests from the Security Officer. The site or VO persistently fails to maintain accurate security contact information in OIM. The site or VO repeatedly violates security requirements in the OSG Grid Acceptable Use Policy or Service Agreement The site or VO has repeatedly caused security incidents to spread as a result of neglect. The Security Officer can be contacted at security@opensciencegrid.org. Please see Site Responsibilities for Security . The OSG Security Officer will implement this policy according to the Security Procedures for Site/VO Removal.","title":"Site/VO Removal Policy"},{"location":"SiteVORemovalPolicy/#security-policy-on-sitevo-removal","text":"This document describes the policy for removing a Virtual Organization (VO) from the OSG. Note This policy was approved by the OSG Security Officer (Mine Altunay) on Jun 16 2009. Approved by the OSG Executive Director (Ruth Pordes) on Jul 15 2009. The interconnected nature of OSG requires that all OSG participants share responsibility for security. The security of each OSG site and VO impacts on the security of other OSG sites and VOs, as well as on partner grids. The OSG Grid Acceptable Use Policy and Service Agreement specify requirements for OSG participants, including security requirements. Furthermore, every OSG site and VO must register a security contact in the OSG Information Management System who will be responsive to requests from the OSG Security Officer. In the event that a site or VO presents an immediate operational security threat to the grid, the OSG Security Officer may immediately remove the site or VO from the OSG operational infrastructure on a temporary basis while awaiting an Executive Board decision. In the event that a site or VO presents a significant and persistent security threat to the grid, the OSG Security Officer may recommend to the Executive Board that the site or VO be removed from the OSG operational infrastructure. The decisions to remove and to later re-instate the site or VO ultimately rest with the Executive Board. The OSG Security Officer aims to work collaboratively with sites and VOs to maintain the security of OSG. Removal of a site or VO from the OSG operational infrastructure for security reasons is an option of last resort. The OSG Security Officer may initiate removal of a site or VO if one or more of the following criteria are met: The site or VO is repeatedly unresponsive to requests from the Security Officer. The site or VO persistently fails to maintain accurate security contact information in OIM. The site or VO repeatedly violates security requirements in the OSG Grid Acceptable Use Policy or Service Agreement The site or VO has repeatedly caused security incidents to spread as a result of neglect. The Security Officer can be contacted at security@opensciencegrid.org. Please see Site Responsibilities for Security . The OSG Security Officer will implement this policy according to the Security Procedures for Site/VO Removal.","title":"Security Policy on Site/VO Removal"},{"location":"SiteVORemovalProcedure/","text":"Security Procedures for Site/VO Removal The Security Policy on Site/VO Removal defines the conditions under which the OSG Security Officer will request that a Site or VO be removed from the OSG operational infrastructure. This page describes the associated procedures. Maintenance of Security Contact Information The Security Officer ensures that the GOC periodically confirms that all VOs and Sites have valid security contacts registered in OIM. Each Site/VO representative must confirm that they have verified the accuracy of their contact information in OIM. This confirmation is performed at least once per year. Communication In cases of Site or VO removal, the Security Officer must communicate the decision to remove the Site/VO to those that need to know and take action, while remaining sensitive to avoiding public embarrassment of the removed Site/VO. The Security Officer will send a private (digitally signed) message to VO/Site/SC security contacts registered in OIM, with instructions to forward as appropriate to the situation, but to not publicize the information further or publicly archive it (in Google, for example). Other announcements, such as updates to the VO package, will refer to the VO/Site being removed, but will not provide sensitive details about reasons for removal. These announcements can refer to removal \"for security reasons\" and direct questions to security@opensciencegrid.org. The Security Officer and Security Team will also make every effort to communicate with the VO or Site of concern in advance of removal, in the hope of avoiding the need for removal in the first place. According to the policy, VO or Site removal occurs after repeated problems. During each problem, the Security Officer will warn the VO or Site that they will be removed if they continue to violate policy. The Security Officer will inform the Executive Team in each case when a VO or Site is warned about removal. In the case of immediate removal for operational security threats, the Security Officer will notify the Executive Team of the actions being taken. Other removal actions require explicit approval by the Executive Team. Site Removal Before removing a site: The Security Officer will repeatedly warn the site security contact(s) that removal is being considered. The Security Officer will inform the Executive Team. Unless there is an immediate operational security threat, the Security Officer will await Executive Team approval before proceeding. Removing a site The Security Officer will sent an announcement to VO/Site/SC security contacts to stop sending jobs to the suspended site (for example, by reconfiguring the VO's job submission system to exclude the offending site). Unlike other announcements to security contacts, in this case the Security Officer will request the contacts to forward the announcement to VO members and others as appropriate. The GOC will mark the site as inactive in MyOSG. Note that removing the site from OIM or RSV is not considered critical from a security perspective. Site Reinstatement If the Executive Team determines that a Site should be re-instated, the following steps will be performed: The Security Officer will send an announcement to VO/Site/SC security contacts informing them that the site is no longer considered a security threat. The GOC will mark the site as active in MyOSG. VO Removal Before removing a VO: -The Security Officer will repeatedly warn the VO security contact(s) that removal is being considered. - The Security Officer will inform the Executive Team. - Unless there is an immediate operational security threat, the Security Officer will await Executive Team approval before proceeding. Removing a VO The Security Officer will sent a signed announcement to VO/Site/SC security contacts to stop accepting jobs from the suspended VO. Unlike other announcements to security contacts, in this case the Security Officer will request the contacts to forward the announcement to site administrators and others as appropriate. GOC will create a new VO package without the offending VO and send an announcement of the package update. VO Reinstatement If the Executive Team determines that a VO should be re-instated, the following steps will be performed: The Security Officer will send an announcement to VO/Site/SC security contacts informing them that the VO is no longer considered a security threat. GOC will create a new VO package including the re-instated VO and send an announcement of the package update.","title":"Site/VO Removal Procedure"},{"location":"SiteVORemovalProcedure/#security-procedures-for-sitevo-removal","text":"The Security Policy on Site/VO Removal defines the conditions under which the OSG Security Officer will request that a Site or VO be removed from the OSG operational infrastructure. This page describes the associated procedures.","title":"Security Procedures for Site/VO Removal"},{"location":"SiteVORemovalProcedure/#maintenance-of-security-contact-information","text":"The Security Officer ensures that the GOC periodically confirms that all VOs and Sites have valid security contacts registered in OIM. Each Site/VO representative must confirm that they have verified the accuracy of their contact information in OIM. This confirmation is performed at least once per year.","title":"Maintenance of Security Contact Information"},{"location":"SiteVORemovalProcedure/#communication","text":"In cases of Site or VO removal, the Security Officer must communicate the decision to remove the Site/VO to those that need to know and take action, while remaining sensitive to avoiding public embarrassment of the removed Site/VO. The Security Officer will send a private (digitally signed) message to VO/Site/SC security contacts registered in OIM, with instructions to forward as appropriate to the situation, but to not publicize the information further or publicly archive it (in Google, for example). Other announcements, such as updates to the VO package, will refer to the VO/Site being removed, but will not provide sensitive details about reasons for removal. These announcements can refer to removal \"for security reasons\" and direct questions to security@opensciencegrid.org. The Security Officer and Security Team will also make every effort to communicate with the VO or Site of concern in advance of removal, in the hope of avoiding the need for removal in the first place. According to the policy, VO or Site removal occurs after repeated problems. During each problem, the Security Officer will warn the VO or Site that they will be removed if they continue to violate policy. The Security Officer will inform the Executive Team in each case when a VO or Site is warned about removal. In the case of immediate removal for operational security threats, the Security Officer will notify the Executive Team of the actions being taken. Other removal actions require explicit approval by the Executive Team.","title":"Communication"},{"location":"SiteVORemovalProcedure/#site-removal","text":"","title":"Site Removal"},{"location":"SiteVORemovalProcedure/#before-removing-a-site","text":"The Security Officer will repeatedly warn the site security contact(s) that removal is being considered. The Security Officer will inform the Executive Team. Unless there is an immediate operational security threat, the Security Officer will await Executive Team approval before proceeding.","title":"Before removing a site:"},{"location":"SiteVORemovalProcedure/#removing-a-site","text":"The Security Officer will sent an announcement to VO/Site/SC security contacts to stop sending jobs to the suspended site (for example, by reconfiguring the VO's job submission system to exclude the offending site). Unlike other announcements to security contacts, in this case the Security Officer will request the contacts to forward the announcement to VO members and others as appropriate. The GOC will mark the site as inactive in MyOSG. Note that removing the site from OIM or RSV is not considered critical from a security perspective.","title":"Removing a site"},{"location":"SiteVORemovalProcedure/#site-reinstatement","text":"If the Executive Team determines that a Site should be re-instated, the following steps will be performed: The Security Officer will send an announcement to VO/Site/SC security contacts informing them that the site is no longer considered a security threat. The GOC will mark the site as active in MyOSG.","title":"Site Reinstatement"},{"location":"SiteVORemovalProcedure/#vo-removal","text":"","title":"VO Removal"},{"location":"SiteVORemovalProcedure/#before-removing-a-vo","text":"-The Security Officer will repeatedly warn the VO security contact(s) that removal is being considered. - The Security Officer will inform the Executive Team. - Unless there is an immediate operational security threat, the Security Officer will await Executive Team approval before proceeding.","title":"Before removing a VO:"},{"location":"SiteVORemovalProcedure/#removing-a-vo","text":"The Security Officer will sent a signed announcement to VO/Site/SC security contacts to stop accepting jobs from the suspended VO. Unlike other announcements to security contacts, in this case the Security Officer will request the contacts to forward the announcement to site administrators and others as appropriate. GOC will create a new VO package without the offending VO and send an announcement of the package update.","title":"Removing a VO"},{"location":"SiteVORemovalProcedure/#vo-reinstatement","text":"If the Executive Team determines that a VO should be re-instated, the following steps will be performed: The Security Officer will send an announcement to VO/Site/SC security contacts informing them that the VO is no longer considered a security threat. GOC will create a new VO package including the re-instated VO and send an announcement of the package update.","title":"VO Reinstatement"},{"location":"SoftwareVulnerabilityHandling/","text":"OSG Software Vulnerability Notification Handling A software vulnerability is a weakness that allows an attacker to violate the integrity of the OSG infrastructure and/or the sites for grid computing. The OSG Software team is the primary group responsible for vulnerability handling in software that is developed and distributed by OSG. As part of the vulnerability handling process, the OSG Security Team performs a vulnerability assessment to determine the actions to take. Process The OSG Security team is responsible for performing the vulnerability assessment and notifying the OSG stakeholders about software vulnerabilities affecting the OSG infrastructure. 1. Initial Report The software vulnerability handling process begins when a vulnerability report is acknowledged by members of the OSG Security team, the OSG Software team or the GOC staff: The members of the OSG Security team actively monitor the mailing lists and other venues for announcements and discussions of vulnerabilities that may impact the software distributed by OSG and the software used at the sites for grid computing and data management. The OSG Security team should be alerted via an email or through a GOC ticket indicating it is a security issue and the urgency to resolve. OSG members are encouraged to report all security issues, including software vulnerabilities, to security@opensciencegrid.org, goc@opensciencegrid.org. 2. Triage The OSG Software and Security teams perform triage on discovered vulnerabilities or incoming reports to determine if vulnerability handling is required according to the following priority: Priority 1 : The security of services operated by OSG directly (OSG Operations, Glidein Factories), and software developed by OSG. Priority 2 : The security of software developed elsewhere which is packaged and distributed by OSG. BEST EFFORT ONLY : Software issues that may impact large numbers of OSG's resource providers or users in a serious way, but do not fit into either of the priority groups above. If the report is valid and it matches the given priorities, the vulnerability assessment procedure must be triggered and a member of the OSG Security team should be assigned as responsible for leading the process. If the report is valid, but it does not match any of the given priorities, the OSG Security team does not trigger the vulnerability assessment procedure. However, if the reporter agrees, the OSG Software team will handle the report as a regular software issue. If the report is not valid, no further actions within the OSG Security and OSG Software teams are required. If the incoming report is made through a GOC ticket, it must be updated accordingly. Regardless the course of action decided for the report, the reporter must receive an acknowledgment from the OSG Security team through a direct email. Describing the course of action email message is left at OSG Security team discretion. 3. Analysis The OSG security team assesses the risk associated with the vulnerability in consultation with the OSG Software team, the relevant software providers and other related parties as appropriate. Based on the risk assessment, if a fix is required in the OSG Software stack, the OSG Security team should discuss with OSG Software and Release teams to set a target date. If the fix should come from the software provider, the OSG Security team should work with the software provider to determine when a fix will be available and if there are work-arounds. The OSG security team prepares a draft for an advisory, and establishes as needed a grace-period for updates and further analysis. All members of the OSG Security team are asked to review the draft and send feedback. The final revision of the advisory should be approved by the OSG Security Officer. 4. Disclosure A security announcement is sent to the VO/Site/SC security contacts. A GOC Security ticket should be created for further discussion about the vulnerability. The OSG Security team determines if a private disclosure to OSG security contacts is warranted. The OSG Security team may revise the target date for a public disclosure as needed, in consultation with involved parties. Note For issues that impact peer grids (EGI, WLCG, XSEDE), the OSG Security team makes a private disclosure to the corresponding peer grid contacts. 5. Closure The GOC Security tickets are usually closed after 2 weeks. If a grace-period has been established and the ticket must remain open, the member of the OSG Security Team leading the process should update the ticket accordingly.","title":"Software Vulnerability Handling"},{"location":"SoftwareVulnerabilityHandling/#osg-software-vulnerability-notification-handling","text":"A software vulnerability is a weakness that allows an attacker to violate the integrity of the OSG infrastructure and/or the sites for grid computing. The OSG Software team is the primary group responsible for vulnerability handling in software that is developed and distributed by OSG. As part of the vulnerability handling process, the OSG Security Team performs a vulnerability assessment to determine the actions to take.","title":"OSG Software Vulnerability Notification Handling"},{"location":"SoftwareVulnerabilityHandling/#process","text":"The OSG Security team is responsible for performing the vulnerability assessment and notifying the OSG stakeholders about software vulnerabilities affecting the OSG infrastructure.","title":"Process"},{"location":"SoftwareVulnerabilityHandling/#1-initial-report","text":"The software vulnerability handling process begins when a vulnerability report is acknowledged by members of the OSG Security team, the OSG Software team or the GOC staff: The members of the OSG Security team actively monitor the mailing lists and other venues for announcements and discussions of vulnerabilities that may impact the software distributed by OSG and the software used at the sites for grid computing and data management. The OSG Security team should be alerted via an email or through a GOC ticket indicating it is a security issue and the urgency to resolve. OSG members are encouraged to report all security issues, including software vulnerabilities, to security@opensciencegrid.org, goc@opensciencegrid.org.","title":"1. Initial Report"},{"location":"SoftwareVulnerabilityHandling/#2-triage","text":"The OSG Software and Security teams perform triage on discovered vulnerabilities or incoming reports to determine if vulnerability handling is required according to the following priority: Priority 1 : The security of services operated by OSG directly (OSG Operations, Glidein Factories), and software developed by OSG. Priority 2 : The security of software developed elsewhere which is packaged and distributed by OSG. BEST EFFORT ONLY : Software issues that may impact large numbers of OSG's resource providers or users in a serious way, but do not fit into either of the priority groups above. If the report is valid and it matches the given priorities, the vulnerability assessment procedure must be triggered and a member of the OSG Security team should be assigned as responsible for leading the process. If the report is valid, but it does not match any of the given priorities, the OSG Security team does not trigger the vulnerability assessment procedure. However, if the reporter agrees, the OSG Software team will handle the report as a regular software issue. If the report is not valid, no further actions within the OSG Security and OSG Software teams are required. If the incoming report is made through a GOC ticket, it must be updated accordingly. Regardless the course of action decided for the report, the reporter must receive an acknowledgment from the OSG Security team through a direct email. Describing the course of action email message is left at OSG Security team discretion.","title":"2. Triage"},{"location":"SoftwareVulnerabilityHandling/#3-analysis","text":"The OSG security team assesses the risk associated with the vulnerability in consultation with the OSG Software team, the relevant software providers and other related parties as appropriate. Based on the risk assessment, if a fix is required in the OSG Software stack, the OSG Security team should discuss with OSG Software and Release teams to set a target date. If the fix should come from the software provider, the OSG Security team should work with the software provider to determine when a fix will be available and if there are work-arounds. The OSG security team prepares a draft for an advisory, and establishes as needed a grace-period for updates and further analysis. All members of the OSG Security team are asked to review the draft and send feedback. The final revision of the advisory should be approved by the OSG Security Officer.","title":"3. Analysis"},{"location":"SoftwareVulnerabilityHandling/#4-disclosure","text":"A security announcement is sent to the VO/Site/SC security contacts. A GOC Security ticket should be created for further discussion about the vulnerability. The OSG Security team determines if a private disclosure to OSG security contacts is warranted. The OSG Security team may revise the target date for a public disclosure as needed, in consultation with involved parties. Note For issues that impact peer grids (EGI, WLCG, XSEDE), the OSG Security team makes a private disclosure to the corresponding peer grid contacts.","title":"4. Disclosure"},{"location":"SoftwareVulnerabilityHandling/#5-closure","text":"The GOC Security tickets are usually closed after 2 weeks. If a grace-period has been established and the ticket must remain open, the member of the OSG Security Team leading the process should update the ticket accordingly.","title":"5. Closure"},{"location":"fnal-mail-list-join/","text":"Joining the Security-SIG Mailing List via listserv commands Send an email to the listserv from your desired account From the email address you wish to subscribe with, send an email to listserv at listserv.fnal.gov . Use any subject line you wish and in the message body use only the phrase \"SUB security-sig\" . After a few moments the listserv will send a confirmation back to the sender, which you may click or follow the instructions on to confirm membership. A few moments later the final join confirmation should arrive. Joining the Security-SIG Mailing List on FNAL List Serv Creating an FNAL Mail Server Account via the Web In order to join a mailing list hosted on FNAL you will need an account on https://listserv.fnal.gov . From the site\u2019s main page, click on LISTSERV Password - Create or Reset, then use your desired email address and a secure password to create an account and verify ownership of the email address by visiting the link contained in the confirmation email from FNAL. Joining the Security-SIG List Now that your account is created, log into https://listserv.fnal.gov via the Log In prompt in the upper right corner of the site\u2019s main page. Log in using the credentials created above, then click on the Subscriber\u2019s Corner link in the top left. Search for the security-sig list, and ensure the dropdown box is set to \u201cShow All Lists\u201d, then click search. Check the selection box next to security-sig and then click the \u201cSubscribe\u201d option from the action dropdown menu below list name. Then click the \u201cSubmit\u201d button. Confirm Your Membership You will receive another verification from the FNAL server, visit the link contained to confirm your enrollment in the security-sig list. For extra verification you may return to https://listserv.fnal.gov Subscriber\u2019s Corner link and verify that security-sig shows up as a subscribed list.","title":"Joining Security-SIG mailing list"},{"location":"fnal-mail-list-join/#joining-the-security-sig-mailing-list-via-listserv-commands","text":"","title":"Joining the Security-SIG Mailing List via listserv commands"},{"location":"fnal-mail-list-join/#send-an-email-to-the-listserv-from-your-desired-account","text":"From the email address you wish to subscribe with, send an email to listserv at listserv.fnal.gov . Use any subject line you wish and in the message body use only the phrase \"SUB security-sig\" . After a few moments the listserv will send a confirmation back to the sender, which you may click or follow the instructions on to confirm membership. A few moments later the final join confirmation should arrive.","title":"Send an email to the listserv from your desired account"},{"location":"fnal-mail-list-join/#joining-the-security-sig-mailing-list-on-fnal-list-serv","text":"","title":"Joining the Security-SIG Mailing List on FNAL List Serv"},{"location":"fnal-mail-list-join/#creating-an-fnal-mail-server-account-via-the-web","text":"In order to join a mailing list hosted on FNAL you will need an account on https://listserv.fnal.gov . From the site\u2019s main page, click on LISTSERV Password - Create or Reset, then use your desired email address and a secure password to create an account and verify ownership of the email address by visiting the link contained in the confirmation email from FNAL.","title":"Creating an FNAL Mail Server Account via the Web"},{"location":"fnal-mail-list-join/#joining-the-security-sig-list","text":"Now that your account is created, log into https://listserv.fnal.gov via the Log In prompt in the upper right corner of the site\u2019s main page. Log in using the credentials created above, then click on the Subscriber\u2019s Corner link in the top left. Search for the security-sig list, and ensure the dropdown box is set to \u201cShow All Lists\u201d, then click search. Check the selection box next to security-sig and then click the \u201cSubscribe\u201d option from the action dropdown menu below list name. Then click the \u201cSubmit\u201d button.","title":"Joining the Security-SIG List"},{"location":"fnal-mail-list-join/#confirm-your-membership","text":"You will receive another verification from the FNAL server, visit the link contained to confirm your enrollment in the security-sig list. For extra verification you may return to https://listserv.fnal.gov Subscriber\u2019s Corner link and verify that security-sig shows up as a subscribed list.","title":"Confirm Your Membership"},{"location":"policy/OSGContainerSecurityPolicy/","text":"OSG Service Container Security Policy Version 1.0 Updated 1 Dec 2019 Authors: Mike Stanfield Information Security Officer: Mike Stanfield 1 Reason for Policy This policy is intended to describe how the Open Science Grid (OSG) ensures service containers deployed by OSG and sites are built and maintained in a secure manner. By defining the Security Team\u2019s expectations regarding container configuration, we ensure that all relevant teams understand the necessary requirements and precautions laid out in Section 2 below. Since the service container images developed by the OSG Software Team are often deployed at the network edge and are accessible from the Internet, it is important that we have a standardized way of building and updating these images in order to minimize the risk to these edge services. This policy defines basic security requirements for new and existing service containers, a process for updating container images in a timely manner, and the exception process. 2 Policy Statement Service container images must be based on the most up to date, OSG-supported upstream OS container images, and should be rebuilt weekly. The base OS container image must be updated with the latest security updates from the upstream providers. Service container images intended for production use should use the \u201clatest released\u201d version of the service software when possible. 2.1 Exceptions Exceptions to this policy must be documented and reviewed by the Security Team per Section 3.2 of the OSG Master Information Security Policy & Procedures document. 3 Adhering to this Policy New container images must be validated by the Software Team to ensure compliance with the requirements laid out in Section 2, with the Security Team providing guidance when necessary. Container images should also be checked for compliance with the requirements in Section 2 by automated tools prior to being pushed to public repositories and upon update. Additionally, automated tools should be used to ensure that container images do not contain any known vulnerabilities. Container images that fail automated validation should be triaged, and if necessary an exception should be requested as laid out in Section 2.1 of this policy document. An ideal automated scanning solution will ensure, with each change registered in the continuous integration system, that: All upstream packages in each base image are at the best-available security patch level. Common security-related misconfigurations and past OSG misconfigurations are not present. However, we acknowledge that it will take time to get such a system in place, and in the meantime manual review by the Software Team is considered acceptable. The Security Team recommends that any teams running OSG service containers restart their containers weekly to ensure they are running updated images. Additionally, teams running service containers should consider peristing their application logs to a seperate volume or sending them to a remote log server.","title":"OSGContainerSecurityPolicy"},{"location":"policy/OSGContainerSecurityPolicy/#osg-service-container-security-policy","text":"Version 1.0 Updated 1 Dec 2019 Authors: Mike Stanfield Information Security Officer: Mike Stanfield","title":"OSG Service Container Security Policy"},{"location":"policy/OSGContainerSecurityPolicy/#1-reason-for-policy","text":"This policy is intended to describe how the Open Science Grid (OSG) ensures service containers deployed by OSG and sites are built and maintained in a secure manner. By defining the Security Team\u2019s expectations regarding container configuration, we ensure that all relevant teams understand the necessary requirements and precautions laid out in Section 2 below. Since the service container images developed by the OSG Software Team are often deployed at the network edge and are accessible from the Internet, it is important that we have a standardized way of building and updating these images in order to minimize the risk to these edge services. This policy defines basic security requirements for new and existing service containers, a process for updating container images in a timely manner, and the exception process.","title":"1 Reason for Policy"},{"location":"policy/OSGContainerSecurityPolicy/#2-policy-statement","text":"Service container images must be based on the most up to date, OSG-supported upstream OS container images, and should be rebuilt weekly. The base OS container image must be updated with the latest security updates from the upstream providers. Service container images intended for production use should use the \u201clatest released\u201d version of the service software when possible.","title":"2 Policy Statement"},{"location":"policy/OSGContainerSecurityPolicy/#21-exceptions","text":"Exceptions to this policy must be documented and reviewed by the Security Team per Section 3.2 of the OSG Master Information Security Policy & Procedures document.","title":"2.1 Exceptions"},{"location":"policy/OSGContainerSecurityPolicy/#3-adhering-to-this-policy","text":"New container images must be validated by the Software Team to ensure compliance with the requirements laid out in Section 2, with the Security Team providing guidance when necessary. Container images should also be checked for compliance with the requirements in Section 2 by automated tools prior to being pushed to public repositories and upon update. Additionally, automated tools should be used to ensure that container images do not contain any known vulnerabilities. Container images that fail automated validation should be triaged, and if necessary an exception should be requested as laid out in Section 2.1 of this policy document. An ideal automated scanning solution will ensure, with each change registered in the continuous integration system, that: All upstream packages in each base image are at the best-available security patch level. Common security-related misconfigurations and past OSG misconfigurations are not present. However, we acknowledge that it will take time to get such a system in place, and in the meantime manual review by the Software Team is considered acceptable. The Security Team recommends that any teams running OSG service containers restart their containers weekly to ensure they are running updated images. Additionally, teams running service containers should consider peristing their application logs to a seperate volume or sending them to a remote log server.","title":"3 Adhering to this Policy"},{"location":"policy/OSGIncidentResponsePolicy/","text":"* OSG Incident Response Policies and Procedures Version 1.0 Updated 1 Dec 2019 Authors: Zalak Shah Information Security Officer: Mike Stanfield 1 Introduction and Scope This document covers policies and procedures for handling computer security incidents impacting infrastructure owned and operated by the OSG project, or software developed, maintained, or distributed by OSG. This includes publicly accessible OSG services, supporting infrastructure, and infrastructure used by OSG staff essential to the OSG mission (e.g. systems supporting OSG development and personal workstations of OSG staff with administrative access). This document does NOT cover incidents at resource provider\u2019s sites and virtual organizations (VOs). While OSG Security Team will make ourselves available to the extent possible to help with such incidents, they are outside of our scope of control and responsibility. An information security \u200b incident \u200b(henceforth an \u201cincident\u201d) is an occurrence that actually or potentially jeopardizes the confidentiality, integrity, or availability of an information system or the information the system processes, stores, or transmits or that constitutes a violation or imminent threat of violation of information or security policies, security procedures, or acceptable use policies. Discovery of a vulnerability in one or more pieces of software or dependencies of the OSG services could also cause an incident. An incident may involve malicious entities, accidents, or any state that poses risk. Policies of institutions which house the staff and infrastructure comprising the OSG project and facility (i.e.University of California - San Diego, University of Wisconsin-Madison, University of Nebraska - Lincoln, Indiana University, University of Chicago) could potentially be found to be in conflict with this policy under unforeseen circumstances. In that event, staff or infrastructure are bound by the policies of their housing institution. No such conflict is known and if any such conflict is discovered, it must be brought to the attention of the OSG Information Security Officer (ISO) immediately. 2 Goals of OSG Incident Response Any process should have prioritized goals to guide tactical and time-critical decisions. For OSG incident response, the goals are, in decreasing priority: Minimize the negative impacts from an incident in terms of: a. loss of integrity of OSG services or data entrusted to those services b. negative impact to resource providers' systems as a result of their OSG participation c. negative impact cause to consumers of OSG-developed, maintained, or distributed software d. damage to OSG reputation due to actual security issues or perceived risk / lack of trust. Protect the confidentiality of non-public information entrusted to OSG systems and services. Keep OSG management and stakeholders informed. Collect information needed to understand the specific impact the incident had on OSG and prevent future incidents. Maintain the operational availability of OSG services to its user community. Collect evidence needed for identifying or prosecuting perpetrators. These priorities may be adjusted by the OSG ISO for a particular incident. For example, multiple incidents perceived to be caused by the same perpetrator may increase the priority of identifying that perpetrator and collecting evidence, as removing a persistent attacker supports higher priority objectives. 3 Roles, Responsibilities, and Authority The following list includes primary entities involved in incident response and their general responsibilities. This is intended to offer more detail specific to incident response, and does not override anything written in the MISPP. Additional, specific responsibilities are addressed in Sections 5 and 6. OSG Incident Response Team (\u201cIR Team\u201d) An incident-specific, ad-hoc team formed to handle an incident. Will often include members of Security, Software, Operations and Release teams, but actual composition will vary depending on the nature of each incident. OSG Incident Response Lead Designated Security team member assigned by ISO. Responsibilities: Set incident classification. Sends reports of incident progress to the ISO regularly Ensure the relevant policies and procedures in this document and elsewhere are followed Assemble and direct IR team Ensure that a complete and correct record of the incident is maintained Ensure that a complete and correct IR report is written Authorities: Act in place of the ISO making cybersecurity risk decisions during an incident if needed when the ISO (For statements such as this, there is an implied \u201cand backups\u201d for the role under discussion, hence the chain of authority is ISO, backup ISO, IR Lead) is unavailable. Authorize the suspension or removal of any OSG resource, user, service, job, VO, etc. until the incident has been resolved and related issues remediated. Determine what remediations are appropriate to resolve an incident, and oversee the process of incident response. Enlist OSG staff to assist with incident response or join the Incident Responseteam, ideally in coordination with their management. OSG Service Owners Refer to the \u200b OSG Service Catalog\u200b for Point of Contact for various OSG services. Responsibilities: Leads interactions with their campus security and IT staff(The OSG Service Owner owns this responsibility since they are physically located at a different institution where the ISO is not). Assists the IR team as needed in responding to an incident, for example by retrieving logs from affected systems, or making prescribed changes to remediate vulnerabilities. Authorities: Disconnect the OSG service from the network, ideally in consultation with the OSG ISO and OSG Management. Suspend OSG users and similar entities. Resource Provider administrator, VO administrator or security point of contact: Responsibilities: Work with relevant site\u2019s local security team during an incident, as appropriate. Inform the OSG Security team of any incident locally which may impact OSG or the site\u2019s participation in OSG. Coordinate with the OSG IR team in the case of any incident that impacts multiple sites, services, or other parties across OSG. Remove the resource center or VO from OSG if it may be harming OSG or OSG users/resources as a result of an ongoing security incident. Authorities: Request to the OSG ISO or IR Lead to approve the reconnection of the resource center or VO to OSG after issues related to a security incident have been remediated. OSG ISO (Stanfield, IU): Backups, in order of preference: Zalak Shah, IU Josh Drake, IU Any other active member of OSG Security Team Responsibilities: Ensures regular communication with OSG Management and stakeholders as needed during an incident. Ensures appropriate communication with OSG users regarding incidents. Ensures appropriate communication with other institutions\u2019 Security Offices if needed. Authorities: Declares a security incident, when deemed necessary, and names an Incident Response Lead for that incident. OSG Security Team (Shah, Stanfield, Drake, Crenshaw (IU), Teheran (FNL)): Responsibilities: Help as requested by the IR Lead during an incident. Perform post-mortem analysis of incident in conjunction with the IR team and other relevant parties. Maintain readiness for incidents. Own the follow-through on issues discovered during incidents and security exercises. 4 Incident Response Stages The OSG\u2019s incident response strategy is described in this section based on the anticipated stages of an incident. 4.1 Preparation The OSG Security team, service owners, Operations and Software teams will maintain the following on an ongoing basis to be prepared for any incident: The Security and other OSG teams will have appropriate information to allow for secure communications during an incident (e.g. phone numbers, GPG keys). The security team will work with server owners to establish centralized (per site) system logging and an appropriate level of network logging, to allow for analysis and with a retention window of at least 90 days, as resources become available for these changes. An infrastructure map detailing all OSG computers and logical network layout will be maintained and updated at least every 30 days. A list of IP addresses and their associated network hosts will be maintained and updated at least every 30 days. The OSG Security team, with the help of the service owners, will maintain an up-to-date inventory of all the software packages and dependencies for each individual OSG service. The OSG Security team will monitor notifications/announcements regarding the vulnerabilities and security patches on a regular basis and will check whether any of the vulnerabilities could potentially affect the OSG service(s) or the users based on an existing inventory. The OSG Security team\u2019s web page under GitHub will have directions for OSG users and other outside parties about how they can report a security incident to the OSG. To contact the OSG Security team regarding a suspected incident please email security@opensciencegrid.org\u200b - you may encrypt your email for privacy using GPG (Key id#7FD42669, fingerprint 6E5F 4DD8 7ABC 9F68 A49B F3CA 15E3 B3AD 7FD4 2669). The Security team will regularly audit the above items to ensure they are in place and lead a monthly security exercise to ensure preparedness and increase the maturity of operational security at OSG. 4.2 Incident Initialization Potential or known incidents may be reported by the OSG staff, OSG users, or third parties such as incident reporting or coordination organizations. Notification from the OSG staff, and reports from OSG users and third parties should go directly to the OSG Security team. ACTION by OSG team Member who first becomes aware of the potential incident\u200b: The team member should: 1. Attempt to contact the ISO (Mike Stanfield). 2. Failing that, attempt to contact a Backup ISO from the list in section 3 of this document. The Backup ISO, when contacted, will act in place of the ISO for the purpose of incident-related authority and responsibilities named in section 3 above. 3. If no ISO or backup ISO is reachable (rare) contact any member of the OSG Executive Team for further instructions. ACTION by ISO\u200b: The ISO will make the determination of whether an occurrence is an incident. ACTION by ISO\u200b: If determined to be an incident, the ISO will assign it an identifier based on a template of year-month-day_sequencialnumber, e.g. \u201c2019-03-18_001\u201d(For an exercise, append \u201c_EXERCISE\u201d to the name, e.g. \u201c2019-03-18_001_EXERCISE\u201d). ACTION by ISO\u200b: When an occurrence is identified as an incident, the ISO will set an initial priority of either high or normal: High priority means that the OSG Security team members are expected to handle any request related to the incident in preference to all other work. Normal priority\u200b means that the OSG Security team members are expected to prioritize incident handling using their judgement. Setting priorities is a subjective process, with the level of certainty the incident represents a compromise of the OSG and the impact of the compromise playing significant roles. Prioritization is expected to track classification as defined in Section 5 but will be set before classification has been determined. 4.3 Formation of Incident Response Team ACTION by ISO\u200b: The ISO will designate and contact an Incident Response Lead. ACTION by IR Lead:\u200b The IR Lead will determine what personnel are needed on the IR team and contact those individuals. ACTION by IR Lead\u200b: The Incident Response lead should communicate the initiation of an incident by sending an email to \u200bstaff@opensciencegrid.org\u200b with the priority and make up of the Incident Response team in the body. As with any email about the incident, the incident identifier will be used in the subject of any email message. Do not describe the exact nature of an incident here, as this email traffic is widely distributed in the clear. ACTION by IR Lead\u200b: The IR Lead will create a JIRA issue in the Security project to store data regarding the incident . Set the Security Level to \u201cSecurity team\u201d so that the issue will only be viewable by the OSG Security team. 4.4 Analysis and Containment Guided by the Goals of OSG Incident Response, the Incident Response team will initially work to contain the incident, minimizing its impact to the OSG, and determine its nature. During this phase, changes should be minimized to what is necessary to prevent further damage in order to preserve evidence. ACTION by the IR Lead, IR Team\u200b: The Incident Response team will conduct the investigation, with other OSG staff assisting as needed. During this phase, the IR Lead may change the prioritization of the incident or the membership of the Incident Response team based on an evolving understanding of the incident. During this phase, it is important not to modify or alter any logs or configuration unless it is urgent and critical to maintaining the confidentiality or integrity of other data. This is to maintain useful forensics. If alteration is necessary, careful notes (or screenshots, etc.) must be taken so that the original state prior to the change can be reconstructed. Notice of the alteration must be communicated to the Security team and IR Lead immediately. ACTION by IR Lead\u200b: The IR Lead will keep the ISO informed of any major developments and discoveries, making at least twice a day updates. ACTION by IR Lead\u200b: The IR Lead will keep OSG User Support (\u200buser-support@opensciencegrid.org\u200b) informed of any user-visible service impacts of the incident. The incident identifier will be used in the subject of any email message related to the incident. 4.5 Eradication and Recovery During this phase, the Security team will make a recommendation (suggesting, for example, a code or configuration change) to the Software team and or Service owner on how to manage the vulnerability, based on the relevant vulnerability report or an analysis of flaws in OSG-maintained code. This recommendation, especially when addressing flaws in OSG code, should be made in careful consultation with the relevant service or software owner. ACTION by IR Lead\u200b: The IR Lead will continue to keep the ISO informed of any major developments, making at least twice a day updates. ACTION by IR Lead\u200b: The IR lead will continue to keep OSG User Support informed of any user-visible service impacts of the incident. ACTION by IR Team\u200b: If necessary, a member of the IR team in consultation with the other IR team members will send an update to the user community about when they should expect a security release and what they can do to mitigate the issue in the meantime. The incident identifier will be used in the subject of any email message related to the incident. 4.6 Incident Closure and Documentation ACTION by IR Lead\u200b: After consulting with the ISO, the IR Lead will mark the JIRA issue for the incident as Resolved and communicate the incident conclusion by sending an email to staff@opensciencegrid.org\u200b. ACTION by IR Lead\u200b: The IR Lead will document the incident, including its classification as described in Section 5. The documentation should use the OSG IR Template. 4.7 Post-Mortem and Remedial Action ACTION by ISO\u200b: The ISO will note any suspended accounts, projects, etc. from the incident report and determine a long-term disposition for those. ACTION by ISO\u200b: The ISO or delegate will lead a post-mortem that consists of determining what remedial action should be taken to minimize the chance of the incident repeating and work with OSG Management to implement such remediation. 5 Incident Handling Procedures 5.1 Incident Classification OSG incidents are classified based on their perceived impact. Classification may not be known at the start of an incident due to lack of information and may change as understanding of the incident improves. This classification guides responses as described elsewhere in this document. These classifications are based on those in [NIST 800-61] Section 3.2.6. N.B. Normally, an incident classified as \u201cHigh\u201d here is high priority per section 4.2 above, and all others are considered medium priority. However, some incidents may be up-classed to high at the discretion of the IR Lead if they present a contagious or potentially contagious problem: e.g. an APT targeting multiple OSG, HTC, or HEP targets, self-propagating malware, or a moderate impact software vulnerability in a near-ubiquitous dependency that will be difficult to remediate or work around due to its pervasiveness. Incident classifications are: High - An incident is considered High if it involves: Compromise of confidentiality or integrity of PII(It is the belief of the Security team that the OSG does not hold Sensitive PII as of the date of publication of this document.). Compromise of confidentiality or integrity of a password database. Compromise of confidentiality or integrity of software vulnerability information. Attention by media outlets or other public dissemination (e.g. via an Internet social media site). Major disruption to the OSG\u2019s ability to provide service to the user community. A successful compromise is believed to have been ongoing for more than a week. An incident is believed to have possible financial consequences. An incident is believed to involve an insider threat. A high-severity vulnerability, including: vulnerabilities that allow an unauthenticated attacker to execute arbitrary code or escalate privileges. vulnerabilities that allow an attacker to access or exfiltrate data that is not theirs from the core system Medium - An incident is considered Medium if it involves: Disruption to the OSG\u2019s ability to provide service to multiple users for an extended time (more than 10 minutes). Compromise of multiple users\u2019 accounts by the same party. Any compromise that appears to specifically target OSG personnel. A medium-severity vulnerability- allows a local user to gain privileges. allows an authenticated remote user to execute arbitrary code somewhere other than their host belonging to their jobs. that lowers the difficulty of denial of service attempts. Low - An incident is considered Low if it involves: Disruption to a single user\u2019s ability to use the OSG (e.g. a compromised password that results in temporarily disabling their account). A short-term (less than 10 minutes) disruption in OSG\u2019s availability due to a denial of service attack. A long-term disruption to non-critical services or degradation of critical services. Attempted but unsuccessful attempt to compromise the OSG service in some way that appears to target the OSG specifically and is not normal untargeted Internet \u201cbackground noise.\u201d A low-severity vulnerability- one that has a cosmetic-only or has an inconvenience impact rather than a compromise of confidentiality, integrity, or availability. Vulnerabilities that have high or medium impact but are especially difficult to exploit. Undetermined - Impact of the incident is unknown. Prioritization will be determined by classification level set by the ISO and IR Lead based on the available data. 5.2 Secure Communication During Incidents During an incident investigation, members of the IR team may need to share sensitive information and discuss suspected vulnerabilities in the OSG. The following methods of communication of sensitive data are approved: OSG JIRA, using the Security Project S/MIME encrypted and signed email GPG-encrypted and signed email It has been noted that GPG signatures are fragile and often do not validate for benign reasons. Staff should also validate a request using an alternate channel if they have any doubt as to the legitimacy of a message. It has been noted that emails are not predictable in their delivery latency and cannot be relied on for timely communication. Phone (voice & secure message app Signal) In person IU Slashtmp - CRITICAL version Transfers must be initiated by IU account holder When communication of sensitive data using an approved method is not possible (e.g. not all management is familiar with the above methods), OSG personnel must exercise judgment regarding the method, content, and timing of related communications. Integrity of communications is also important, particularly when instructions are sent or requests for sensitive data are made. Secure communications should be used for such circumstances. 5.3 Incident Handling After Normal Working Hours OSG staff are not expected to work outside of normal working hours unless special arrangements have been made by the OSG management. Given that the integrity of OSG data(For example, source code and configuration data for OSG services) is more important than its availability, a reasonable response to an incident outside of normal working hours is to take the affected OSG service offline until the next business day. Taking the OSG service offline is done by contacting the Service owner. 5.4 Communication with User Support OSG User Support is one of the interfaces to our user community. They might see reports from our users before the rest of the team and respond to those reports. Hence, it is valuable to keep them informed during an incident of factors that may impact our users so that: (1) they can best communicate to users who may contact them and (2) alert the IR team if a user reports something that we are not aware of. User Support will forward the advisory or recommendation along with the security patches (if available) for known vulnerabilities to our user community. The IR Lead and/or ISO should keep them informed via email to \u200buser-support@opensciencegrid.org during the incident. 6 Interactions with Other Entities 6.1 Law Enforcement When and if an incident should be reported to law enforcement will be decided by the OSG ISO in consultation with OSG Management. All communications with Law Enforcement will be handled by the ISO and Executive Director, or at their direction. 6.2 Media and General Public All media communication will be handled by the OSG Executive Director or their designee. Any OSG staff contacted by the media should refer them to the Executive Director unless authorized by the Executive Director to communicate with the media. 6.3 Incident Reporting/Coordination Organizations The OSG ISO may decide to report any incident to incident reporting or coordination organizations (e.g. US CERT, REN-ISAC, EGI, WLCG). OSG staff should not do so without consultation with the OSG ISO. 6.4 Other institutions hosting OSG Services The OSG Security team will communicate with other institutions hosting OSG services such as UW-Madison, University of Chicago, UCSD and UNL staff as needed during the incident. 6.5 OSG Users OSG users should be kept informed as determined by the IR Lead. OSG users are also encouraged to keep their Security and Admin contacts up to date. 6.6 Other Outside Parties Other parties include owners of attacking addresses, other affected parties, software vendors, and other incident response teams. See section 2.3.4.4 of [NIST 800-61] for a discussion of these interactions. The IR Lead coordinates all such interactions. 7 Abbreviations and Acronyms APT: Advanced Persistent Threat, i.e. a skilled attacker persistently targeting something specific HEP: High-Energy Physics HTC: High-Throughput Computing ISO: Information Security Officer IDS: Intrusion Detection System IT: Information Technology OSG: Open Science Grid PII: Personally Identifiable Information UW: University of Wisconsin, Madison 8 Reference Documents [NIST 800-61] NIST Computer Security Incident Handling Guide. http://csrc.nist.gov/publications/nistpubs/800-61rev2/SP800-61rev2.pdf [CERT 2006] Action List for Developing a Computer Security Incident Response Team (CSIRT). http://www.cert.org/incident-management/csirt-development/action-list.cfm 9 Appendix: Procedure for Vulnerability Management A vulnerability is a coding flaw, glitch or weakness that impacts OSG and/or OSG Services. Preparation:\u200b The Security team monitors relevant vulnerability reports, announcements, and discussions on a regular basis. The Security team maintains an inventory of all the software, tools, and dependencies that have been installed on various OSG services. The Security team also keeps a contact list of important stakeholders ready and updated. We have published our PGP public key on OSG\u2019s website to enable outside parties to easily reach out with vulnerability reports. OSG users are encouraged to report all the security issues, including software vulnerabilities, to the Security team at \u200b security@opensciencegrid.org\u200b . Initial Report:\u200b Whenever the Security team receives a new vulnerability report, announcement, or an alert from OSG users, the Security team compares the name of the software/package to the inventory to check if we are running the affected software/package at the affected version. Upon examination, the Security team creates a private JIRA ticket indicating it is an incident with the sec-low/sec-med/sec-high/sec-critical label. The Security team uses the same JIRA ticket for all the internal discussions regarding the vulnerability to maintain confidentiality. If the vulnerability was reported by a third party, the Security team will coordinate the tentative timeline with the reporter and will keep them updated if anything changes. The Security team will also ask them not to disclose the reported vulnerability and/or an exploit until we publish the fix for the vulnerability, and will discuss if and how the reporter would like their work to be credited. Triage:\u200b The Security team will triage the vulnerability reports to determine whether the reported vulnerability is within scope for our action, by asking the following questions: 1. Does the reported vulnerability impact the security of OSG services, or currently-supported software developed/maintained by OSG? 2. Does the reported vulnerability impact the security of software distributed by OSG? 3. Does the reported vulnerability fail the first two tests above, but negatively impact the security of the OSG community in a significant way? If the answer to either of the first two questions is \u2018yes\u2019 the security team will begin responding to the vulnerability. If the answer to the third question is \u2018yes\u2019, the security team may, but is not required to, make a best-effort attempt to notify the community about the implications of the issue. All other vulnerabilities are out of scope. ACTION by the Security team: \u200b A member of the Security team will triage the vulnerability reports to determine their relevance and impact. Analysis: \u200bFor vulnerabilities deemed within scope, the Security team will assess the risk associated with the vulnerability in consultation with other OSG teams, software provider, and other appropriate parties. Based on the assessment, risk will be addressed in one of the three ways, i.e. remediate, mitigate, or accept. Remediate: Apply a patch and resolve the vulnerability Vulnerability? -> develop a patch -> apply that patch -> TEST -> release a new version -> ask users to update to the new version The Security team also analyzes whether a reported vulnerability is worthy of a security release. The Security team makes that decision based on the severity, for example described in the report of Common Vulnerability Scoring System (CVSS). The Security team and other involved parties will work on a patch/fix in a private manner. They will use a private ticketing system (JIRA) and include only a small group of developers to work on a private (non-published) git branch Software Team (or other software owner) retains control of the software and handles the remediation process with support from the Security Team. It is important that software is never\u200b left in a state unfamiliar to its owners, e.g. by security team taking over and implementing a fix on their own. Git commit messages do not include any vulnerability related information, they use something like \u201caddress issues outlined in ticket XXXX\u201d Mitigate: Find an alternative/temporary solution to minimize the impact or the likelihood Accept: Accept the risk without remediation or mitigation The Security team also prepares an advisory for the OSG users. Disclosure:\u200b The Security team will coordinate a public release date with the downstream providers and important stakeholders. They will also make sure that critical infrastructure partners update their systems on the same day. On a public release date, the Software team will merge the private (non-published) branch and will not provide any details about the exploit. The Security team will provide enough details about the vulnerability so that the OSG users could assess their risk and exposure but will not disclose any details on how to exploit the vulnerability. The Security team will restrict the JIRA ticket details for at least 30 days after a public release date and then make that ticket and the whole of the vulnerability details public. The Security team may revise the public release date as needed, in consultation with the involved parties. After having all the necessary information about the vulnerability, the Security team will prepare a security announcement. All the communications to and from the reporter and the communications with the OSG users will be done in a private manner.","title":"OSGIncidentResponsePolicy"},{"location":"policy/OSGIncidentResponsePolicy/#osg-incident-response-policies-and-procedures","text":"Version 1.0 Updated 1 Dec 2019 Authors: Zalak Shah Information Security Officer: Mike Stanfield","title":"*OSG Incident Response Policies and Procedures"},{"location":"policy/OSGIncidentResponsePolicy/#1-introduction-and-scope","text":"This document covers policies and procedures for handling computer security incidents impacting infrastructure owned and operated by the OSG project, or software developed, maintained, or distributed by OSG. This includes publicly accessible OSG services, supporting infrastructure, and infrastructure used by OSG staff essential to the OSG mission (e.g. systems supporting OSG development and personal workstations of OSG staff with administrative access). This document does NOT cover incidents at resource provider\u2019s sites and virtual organizations (VOs). While OSG Security Team will make ourselves available to the extent possible to help with such incidents, they are outside of our scope of control and responsibility. An information security \u200b incident \u200b(henceforth an \u201cincident\u201d) is an occurrence that actually or potentially jeopardizes the confidentiality, integrity, or availability of an information system or the information the system processes, stores, or transmits or that constitutes a violation or imminent threat of violation of information or security policies, security procedures, or acceptable use policies. Discovery of a vulnerability in one or more pieces of software or dependencies of the OSG services could also cause an incident. An incident may involve malicious entities, accidents, or any state that poses risk. Policies of institutions which house the staff and infrastructure comprising the OSG project and facility (i.e.University of California - San Diego, University of Wisconsin-Madison, University of Nebraska - Lincoln, Indiana University, University of Chicago) could potentially be found to be in conflict with this policy under unforeseen circumstances. In that event, staff or infrastructure are bound by the policies of their housing institution. No such conflict is known and if any such conflict is discovered, it must be brought to the attention of the OSG Information Security Officer (ISO) immediately.","title":"1 Introduction and Scope"},{"location":"policy/OSGIncidentResponsePolicy/#2-goals-of-osg-incident-response","text":"Any process should have prioritized goals to guide tactical and time-critical decisions. For OSG incident response, the goals are, in decreasing priority: Minimize the negative impacts from an incident in terms of: a. loss of integrity of OSG services or data entrusted to those services b. negative impact to resource providers' systems as a result of their OSG participation c. negative impact cause to consumers of OSG-developed, maintained, or distributed software d. damage to OSG reputation due to actual security issues or perceived risk / lack of trust. Protect the confidentiality of non-public information entrusted to OSG systems and services. Keep OSG management and stakeholders informed. Collect information needed to understand the specific impact the incident had on OSG and prevent future incidents. Maintain the operational availability of OSG services to its user community. Collect evidence needed for identifying or prosecuting perpetrators. These priorities may be adjusted by the OSG ISO for a particular incident. For example, multiple incidents perceived to be caused by the same perpetrator may increase the priority of identifying that perpetrator and collecting evidence, as removing a persistent attacker supports higher priority objectives.","title":"2 Goals of OSG Incident Response"},{"location":"policy/OSGIncidentResponsePolicy/#3-roles-responsibilities-and-authority","text":"The following list includes primary entities involved in incident response and their general responsibilities. This is intended to offer more detail specific to incident response, and does not override anything written in the MISPP. Additional, specific responsibilities are addressed in Sections 5 and 6. OSG Incident Response Team (\u201cIR Team\u201d) An incident-specific, ad-hoc team formed to handle an incident. Will often include members of Security, Software, Operations and Release teams, but actual composition will vary depending on the nature of each incident. OSG Incident Response Lead Designated Security team member assigned by ISO. Responsibilities: Set incident classification. Sends reports of incident progress to the ISO regularly Ensure the relevant policies and procedures in this document and elsewhere are followed Assemble and direct IR team Ensure that a complete and correct record of the incident is maintained Ensure that a complete and correct IR report is written Authorities: Act in place of the ISO making cybersecurity risk decisions during an incident if needed when the ISO (For statements such as this, there is an implied \u201cand backups\u201d for the role under discussion, hence the chain of authority is ISO, backup ISO, IR Lead) is unavailable. Authorize the suspension or removal of any OSG resource, user, service, job, VO, etc. until the incident has been resolved and related issues remediated. Determine what remediations are appropriate to resolve an incident, and oversee the process of incident response. Enlist OSG staff to assist with incident response or join the Incident Responseteam, ideally in coordination with their management. OSG Service Owners Refer to the \u200b OSG Service Catalog\u200b for Point of Contact for various OSG services. Responsibilities: Leads interactions with their campus security and IT staff(The OSG Service Owner owns this responsibility since they are physically located at a different institution where the ISO is not). Assists the IR team as needed in responding to an incident, for example by retrieving logs from affected systems, or making prescribed changes to remediate vulnerabilities. Authorities: Disconnect the OSG service from the network, ideally in consultation with the OSG ISO and OSG Management. Suspend OSG users and similar entities. Resource Provider administrator, VO administrator or security point of contact: Responsibilities: Work with relevant site\u2019s local security team during an incident, as appropriate. Inform the OSG Security team of any incident locally which may impact OSG or the site\u2019s participation in OSG. Coordinate with the OSG IR team in the case of any incident that impacts multiple sites, services, or other parties across OSG. Remove the resource center or VO from OSG if it may be harming OSG or OSG users/resources as a result of an ongoing security incident. Authorities: Request to the OSG ISO or IR Lead to approve the reconnection of the resource center or VO to OSG after issues related to a security incident have been remediated. OSG ISO (Stanfield, IU): Backups, in order of preference: Zalak Shah, IU Josh Drake, IU Any other active member of OSG Security Team Responsibilities: Ensures regular communication with OSG Management and stakeholders as needed during an incident. Ensures appropriate communication with OSG users regarding incidents. Ensures appropriate communication with other institutions\u2019 Security Offices if needed. Authorities: Declares a security incident, when deemed necessary, and names an Incident Response Lead for that incident. OSG Security Team (Shah, Stanfield, Drake, Crenshaw (IU), Teheran (FNL)): Responsibilities: Help as requested by the IR Lead during an incident. Perform post-mortem analysis of incident in conjunction with the IR team and other relevant parties. Maintain readiness for incidents. Own the follow-through on issues discovered during incidents and security exercises.","title":"3 Roles, Responsibilities, and Authority"},{"location":"policy/OSGIncidentResponsePolicy/#4-incident-response-stages","text":"The OSG\u2019s incident response strategy is described in this section based on the anticipated stages of an incident.","title":"4 Incident Response Stages"},{"location":"policy/OSGIncidentResponsePolicy/#41-preparation","text":"The OSG Security team, service owners, Operations and Software teams will maintain the following on an ongoing basis to be prepared for any incident: The Security and other OSG teams will have appropriate information to allow for secure communications during an incident (e.g. phone numbers, GPG keys). The security team will work with server owners to establish centralized (per site) system logging and an appropriate level of network logging, to allow for analysis and with a retention window of at least 90 days, as resources become available for these changes. An infrastructure map detailing all OSG computers and logical network layout will be maintained and updated at least every 30 days. A list of IP addresses and their associated network hosts will be maintained and updated at least every 30 days. The OSG Security team, with the help of the service owners, will maintain an up-to-date inventory of all the software packages and dependencies for each individual OSG service. The OSG Security team will monitor notifications/announcements regarding the vulnerabilities and security patches on a regular basis and will check whether any of the vulnerabilities could potentially affect the OSG service(s) or the users based on an existing inventory. The OSG Security team\u2019s web page under GitHub will have directions for OSG users and other outside parties about how they can report a security incident to the OSG. To contact the OSG Security team regarding a suspected incident please email security@opensciencegrid.org\u200b - you may encrypt your email for privacy using GPG (Key id#7FD42669, fingerprint 6E5F 4DD8 7ABC 9F68 A49B F3CA 15E3 B3AD 7FD4 2669). The Security team will regularly audit the above items to ensure they are in place and lead a monthly security exercise to ensure preparedness and increase the maturity of operational security at OSG.","title":"4.1 Preparation"},{"location":"policy/OSGIncidentResponsePolicy/#42-incident-initialization","text":"Potential or known incidents may be reported by the OSG staff, OSG users, or third parties such as incident reporting or coordination organizations. Notification from the OSG staff, and reports from OSG users and third parties should go directly to the OSG Security team. ACTION by OSG team Member who first becomes aware of the potential incident\u200b: The team member should: 1. Attempt to contact the ISO (Mike Stanfield). 2. Failing that, attempt to contact a Backup ISO from the list in section 3 of this document. The Backup ISO, when contacted, will act in place of the ISO for the purpose of incident-related authority and responsibilities named in section 3 above. 3. If no ISO or backup ISO is reachable (rare) contact any member of the OSG Executive Team for further instructions. ACTION by ISO\u200b: The ISO will make the determination of whether an occurrence is an incident. ACTION by ISO\u200b: If determined to be an incident, the ISO will assign it an identifier based on a template of year-month-day_sequencialnumber, e.g. \u201c2019-03-18_001\u201d(For an exercise, append \u201c_EXERCISE\u201d to the name, e.g. \u201c2019-03-18_001_EXERCISE\u201d). ACTION by ISO\u200b: When an occurrence is identified as an incident, the ISO will set an initial priority of either high or normal: High priority means that the OSG Security team members are expected to handle any request related to the incident in preference to all other work. Normal priority\u200b means that the OSG Security team members are expected to prioritize incident handling using their judgement. Setting priorities is a subjective process, with the level of certainty the incident represents a compromise of the OSG and the impact of the compromise playing significant roles. Prioritization is expected to track classification as defined in Section 5 but will be set before classification has been determined.","title":"4.2 Incident Initialization"},{"location":"policy/OSGIncidentResponsePolicy/#43-formation-of-incident-response-team","text":"ACTION by ISO\u200b: The ISO will designate and contact an Incident Response Lead. ACTION by IR Lead:\u200b The IR Lead will determine what personnel are needed on the IR team and contact those individuals. ACTION by IR Lead\u200b: The Incident Response lead should communicate the initiation of an incident by sending an email to \u200bstaff@opensciencegrid.org\u200b with the priority and make up of the Incident Response team in the body. As with any email about the incident, the incident identifier will be used in the subject of any email message. Do not describe the exact nature of an incident here, as this email traffic is widely distributed in the clear. ACTION by IR Lead\u200b: The IR Lead will create a JIRA issue in the Security project to store data regarding the incident . Set the Security Level to \u201cSecurity team\u201d so that the issue will only be viewable by the OSG Security team.","title":"4.3 Formation of Incident Response Team"},{"location":"policy/OSGIncidentResponsePolicy/#44-analysis-and-containment","text":"Guided by the Goals of OSG Incident Response, the Incident Response team will initially work to contain the incident, minimizing its impact to the OSG, and determine its nature. During this phase, changes should be minimized to what is necessary to prevent further damage in order to preserve evidence. ACTION by the IR Lead, IR Team\u200b: The Incident Response team will conduct the investigation, with other OSG staff assisting as needed. During this phase, the IR Lead may change the prioritization of the incident or the membership of the Incident Response team based on an evolving understanding of the incident. During this phase, it is important not to modify or alter any logs or configuration unless it is urgent and critical to maintaining the confidentiality or integrity of other data. This is to maintain useful forensics. If alteration is necessary, careful notes (or screenshots, etc.) must be taken so that the original state prior to the change can be reconstructed. Notice of the alteration must be communicated to the Security team and IR Lead immediately. ACTION by IR Lead\u200b: The IR Lead will keep the ISO informed of any major developments and discoveries, making at least twice a day updates. ACTION by IR Lead\u200b: The IR Lead will keep OSG User Support (\u200buser-support@opensciencegrid.org\u200b) informed of any user-visible service impacts of the incident. The incident identifier will be used in the subject of any email message related to the incident.","title":"4.4 Analysis and Containment"},{"location":"policy/OSGIncidentResponsePolicy/#45-eradication-and-recovery","text":"During this phase, the Security team will make a recommendation (suggesting, for example, a code or configuration change) to the Software team and or Service owner on how to manage the vulnerability, based on the relevant vulnerability report or an analysis of flaws in OSG-maintained code. This recommendation, especially when addressing flaws in OSG code, should be made in careful consultation with the relevant service or software owner. ACTION by IR Lead\u200b: The IR Lead will continue to keep the ISO informed of any major developments, making at least twice a day updates. ACTION by IR Lead\u200b: The IR lead will continue to keep OSG User Support informed of any user-visible service impacts of the incident. ACTION by IR Team\u200b: If necessary, a member of the IR team in consultation with the other IR team members will send an update to the user community about when they should expect a security release and what they can do to mitigate the issue in the meantime. The incident identifier will be used in the subject of any email message related to the incident.","title":"4.5 Eradication and Recovery"},{"location":"policy/OSGIncidentResponsePolicy/#46-incident-closure-and-documentation","text":"ACTION by IR Lead\u200b: After consulting with the ISO, the IR Lead will mark the JIRA issue for the incident as Resolved and communicate the incident conclusion by sending an email to staff@opensciencegrid.org\u200b. ACTION by IR Lead\u200b: The IR Lead will document the incident, including its classification as described in Section 5. The documentation should use the OSG IR Template.","title":"4.6 Incident Closure and Documentation"},{"location":"policy/OSGIncidentResponsePolicy/#47-post-mortem-and-remedial-action","text":"ACTION by ISO\u200b: The ISO will note any suspended accounts, projects, etc. from the incident report and determine a long-term disposition for those. ACTION by ISO\u200b: The ISO or delegate will lead a post-mortem that consists of determining what remedial action should be taken to minimize the chance of the incident repeating and work with OSG Management to implement such remediation.","title":"4.7 Post-Mortem and Remedial Action"},{"location":"policy/OSGIncidentResponsePolicy/#5-incident-handling-procedures","text":"","title":"5 Incident Handling Procedures"},{"location":"policy/OSGIncidentResponsePolicy/#51-incident-classification","text":"OSG incidents are classified based on their perceived impact. Classification may not be known at the start of an incident due to lack of information and may change as understanding of the incident improves. This classification guides responses as described elsewhere in this document. These classifications are based on those in [NIST 800-61] Section 3.2.6. N.B. Normally, an incident classified as \u201cHigh\u201d here is high priority per section 4.2 above, and all others are considered medium priority. However, some incidents may be up-classed to high at the discretion of the IR Lead if they present a contagious or potentially contagious problem: e.g. an APT targeting multiple OSG, HTC, or HEP targets, self-propagating malware, or a moderate impact software vulnerability in a near-ubiquitous dependency that will be difficult to remediate or work around due to its pervasiveness. Incident classifications are: High - An incident is considered High if it involves: Compromise of confidentiality or integrity of PII(It is the belief of the Security team that the OSG does not hold Sensitive PII as of the date of publication of this document.). Compromise of confidentiality or integrity of a password database. Compromise of confidentiality or integrity of software vulnerability information. Attention by media outlets or other public dissemination (e.g. via an Internet social media site). Major disruption to the OSG\u2019s ability to provide service to the user community. A successful compromise is believed to have been ongoing for more than a week. An incident is believed to have possible financial consequences. An incident is believed to involve an insider threat. A high-severity vulnerability, including: vulnerabilities that allow an unauthenticated attacker to execute arbitrary code or escalate privileges. vulnerabilities that allow an attacker to access or exfiltrate data that is not theirs from the core system Medium - An incident is considered Medium if it involves: Disruption to the OSG\u2019s ability to provide service to multiple users for an extended time (more than 10 minutes). Compromise of multiple users\u2019 accounts by the same party. Any compromise that appears to specifically target OSG personnel. A medium-severity vulnerability- allows a local user to gain privileges. allows an authenticated remote user to execute arbitrary code somewhere other than their host belonging to their jobs. that lowers the difficulty of denial of service attempts. Low - An incident is considered Low if it involves: Disruption to a single user\u2019s ability to use the OSG (e.g. a compromised password that results in temporarily disabling their account). A short-term (less than 10 minutes) disruption in OSG\u2019s availability due to a denial of service attack. A long-term disruption to non-critical services or degradation of critical services. Attempted but unsuccessful attempt to compromise the OSG service in some way that appears to target the OSG specifically and is not normal untargeted Internet \u201cbackground noise.\u201d A low-severity vulnerability- one that has a cosmetic-only or has an inconvenience impact rather than a compromise of confidentiality, integrity, or availability. Vulnerabilities that have high or medium impact but are especially difficult to exploit. Undetermined - Impact of the incident is unknown. Prioritization will be determined by classification level set by the ISO and IR Lead based on the available data.","title":"5.1 Incident Classification"},{"location":"policy/OSGIncidentResponsePolicy/#52-secure-communication-during-incidents","text":"During an incident investigation, members of the IR team may need to share sensitive information and discuss suspected vulnerabilities in the OSG. The following methods of communication of sensitive data are approved: OSG JIRA, using the Security Project S/MIME encrypted and signed email GPG-encrypted and signed email It has been noted that GPG signatures are fragile and often do not validate for benign reasons. Staff should also validate a request using an alternate channel if they have any doubt as to the legitimacy of a message. It has been noted that emails are not predictable in their delivery latency and cannot be relied on for timely communication. Phone (voice & secure message app Signal) In person IU Slashtmp - CRITICAL version Transfers must be initiated by IU account holder When communication of sensitive data using an approved method is not possible (e.g. not all management is familiar with the above methods), OSG personnel must exercise judgment regarding the method, content, and timing of related communications. Integrity of communications is also important, particularly when instructions are sent or requests for sensitive data are made. Secure communications should be used for such circumstances.","title":"5.2 Secure Communication During Incidents"},{"location":"policy/OSGIncidentResponsePolicy/#53-incident-handling-after-normal-working-hours","text":"OSG staff are not expected to work outside of normal working hours unless special arrangements have been made by the OSG management. Given that the integrity of OSG data(For example, source code and configuration data for OSG services) is more important than its availability, a reasonable response to an incident outside of normal working hours is to take the affected OSG service offline until the next business day. Taking the OSG service offline is done by contacting the Service owner.","title":"5.3 Incident Handling After Normal Working Hours"},{"location":"policy/OSGIncidentResponsePolicy/#54-communication-with-user-support","text":"OSG User Support is one of the interfaces to our user community. They might see reports from our users before the rest of the team and respond to those reports. Hence, it is valuable to keep them informed during an incident of factors that may impact our users so that: (1) they can best communicate to users who may contact them and (2) alert the IR team if a user reports something that we are not aware of. User Support will forward the advisory or recommendation along with the security patches (if available) for known vulnerabilities to our user community. The IR Lead and/or ISO should keep them informed via email to \u200buser-support@opensciencegrid.org during the incident.","title":"5.4 Communication with User Support"},{"location":"policy/OSGIncidentResponsePolicy/#6-interactions-with-other-entities","text":"","title":"6 Interactions with Other Entities"},{"location":"policy/OSGIncidentResponsePolicy/#61-law-enforcement","text":"When and if an incident should be reported to law enforcement will be decided by the OSG ISO in consultation with OSG Management. All communications with Law Enforcement will be handled by the ISO and Executive Director, or at their direction.","title":"6.1 Law Enforcement"},{"location":"policy/OSGIncidentResponsePolicy/#62-media-and-general-public","text":"All media communication will be handled by the OSG Executive Director or their designee. Any OSG staff contacted by the media should refer them to the Executive Director unless authorized by the Executive Director to communicate with the media.","title":"6.2 Media and General Public"},{"location":"policy/OSGIncidentResponsePolicy/#63-incident-reportingcoordination-organizations","text":"The OSG ISO may decide to report any incident to incident reporting or coordination organizations (e.g. US CERT, REN-ISAC, EGI, WLCG). OSG staff should not do so without consultation with the OSG ISO.","title":"6.3 Incident Reporting/Coordination Organizations"},{"location":"policy/OSGIncidentResponsePolicy/#64-other-institutions-hosting-osg-services","text":"The OSG Security team will communicate with other institutions hosting OSG services such as UW-Madison, University of Chicago, UCSD and UNL staff as needed during the incident.","title":"6.4 Other institutions hosting OSG Services"},{"location":"policy/OSGIncidentResponsePolicy/#65-osg-users","text":"OSG users should be kept informed as determined by the IR Lead. OSG users are also encouraged to keep their Security and Admin contacts up to date.","title":"6.5 OSG Users"},{"location":"policy/OSGIncidentResponsePolicy/#66-other-outside-parties","text":"Other parties include owners of attacking addresses, other affected parties, software vendors, and other incident response teams. See section 2.3.4.4 of [NIST 800-61] for a discussion of these interactions. The IR Lead coordinates all such interactions.","title":"6.6 Other Outside Parties"},{"location":"policy/OSGIncidentResponsePolicy/#7-abbreviations-and-acronyms","text":"APT: Advanced Persistent Threat, i.e. a skilled attacker persistently targeting something specific HEP: High-Energy Physics HTC: High-Throughput Computing ISO: Information Security Officer IDS: Intrusion Detection System IT: Information Technology OSG: Open Science Grid PII: Personally Identifiable Information UW: University of Wisconsin, Madison","title":"7 Abbreviations and Acronyms"},{"location":"policy/OSGIncidentResponsePolicy/#8-reference-documents","text":"[NIST 800-61] NIST Computer Security Incident Handling Guide. http://csrc.nist.gov/publications/nistpubs/800-61rev2/SP800-61rev2.pdf [CERT 2006] Action List for Developing a Computer Security Incident Response Team (CSIRT). http://www.cert.org/incident-management/csirt-development/action-list.cfm","title":"8 Reference Documents"},{"location":"policy/OSGIncidentResponsePolicy/#9-appendix-procedure-for-vulnerability-management","text":"A vulnerability is a coding flaw, glitch or weakness that impacts OSG and/or OSG Services. Preparation:\u200b The Security team monitors relevant vulnerability reports, announcements, and discussions on a regular basis. The Security team maintains an inventory of all the software, tools, and dependencies that have been installed on various OSG services. The Security team also keeps a contact list of important stakeholders ready and updated. We have published our PGP public key on OSG\u2019s website to enable outside parties to easily reach out with vulnerability reports. OSG users are encouraged to report all the security issues, including software vulnerabilities, to the Security team at \u200b security@opensciencegrid.org\u200b . Initial Report:\u200b Whenever the Security team receives a new vulnerability report, announcement, or an alert from OSG users, the Security team compares the name of the software/package to the inventory to check if we are running the affected software/package at the affected version. Upon examination, the Security team creates a private JIRA ticket indicating it is an incident with the sec-low/sec-med/sec-high/sec-critical label. The Security team uses the same JIRA ticket for all the internal discussions regarding the vulnerability to maintain confidentiality. If the vulnerability was reported by a third party, the Security team will coordinate the tentative timeline with the reporter and will keep them updated if anything changes. The Security team will also ask them not to disclose the reported vulnerability and/or an exploit until we publish the fix for the vulnerability, and will discuss if and how the reporter would like their work to be credited. Triage:\u200b The Security team will triage the vulnerability reports to determine whether the reported vulnerability is within scope for our action, by asking the following questions: 1. Does the reported vulnerability impact the security of OSG services, or currently-supported software developed/maintained by OSG? 2. Does the reported vulnerability impact the security of software distributed by OSG? 3. Does the reported vulnerability fail the first two tests above, but negatively impact the security of the OSG community in a significant way? If the answer to either of the first two questions is \u2018yes\u2019 the security team will begin responding to the vulnerability. If the answer to the third question is \u2018yes\u2019, the security team may, but is not required to, make a best-effort attempt to notify the community about the implications of the issue. All other vulnerabilities are out of scope. ACTION by the Security team: \u200b A member of the Security team will triage the vulnerability reports to determine their relevance and impact. Analysis: \u200bFor vulnerabilities deemed within scope, the Security team will assess the risk associated with the vulnerability in consultation with other OSG teams, software provider, and other appropriate parties. Based on the assessment, risk will be addressed in one of the three ways, i.e. remediate, mitigate, or accept. Remediate: Apply a patch and resolve the vulnerability Vulnerability? -> develop a patch -> apply that patch -> TEST -> release a new version -> ask users to update to the new version The Security team also analyzes whether a reported vulnerability is worthy of a security release. The Security team makes that decision based on the severity, for example described in the report of Common Vulnerability Scoring System (CVSS). The Security team and other involved parties will work on a patch/fix in a private manner. They will use a private ticketing system (JIRA) and include only a small group of developers to work on a private (non-published) git branch Software Team (or other software owner) retains control of the software and handles the remediation process with support from the Security Team. It is important that software is never\u200b left in a state unfamiliar to its owners, e.g. by security team taking over and implementing a fix on their own. Git commit messages do not include any vulnerability related information, they use something like \u201caddress issues outlined in ticket XXXX\u201d Mitigate: Find an alternative/temporary solution to minimize the impact or the likelihood Accept: Accept the risk without remediation or mitigation The Security team also prepares an advisory for the OSG users. Disclosure:\u200b The Security team will coordinate a public release date with the downstream providers and important stakeholders. They will also make sure that critical infrastructure partners update their systems on the same day. On a public release date, the Software team will merge the private (non-published) branch and will not provide any details about the exploit. The Security team will provide enough details about the vulnerability so that the OSG users could assess their risk and exposure but will not disclose any details on how to exploit the vulnerability. The Security team will restrict the JIRA ticket details for at least 30 days after a public release date and then make that ticket and the whole of the vulnerability details public. The Security team may revise the public release date as needed, in consultation with the involved parties. After having all the necessary information about the vulnerability, the Security team will prepare a security announcement. All the communications to and from the reporter and the communications with the OSG users will be done in a private manner.","title":"9 Appendix: Procedure for Vulnerability Management"},{"location":"policy/OSGMasterInformationSecurityPolicy/","text":"Open Science Grid Master Information Security Policy and Procedures Version 1.0 Updated 1 Dec 2019 Authors: Zalak Shah, Mike Stanfield Information Security Officer: Mike Stanfield 1 Introduction This document represents the core information security policies and procedures for Open Science Grid (OSG), including information security-related roles and responsibilities; references to other, special purpose policies; and the core procedures for developing, implementing, and maintaining an information security program. Our information security program is a structured approach to develop, implement, and maintain an organizational environment conducive to appropriate information security and levels of information-related risk. This program entails ongoing activities to address relevant policies and procedures; technology and mitigations; and training and awareness. This document is intended for the OSG Security team and OSG stakeholders. 2 Roles & Responsibilities 2.1 Management/Leadership The OSG Executive Director accepts risk on behalf of the organization, with advice from the Information Security Officer. The Executive Director will work directly with the ISO to ensure that s/he stays abreast of major security issues facing OSG, as well as the organization\u2019s security posture. Any new or changed security policies must be accepted by the Executive Director before they are put into effect. The OSG Executive Director at the time of this policy\u2019s execution is Frank Wuerthwein. The current Executive Director and Executive Team can always be found at https://opensciencegrid.org/management/#executive-team\u200b . 2.2 Information Security Officer (ISO) OSG maintains a position of Information Security Officer (ISO), who reports to the OSG Technical Director, Miron Livny, and the OSG Executive Director. The ISO has responsibility for overseeing and coordinating the information security program. The ISO maintains all security policy and procedure documents for OSG, including this document. All reviews of OSG-wide security policies and procedures are coordinated and archived through this office. The ISO\u2019s office also documents any exceptions made to security policies. The ISO is the first point of contact for any request for clarification of OSG information security policy and procedures. The ISO will coordinate information security incident response, including correspondence between the affected staff and users. As of the date of publication of this document, the Information Security Officer is\u200b \u200bMike Stanfield. Contact information for the ISO follows: ISO: Mike Stanfield Email: stanfiem@iu.edu Office Phone: 812-856-1385 OSG Security Team: security@opensciencegrid.org 2.3 Project Personnel and Staff It is the responsibility of each individual working for OSG to review and respect these policies and procedures. It is also the staff member\u2019s responsibility to understand the underlying policies that drive those detailed procedures, so that the individual is able to make rational decisions in situations not specifically covered by the detailed procedures. Each staff member is expected to immediately report any known or suspected violations of security procedures, or known or suspected information security incidents to the security team. In all cases, the staff member and the time of the incident will be documented in order to support a timely analysis of and coordinated response to the situation. 2.4 External Users External users are responsible for reviewing and respecting the following policies while using OSG resources: Open Science Grid Acceptable Use Policy Open Science Grid Privacy Policy Policy on OSG use by Commercial Entities # 3 Developing, Implementing, and Maintaining Our Cybersecurity Program The goal of the OSG is to advance open science through distributed high throughput computing. Our Cybersecurity program is an essential component in support of this goal. Both the information security risk management processes, and possible exceptions to these processes are evaluated by the management, ISO, staff, and external stakeholders with an eye towards this overarching goal. ### 3.1 Information Security Risk Management Processes The Security team is responsible for identifying, assessing and managing risks to the Open Science Grid project, as well as providing guidance and training to other teams within OSG in order to enable OSG\u2019s continued security. Goals The first goal of OSG Security is always the integrity and trustworthiness of OSG-run services and OSG-distributed software. Second to that is the confidentiality of information entrusted to OSG. Third is our availability: we will explicitly sacrifice uptime in an incident by taking down an affected system temporarily, if doing so mitigates risk to the integrity of software and services, confidentiality of data. Software vulnerabilities handled by the OSG security team will be handled with the following priorities: Top priority: OSG-developed or OSG-maintained software Second priority: OSG-distributed software which is not developed or maintained at OSG Best effort only: We may issue advisories about other software on a best-effort basis only, when it is obvious that the community would benefit from such action. Process The OSG Security Team will endeavor to raise the maturity of OSG\u2019s security program over time, through acquiring appropriate resources, helping teams get baseline best practices in place, providing security expertise to other OSG teams, and managing security incidents. The security team will also reach out to VO and resource provider security contacts to enable them to learn best practices for security with regard to their relationship with OSG. The security policies of OSG will be reviewed by the security team at least once every two years and updated as necessary. 3.2 Exception Management In order to request an exception to a particular policy, send an email to security@opensciencegrid.org\u200b with the following details. Name, version, and URL of the policy to which you want to make an exception Name of the requester Scope of the request, i.e. what would be done differently than specified in policy, for how long, and in which code or system(s). Please be as specific as possible about the implications of the request: the more research we must do, the slower our response time will be. Justification for the request, i.e. why it is a necessary exception The Security team is responsible for evaluating exceptions and the ISO (or delegate) will approve (or disapprove) most exceptions. Exceptions which may present new risks to OSG will be passed up to the Executive Director along with Security Team recommendations regarding approval, approval with mitigations, alternatives, or disapproval. The Security team will review the exceptions at least annually or after the approval period is over, whichever comes first. The Security team will own the risk for the exceptions that are approved by the ISO (or delegate). The OSG Executive Director will own the risk for the exceptions that are signed off by them. The Security team will maintain a spreadsheet of approved/disapproved exceptions: \u200b OSG Security Policy Exceptions Catalog\u200b . 3.3 Enforcement Violations of OSG information security policies can result in loss of access to resources and services, and/or disciplinary action. Activities in violation of any laws may be reported to the proper authorities for investigation and prosecution. Anyone who believes that there is a violation of any information security policy or has a related question should contact security@opensciencegrid.org\u200b . 3.4 Modifications to Information Security Policies and Procedures The Information Security Officer (ISO) is responsible for coordinating changes to established policies and procedures. Requests for changes to established procedures should be presented to the ISO who will analyze the feasibility and cost of changing the procedure. The ISO will also collaborate with the staff responsible for implementing the recommended change before making a decision. The ISO recommends all internal changes to policies and procedures to the Executive Director, who has final approval. The final version of the policies and procedures (PDF format) are uploaded on Google Drive and the URLs to those are shared with the appropriate OSG personnel via email. 4 Resources & Key Contacts Resources Open Science Grid Security Documentation OSG Security Announcements OSG Service Catalog Key Contacts The OSG areas and their coordinators OSG Security Team: security@opensciencegrid.org 5 Other Policy and Procedure Documents In addition to this Master document, OSG has adopted the following additional policies and procedures. Incident Response Policies and Procedures\u200b - A pre-defined organized approach to addressing and managing a security incident. Policy and Procedure to approve OSG Connect accounts \u200b- users requesting OSG Connect account needs to satisfy the requirements mentioned in this document in order to be approved. OSG Service Container Security Policy Procedure for Vulnerability Management Open Science Grid Privacy Policy Open Science Grid Acceptable Use Policy 6 Terms and Acronyms OSG (Open Science Grid): A consortium dedicated to the advancement of all of open science via the practice of Distributed High Throughput Computing, and the advancement of its state of the art. ISO (Information Security Officer): The person who is designated as the responsible party for information security within OSG. This person is lead for the OSG Security Team.","title":"OSGMasterInformationSecurityPolicy"},{"location":"policy/OSGMasterInformationSecurityPolicy/#open-science-grid-master-information-security-policy-and-procedures","text":"Version 1.0 Updated 1 Dec 2019 Authors: Zalak Shah, Mike Stanfield Information Security Officer: Mike Stanfield","title":"Open Science Grid Master Information Security Policy and Procedures"},{"location":"policy/OSGMasterInformationSecurityPolicy/#1-introduction","text":"This document represents the core information security policies and procedures for Open Science Grid (OSG), including information security-related roles and responsibilities; references to other, special purpose policies; and the core procedures for developing, implementing, and maintaining an information security program. Our information security program is a structured approach to develop, implement, and maintain an organizational environment conducive to appropriate information security and levels of information-related risk. This program entails ongoing activities to address relevant policies and procedures; technology and mitigations; and training and awareness. This document is intended for the OSG Security team and OSG stakeholders.","title":"1 Introduction"},{"location":"policy/OSGMasterInformationSecurityPolicy/#2-roles-responsibilities","text":"","title":"2 Roles &amp; Responsibilities"},{"location":"policy/OSGMasterInformationSecurityPolicy/#21-managementleadership","text":"The OSG Executive Director accepts risk on behalf of the organization, with advice from the Information Security Officer. The Executive Director will work directly with the ISO to ensure that s/he stays abreast of major security issues facing OSG, as well as the organization\u2019s security posture. Any new or changed security policies must be accepted by the Executive Director before they are put into effect. The OSG Executive Director at the time of this policy\u2019s execution is Frank Wuerthwein. The current Executive Director and Executive Team can always be found at https://opensciencegrid.org/management/#executive-team\u200b .","title":"2.1 Management/Leadership"},{"location":"policy/OSGMasterInformationSecurityPolicy/#22-information-security-officer-iso","text":"OSG maintains a position of Information Security Officer (ISO), who reports to the OSG Technical Director, Miron Livny, and the OSG Executive Director. The ISO has responsibility for overseeing and coordinating the information security program. The ISO maintains all security policy and procedure documents for OSG, including this document. All reviews of OSG-wide security policies and procedures are coordinated and archived through this office. The ISO\u2019s office also documents any exceptions made to security policies. The ISO is the first point of contact for any request for clarification of OSG information security policy and procedures. The ISO will coordinate information security incident response, including correspondence between the affected staff and users. As of the date of publication of this document, the Information Security Officer is\u200b \u200bMike Stanfield. Contact information for the ISO follows: ISO: Mike Stanfield Email: stanfiem@iu.edu Office Phone: 812-856-1385 OSG Security Team: security@opensciencegrid.org","title":"2.2 Information Security Officer (ISO)"},{"location":"policy/OSGMasterInformationSecurityPolicy/#23-project-personnel-and-staff","text":"It is the responsibility of each individual working for OSG to review and respect these policies and procedures. It is also the staff member\u2019s responsibility to understand the underlying policies that drive those detailed procedures, so that the individual is able to make rational decisions in situations not specifically covered by the detailed procedures. Each staff member is expected to immediately report any known or suspected violations of security procedures, or known or suspected information security incidents to the security team. In all cases, the staff member and the time of the incident will be documented in order to support a timely analysis of and coordinated response to the situation.","title":"2.3 Project Personnel and Staff"},{"location":"policy/OSGMasterInformationSecurityPolicy/#24-external-users","text":"External users are responsible for reviewing and respecting the following policies while using OSG resources: Open Science Grid Acceptable Use Policy Open Science Grid Privacy Policy Policy on OSG use by Commercial Entities # 3 Developing, Implementing, and Maintaining Our Cybersecurity Program The goal of the OSG is to advance open science through distributed high throughput computing. Our Cybersecurity program is an essential component in support of this goal. Both the information security risk management processes, and possible exceptions to these processes are evaluated by the management, ISO, staff, and external stakeholders with an eye towards this overarching goal. ### 3.1 Information Security Risk Management Processes The Security team is responsible for identifying, assessing and managing risks to the Open Science Grid project, as well as providing guidance and training to other teams within OSG in order to enable OSG\u2019s continued security. Goals The first goal of OSG Security is always the integrity and trustworthiness of OSG-run services and OSG-distributed software. Second to that is the confidentiality of information entrusted to OSG. Third is our availability: we will explicitly sacrifice uptime in an incident by taking down an affected system temporarily, if doing so mitigates risk to the integrity of software and services, confidentiality of data. Software vulnerabilities handled by the OSG security team will be handled with the following priorities: Top priority: OSG-developed or OSG-maintained software Second priority: OSG-distributed software which is not developed or maintained at OSG Best effort only: We may issue advisories about other software on a best-effort basis only, when it is obvious that the community would benefit from such action. Process The OSG Security Team will endeavor to raise the maturity of OSG\u2019s security program over time, through acquiring appropriate resources, helping teams get baseline best practices in place, providing security expertise to other OSG teams, and managing security incidents. The security team will also reach out to VO and resource provider security contacts to enable them to learn best practices for security with regard to their relationship with OSG. The security policies of OSG will be reviewed by the security team at least once every two years and updated as necessary.","title":"2.4 External Users"},{"location":"policy/OSGMasterInformationSecurityPolicy/#32-exception-management","text":"In order to request an exception to a particular policy, send an email to security@opensciencegrid.org\u200b with the following details. Name, version, and URL of the policy to which you want to make an exception Name of the requester Scope of the request, i.e. what would be done differently than specified in policy, for how long, and in which code or system(s). Please be as specific as possible about the implications of the request: the more research we must do, the slower our response time will be. Justification for the request, i.e. why it is a necessary exception The Security team is responsible for evaluating exceptions and the ISO (or delegate) will approve (or disapprove) most exceptions. Exceptions which may present new risks to OSG will be passed up to the Executive Director along with Security Team recommendations regarding approval, approval with mitigations, alternatives, or disapproval. The Security team will review the exceptions at least annually or after the approval period is over, whichever comes first. The Security team will own the risk for the exceptions that are approved by the ISO (or delegate). The OSG Executive Director will own the risk for the exceptions that are signed off by them. The Security team will maintain a spreadsheet of approved/disapproved exceptions: \u200b OSG Security Policy Exceptions Catalog\u200b .","title":"3.2 Exception Management"},{"location":"policy/OSGMasterInformationSecurityPolicy/#33-enforcement","text":"Violations of OSG information security policies can result in loss of access to resources and services, and/or disciplinary action. Activities in violation of any laws may be reported to the proper authorities for investigation and prosecution. Anyone who believes that there is a violation of any information security policy or has a related question should contact security@opensciencegrid.org\u200b .","title":"3.3 Enforcement"},{"location":"policy/OSGMasterInformationSecurityPolicy/#34-modifications-to-information-security-policies-and-procedures","text":"The Information Security Officer (ISO) is responsible for coordinating changes to established policies and procedures. Requests for changes to established procedures should be presented to the ISO who will analyze the feasibility and cost of changing the procedure. The ISO will also collaborate with the staff responsible for implementing the recommended change before making a decision. The ISO recommends all internal changes to policies and procedures to the Executive Director, who has final approval. The final version of the policies and procedures (PDF format) are uploaded on Google Drive and the URLs to those are shared with the appropriate OSG personnel via email.","title":"3.4 Modifications to Information Security Policies and Procedures"},{"location":"policy/OSGMasterInformationSecurityPolicy/#4-resources-key-contacts","text":"Resources Open Science Grid Security Documentation OSG Security Announcements OSG Service Catalog Key Contacts The OSG areas and their coordinators OSG Security Team: security@opensciencegrid.org","title":"4 Resources &amp; Key Contacts"},{"location":"policy/OSGMasterInformationSecurityPolicy/#5-other-policy-and-procedure-documents","text":"In addition to this Master document, OSG has adopted the following additional policies and procedures. Incident Response Policies and Procedures\u200b - A pre-defined organized approach to addressing and managing a security incident. Policy and Procedure to approve OSG Connect accounts \u200b- users requesting OSG Connect account needs to satisfy the requirements mentioned in this document in order to be approved. OSG Service Container Security Policy Procedure for Vulnerability Management Open Science Grid Privacy Policy Open Science Grid Acceptable Use Policy","title":"5 Other Policy and Procedure Documents"},{"location":"policy/OSGMasterInformationSecurityPolicy/#6-terms-and-acronyms","text":"OSG (Open Science Grid): A consortium dedicated to the advancement of all of open science via the practice of Distributed High Throughput Computing, and the advancement of its state of the art. ISO (Information Security Officer): The person who is designated as the responsible party for information security within OSG. This person is lead for the OSG Security Team.","title":"6 Terms and Acronyms"},{"location":"policy/OSG_Connect_Login_Server_Open_Port_Policy/","text":"OSG Connect Login Server Open Port Policy Version 1.0 Updated 1 July 2020 Authors: Brian Bockelman, Lincoln Bryant, Jeff Dost, Rob Gardner, Lauren Michael, Pascal Paschos, Mats Rynge, Mike Stanfield Information Security Officer: Mike Stanfield 1 Policy Statement In order to provide safe and trustworthy services, the OSG Infrastructure team employs host-based firewall rules on all OSG Connect login hosts to block inbound network traffic not explicitly approved by the OSG. By default, users are not permitted to run network services such as file servers from their accounts on these hosts. Users or Collaborations who need services on login servers requiring open ports in support of their scientific workflows should send a request to support@osgconnect.net. The OSG will perform routine port scans and auditing of running services to verify compliance with this policy.","title":"OSG Connect Login Server Open Port Policy"},{"location":"policy/OSG_Connect_Login_Server_Open_Port_Policy/#osg-connect-login-server-open-port-policy","text":"Version 1.0 Updated 1 July 2020 Authors: Brian Bockelman, Lincoln Bryant, Jeff Dost, Rob Gardner, Lauren Michael, Pascal Paschos, Mats Rynge, Mike Stanfield Information Security Officer: Mike Stanfield","title":"OSG Connect Login Server Open Port Policy"},{"location":"policy/OSG_Connect_Login_Server_Open_Port_Policy/#1-policy-statement","text":"In order to provide safe and trustworthy services, the OSG Infrastructure team employs host-based firewall rules on all OSG Connect login hosts to block inbound network traffic not explicitly approved by the OSG. By default, users are not permitted to run network services such as file servers from their accounts on these hosts. Users or Collaborations who need services on login servers requiring open ports in support of their scientific workflows should send a request to support@osgconnect.net. The OSG will perform routine port scans and auditing of running services to verify compliance with this policy.","title":"1 Policy Statement"},{"location":"vulns/OSG-SEC-2018-01-04-Meltdown-Spectre/","text":"OSG-SEC-2018-01-04 CPU hardware vulnerabilities Dear OSG Security Contacts, Multiple hardware bugs have been reported in modern processors, particularly in Intel processors; these bugs or design flaws could enable access to sensitive data in the memory of any computing device. Chipmakers Intel, AMD and ARM have reported that their chips are affected at varying degrees by these bugs [1]. Two attacks, Meltdown [2] and Spectre [3] have been published and are being discussed extensively. The Meltdown exploit has been successfully tested on Intel processors and it is not clear yet whether ARM and AMD processors are also affected. The Spectre attack method can theoretically be performed on any CPU family; working exploits have been demonstrated on at least Intel, AMD, and ARM processor families. These attacks have been particularly newsworthy as (a) the vulnerability is in a diverse cross-section of hardware, not software and (b) non-trivial performance impact of the mitigation techniques. However, the severity is comparable to more mundane local privilege exploits against the kernel. IMPACTED VERSIONS: These vulnerabilities are present in the hardware and appear to affect all operating systems, including Linux. Available exploits can be performed by an unprivileged process or container against the host kernel and virtual machine against the hypervisor. To exploit the vulnerabilities, an attacker needs the ability to execute arbitrary unprivileged code. This privilege is commonly available to authorized users on OSG submit hosts, Computing Elements (CEs), or worker nodes. No remote exploit is currently known. WHAT ARE THE VULNERABILITIES: The vulnerabilities are design flaws in the way many modern microprocessor designs have implemented speculative execution of instructions (a commonly used performance optimization) [4]. The Spectre attack targets the vulnerabilities described in CVE-2017-5715 [5], CVE-2017-5753 [6] and the Meltdown attack, the one described in CVE-2017-5754 [7]. WHAT YOU SHOULD DO: These vulnerabilities are present in the hardware and cannot be entirely fixed by a software update of any operating system. Mitigations exist that significantly limit the impact and increase the complexity of potential exploits. The Meltdown vulnerability can be mitigated by available software patches; however, these patches incur a higher performance penalty than most security fixes. RedHat has provided guidance [8] that HPC-style workflows should expect a 2-5% decrease in throughput; precise impact will depend on the host\u2019s workload. RedHat and Scientific Linux have mitigations available for kernel and microcode_ctl in RHEL6, RHEL7, SL6 and SL7. Additionally, there are updates for linux-firmware in RHEL7 and SL7. Please, apply these security updates IMMEDIATELY , especially on systems that are accessible by many unprivileged users. While some sites may find the performance decreases painful, OSG Security currently believes the benefits outweigh the costs. OSG Security advises sites to patch all hosts, prioritizing CEs, submit hosts, and worker nodes. RedHat Linux: - RHEL6 - kernel: https://access.redhat.com/errata/RHSA-2018:0008 - microcode_ctl: https://access.redhat.com/errata/RHSA-2018:0013 - RHEL7 - kernel: https://access.redhat.com/errata/RHSA-2018:0007 - microcode_ctl: https://access.redhat.com/errata/RHSA-2018:0012 - linux-firmware: https://access.redhat.com/errata/RHSA-2018:0014 Scientific Linux: - SL6 - kernel: https://www.scientificlinux.org/category/sl-errata/slsa-20180008-1/ - microcode_ctl: https://www.scientificlinux.org/category/sl-errata/slsa-20180013-1/ - SL7 - kernel: https://www.scientificlinux.org/category/sl-errata/slsa-20180007-1/ - microcode_ctl: https://www.scientificlinux.org/category/sl-errata/slsa-20180012-1/ - linux-firmware: https://www.scientificlinux.org/category/sl-errata/slsa-20180014-1/ RELATED LINKS: https://ticket.grid.iu.edu/35754 REFERENCES: [1] http://www.theregister.co.uk/2018/01/04/intel_amd_arm_cpu_vulnerability/ [2] https://meltdownattack.com/ [3] https://spectreattack.com/ [4] https://access.redhat.com/security/vulnerabilities/speculativeexecution [5] https://access.redhat.com/security/cve/CVE-2017-5715 [6] https://access.redhat.com/security/cve/CVE-2017-5753 [7] https://access.redhat.com/security/cve/CVE-2017-5754 [8] https://access.redhat.com/articles/3307751 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-01-04 Meltdown-Spectre Update"},{"location":"vulns/OSG-SEC-2018-01-04-Meltdown-Spectre/#osg-sec-2018-01-04-cpu-hardware-vulnerabilities","text":"Dear OSG Security Contacts, Multiple hardware bugs have been reported in modern processors, particularly in Intel processors; these bugs or design flaws could enable access to sensitive data in the memory of any computing device. Chipmakers Intel, AMD and ARM have reported that their chips are affected at varying degrees by these bugs [1]. Two attacks, Meltdown [2] and Spectre [3] have been published and are being discussed extensively. The Meltdown exploit has been successfully tested on Intel processors and it is not clear yet whether ARM and AMD processors are also affected. The Spectre attack method can theoretically be performed on any CPU family; working exploits have been demonstrated on at least Intel, AMD, and ARM processor families. These attacks have been particularly newsworthy as (a) the vulnerability is in a diverse cross-section of hardware, not software and (b) non-trivial performance impact of the mitigation techniques. However, the severity is comparable to more mundane local privilege exploits against the kernel.","title":"OSG-SEC-2018-01-04 CPU hardware vulnerabilities"},{"location":"vulns/OSG-SEC-2018-01-04-Meltdown-Spectre/#impacted-versions","text":"These vulnerabilities are present in the hardware and appear to affect all operating systems, including Linux. Available exploits can be performed by an unprivileged process or container against the host kernel and virtual machine against the hypervisor. To exploit the vulnerabilities, an attacker needs the ability to execute arbitrary unprivileged code. This privilege is commonly available to authorized users on OSG submit hosts, Computing Elements (CEs), or worker nodes. No remote exploit is currently known.","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2018-01-04-Meltdown-Spectre/#what-are-the-vulnerabilities","text":"The vulnerabilities are design flaws in the way many modern microprocessor designs have implemented speculative execution of instructions (a commonly used performance optimization) [4]. The Spectre attack targets the vulnerabilities described in CVE-2017-5715 [5], CVE-2017-5753 [6] and the Meltdown attack, the one described in CVE-2017-5754 [7].","title":"WHAT ARE THE VULNERABILITIES:"},{"location":"vulns/OSG-SEC-2018-01-04-Meltdown-Spectre/#what-you-should-do","text":"These vulnerabilities are present in the hardware and cannot be entirely fixed by a software update of any operating system. Mitigations exist that significantly limit the impact and increase the complexity of potential exploits. The Meltdown vulnerability can be mitigated by available software patches; however, these patches incur a higher performance penalty than most security fixes. RedHat has provided guidance [8] that HPC-style workflows should expect a 2-5% decrease in throughput; precise impact will depend on the host\u2019s workload. RedHat and Scientific Linux have mitigations available for kernel and microcode_ctl in RHEL6, RHEL7, SL6 and SL7. Additionally, there are updates for linux-firmware in RHEL7 and SL7. Please, apply these security updates IMMEDIATELY , especially on systems that are accessible by many unprivileged users. While some sites may find the performance decreases painful, OSG Security currently believes the benefits outweigh the costs. OSG Security advises sites to patch all hosts, prioritizing CEs, submit hosts, and worker nodes. RedHat Linux: - RHEL6 - kernel: https://access.redhat.com/errata/RHSA-2018:0008 - microcode_ctl: https://access.redhat.com/errata/RHSA-2018:0013 - RHEL7 - kernel: https://access.redhat.com/errata/RHSA-2018:0007 - microcode_ctl: https://access.redhat.com/errata/RHSA-2018:0012 - linux-firmware: https://access.redhat.com/errata/RHSA-2018:0014 Scientific Linux: - SL6 - kernel: https://www.scientificlinux.org/category/sl-errata/slsa-20180008-1/ - microcode_ctl: https://www.scientificlinux.org/category/sl-errata/slsa-20180013-1/ - SL7 - kernel: https://www.scientificlinux.org/category/sl-errata/slsa-20180007-1/ - microcode_ctl: https://www.scientificlinux.org/category/sl-errata/slsa-20180012-1/ - linux-firmware: https://www.scientificlinux.org/category/sl-errata/slsa-20180014-1/","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-01-04-Meltdown-Spectre/#related-links","text":"https://ticket.grid.iu.edu/35754","title":"RELATED LINKS:"},{"location":"vulns/OSG-SEC-2018-01-04-Meltdown-Spectre/#references","text":"[1] http://www.theregister.co.uk/2018/01/04/intel_amd_arm_cpu_vulnerability/ [2] https://meltdownattack.com/ [3] https://spectreattack.com/ [4] https://access.redhat.com/security/vulnerabilities/speculativeexecution [5] https://access.redhat.com/security/cve/CVE-2017-5715 [6] https://access.redhat.com/security/cve/CVE-2017-5753 [7] https://access.redhat.com/security/cve/CVE-2017-5754 [8] https://access.redhat.com/articles/3307751 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES:"},{"location":"vulns/OSG-SEC-2018-01-10-Meltdown-Spectre-Update/","text":"OSG-SEC-2018-01-04 CPU hardware vulnerabilities [UPDATE 2018-01-10] Dear OSG Security Contacts, This is an update of the security announcement about the CPU hardware in modern processors that were reported last week and are widely known as Meltdown and Spectre. There is a new set of patches for those vulnerabilities that are applicable to Virtual Machine hypervisor hosts. WHAT YOU SHOULD DO: RedHat and Scientific Linux have published mitigations for the vulnerabilities in qemu-kvm and libvirt for RHEL6, RHEL7, SL6 and SL7. Please, apply these security updates IMMEDIATELY on Virtual Machine hypervisor hosts, especially when the hosted Virtual Machines are accessible by many unprivileged users. While some sites may find the performance decreases painful, OSG Security team currently believes the benefits outweigh the costs. OSG Security team advises sites to patch all hypervisor hosts, prioritizing those that host CEs, submit hosts, and worker nodes. RedHat Linux: - RHEL6 - qemu-kvm: https://access.redhat.com/errata/RHSA-2018:0024 - libvirt: https://access.redhat.com/errata/RHSA-2018:0030 - RHEL7 - qemu-kvm: https://access.redhat.com/errata/RHSA-2018:0023 - libvirt: https://access.redhat.com/errata/RHSA-2018:0029 Scientific Linux: - SL6 - qemu-kvm: http://scientificlinux.org/category/sl-errata/slsa-20180024-1/ - libvirt: http://scientificlinux.org/category/sl-errata/slsa-20180030-1/ - SL7 - qemu-kvm: http://scientificlinux.org/category/sl-errata/slsa-20180023-1/ - libvirt: http://scientificlinux.org/category/sl-errata/slsa-20180029-1/ RELATED LINKS: https://ticket.grid.iu.edu/35754 REFERENCES: [1] https://access.redhat.com/articles/3307751 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-01-10 Meltdown-Spectre Update"},{"location":"vulns/OSG-SEC-2018-01-10-Meltdown-Spectre-Update/#osg-sec-2018-01-04-cpu-hardware-vulnerabilities","text":"","title":"OSG-SEC-2018-01-04 CPU hardware vulnerabilities"},{"location":"vulns/OSG-SEC-2018-01-10-Meltdown-Spectre-Update/#update-2018-01-10","text":"Dear OSG Security Contacts, This is an update of the security announcement about the CPU hardware in modern processors that were reported last week and are widely known as Meltdown and Spectre. There is a new set of patches for those vulnerabilities that are applicable to Virtual Machine hypervisor hosts.","title":"[UPDATE 2018-01-10]"},{"location":"vulns/OSG-SEC-2018-01-10-Meltdown-Spectre-Update/#what-you-should-do","text":"RedHat and Scientific Linux have published mitigations for the vulnerabilities in qemu-kvm and libvirt for RHEL6, RHEL7, SL6 and SL7. Please, apply these security updates IMMEDIATELY on Virtual Machine hypervisor hosts, especially when the hosted Virtual Machines are accessible by many unprivileged users. While some sites may find the performance decreases painful, OSG Security team currently believes the benefits outweigh the costs. OSG Security team advises sites to patch all hypervisor hosts, prioritizing those that host CEs, submit hosts, and worker nodes. RedHat Linux: - RHEL6 - qemu-kvm: https://access.redhat.com/errata/RHSA-2018:0024 - libvirt: https://access.redhat.com/errata/RHSA-2018:0030 - RHEL7 - qemu-kvm: https://access.redhat.com/errata/RHSA-2018:0023 - libvirt: https://access.redhat.com/errata/RHSA-2018:0029 Scientific Linux: - SL6 - qemu-kvm: http://scientificlinux.org/category/sl-errata/slsa-20180024-1/ - libvirt: http://scientificlinux.org/category/sl-errata/slsa-20180030-1/ - SL7 - qemu-kvm: http://scientificlinux.org/category/sl-errata/slsa-20180023-1/ - libvirt: http://scientificlinux.org/category/sl-errata/slsa-20180029-1/","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-01-10-Meltdown-Spectre-Update/#related-links","text":"https://ticket.grid.iu.edu/35754","title":"RELATED LINKS:"},{"location":"vulns/OSG-SEC-2018-01-10-Meltdown-Spectre-Update/#references","text":"[1] https://access.redhat.com/articles/3307751 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES:"},{"location":"vulns/OSG-SEC-2018-01-22-Meltdown-Spectre-Update/","text":"OSG-SEC-2018-01-04 CPU hardware vulnerabilities [UPDATE 2018-01-22] Dear OSG Security Contacts, This is an update of the security announcement about the CPU hardware in modern processors that were reported in the beginning of January and are widely known as Meltdown and Spectre. Some instability issues were found in the firmware and microcode updates that caused some systems to not boot [1]. Redhat has reverted the updates with newer versions of the linux-firmware and microcode_ctl packages and instead recommends getting microcode updates directly from hardware vendors. WHAT YOU SHOULD DO: Apply the reverted patches as needed. Contact your hardware provider for the latest microcode/firmware updates. RedHat Linux: - https://access.redhat.com/errata/RHSA-2018:0093 - https://access.redhat.com/errata/RHSA-2018:0094 Scientific Linux: - https://www.scientificlinux.org/category/sl-errata/slsa-20180093-1/ - https://www.scientificlinux.org/category/sl-errata/slsa-20180094-1/ RELATED LINKS: https://ticket.grid.iu.edu/35754 REFERENCES: [1] https://access.redhat.com/solutions/3315431 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-01-22 Meltdown-Spectre Update"},{"location":"vulns/OSG-SEC-2018-01-22-Meltdown-Spectre-Update/#osg-sec-2018-01-04-cpu-hardware-vulnerabilities","text":"","title":"OSG-SEC-2018-01-04 CPU hardware vulnerabilities"},{"location":"vulns/OSG-SEC-2018-01-22-Meltdown-Spectre-Update/#update-2018-01-22","text":"Dear OSG Security Contacts, This is an update of the security announcement about the CPU hardware in modern processors that were reported in the beginning of January and are widely known as Meltdown and Spectre. Some instability issues were found in the firmware and microcode updates that caused some systems to not boot [1]. Redhat has reverted the updates with newer versions of the linux-firmware and microcode_ctl packages and instead recommends getting microcode updates directly from hardware vendors.","title":"[UPDATE 2018-01-22]"},{"location":"vulns/OSG-SEC-2018-01-22-Meltdown-Spectre-Update/#what-you-should-do","text":"Apply the reverted patches as needed. Contact your hardware provider for the latest microcode/firmware updates. RedHat Linux: - https://access.redhat.com/errata/RHSA-2018:0093 - https://access.redhat.com/errata/RHSA-2018:0094 Scientific Linux: - https://www.scientificlinux.org/category/sl-errata/slsa-20180093-1/ - https://www.scientificlinux.org/category/sl-errata/slsa-20180094-1/","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-01-22-Meltdown-Spectre-Update/#related-links","text":"https://ticket.grid.iu.edu/35754","title":"RELATED LINKS:"},{"location":"vulns/OSG-SEC-2018-01-22-Meltdown-Spectre-Update/#references","text":"[1] https://access.redhat.com/solutions/3315431 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES:"},{"location":"vulns/OSG-SEC-2018-02-28-Weak-SSL-ciphers/","text":"OSG-SEC-2018-02-28 Disable weak ciphers in SSL Dear OSG Security Contacts, This security announcement is informative and the intention is to remind OSG sites administrators to maintain secure configurations in their infrastructure at all times. In SSL and TLS, cipher suites define how secure communication takes place; and your TLS/SSL server always should select actively the best available cipher suite [1]. A recently published attack, named ROBOT [2], which targets TLS servers with weak ciphers enabled is just an example of another way that out-of-date cipher configuration can be abused. WHAT YOU SHOULD DO: Disable weak ciphers in your OpenSSL configurations. We recommend consulting the Mozilla SSL Configuration Generator tool, which for example has good recommendations for Apache httpd on Redhat EL7 [3] and EL6 [4] and derivatives. The \u201cIntermediate\u201d level is sufficient for web servers as long as they don\u2019t have access to any critical data; use \u201cModern\u201d when you can. The \u201cOld\u201d level is not acceptable. Although the Mozilla tool doesn\u2019t offer \u201cModern\u201d as an option for the EL6 Apache version, Redhat has added the support and the \u201cModern\u201d parameters from EL7 work there (except for the SSLCompression option). A good EL6/EL7 tool to check the ciphers accepted by https on a host is \u201csslscan | grep Accepted\u201d. RELATED LINKS: https://ticket.opensciencegrid.org/36295 REFERENCES [1] https://github.com/ssllabs/research/wiki/SSL-and-TLS-Deployment-Best-Practices [2] https://robotattack.org/ [3] https://mozilla.github.io/server-side-tls/ssl-config-generator/?server=apache-2.4.6&openssl=1.0.2k&profile=modern [4] https://mozilla.github.io/server-side-tls/ssl-config-generator/?server=apache-2.2.15&openssl=1.0.1e Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-02-28 Disable weak ciphers in SSL"},{"location":"vulns/OSG-SEC-2018-02-28-Weak-SSL-ciphers/#osg-sec-2018-02-28-disable-weak-ciphers-in-ssl","text":"Dear OSG Security Contacts, This security announcement is informative and the intention is to remind OSG sites administrators to maintain secure configurations in their infrastructure at all times. In SSL and TLS, cipher suites define how secure communication takes place; and your TLS/SSL server always should select actively the best available cipher suite [1]. A recently published attack, named ROBOT [2], which targets TLS servers with weak ciphers enabled is just an example of another way that out-of-date cipher configuration can be abused.","title":"OSG-SEC-2018-02-28 Disable weak ciphers in SSL"},{"location":"vulns/OSG-SEC-2018-02-28-Weak-SSL-ciphers/#what-you-should-do","text":"Disable weak ciphers in your OpenSSL configurations. We recommend consulting the Mozilla SSL Configuration Generator tool, which for example has good recommendations for Apache httpd on Redhat EL7 [3] and EL6 [4] and derivatives. The \u201cIntermediate\u201d level is sufficient for web servers as long as they don\u2019t have access to any critical data; use \u201cModern\u201d when you can. The \u201cOld\u201d level is not acceptable. Although the Mozilla tool doesn\u2019t offer \u201cModern\u201d as an option for the EL6 Apache version, Redhat has added the support and the \u201cModern\u201d parameters from EL7 work there (except for the SSLCompression option). A good EL6/EL7 tool to check the ciphers accepted by https on a host is \u201csslscan | grep Accepted\u201d.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-02-28-Weak-SSL-ciphers/#related-links","text":"https://ticket.opensciencegrid.org/36295","title":"RELATED LINKS:"},{"location":"vulns/OSG-SEC-2018-02-28-Weak-SSL-ciphers/#references","text":"[1] https://github.com/ssllabs/research/wiki/SSL-and-TLS-Deployment-Best-Practices [2] https://robotattack.org/ [3] https://mozilla.github.io/server-side-tls/ssl-config-generator/?server=apache-2.4.6&openssl=1.0.2k&profile=modern [4] https://mozilla.github.io/server-side-tls/ssl-config-generator/?server=apache-2.2.15&openssl=1.0.1e Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2018-03-05-Singularity-Vulnerability/","text":"OSG-SEC-2018-03-05 Vulnerability in Singularity Dear OSG Security Contacts, There is a new vulnerability in Singularity 2.3.2 that allows code inside the container to escape. IMPACTED VERSIONS: Singularity 2.3.2 WHAT IS THE VULNERABILITY: An open file descriptor to the image directory is passed through to the process running inside the container. With that file descriptor it is easy to escape the container: a program can fchdir() to the file descriptor and run another shell. Then \"cd ..\" out of the container can see, e.g., the host system\u2019s /tmp with other grid users' X.509 proxies, which will be readable if they are owned by the same glidein/pilot. WHAT YOU SHOULD DO: Update to the latest version singularity-2.4.2 [1] as soon as possible. Note that there are some command line incompatibilities with version 2.3.2, mostly in the commands related to managing images. RELATED LINK(S): https://ticket.opensciencegrid.org/36327 REFERENCE(S): [1] http://opensciencegrid.github.io/docs/worker-node/install-singularity/ Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-03-05 Vulnerability in Singularity"},{"location":"vulns/OSG-SEC-2018-03-05-Singularity-Vulnerability/#osg-sec-2018-03-05-vulnerability-in-singularity","text":"Dear OSG Security Contacts, There is a new vulnerability in Singularity 2.3.2 that allows code inside the container to escape.","title":"OSG-SEC-2018-03-05 Vulnerability in Singularity"},{"location":"vulns/OSG-SEC-2018-03-05-Singularity-Vulnerability/#impacted-versions","text":"Singularity 2.3.2","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2018-03-05-Singularity-Vulnerability/#what-is-the-vulnerability","text":"An open file descriptor to the image directory is passed through to the process running inside the container. With that file descriptor it is easy to escape the container: a program can fchdir() to the file descriptor and run another shell. Then \"cd ..\" out of the container can see, e.g., the host system\u2019s /tmp with other grid users' X.509 proxies, which will be readable if they are owned by the same glidein/pilot.","title":"WHAT IS THE VULNERABILITY:"},{"location":"vulns/OSG-SEC-2018-03-05-Singularity-Vulnerability/#what-you-should-do","text":"Update to the latest version singularity-2.4.2 [1] as soon as possible. Note that there are some command line incompatibilities with version 2.3.2, mostly in the commands related to managing images.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-03-05-Singularity-Vulnerability/#related-links","text":"https://ticket.opensciencegrid.org/36327","title":"RELATED LINK(S):"},{"location":"vulns/OSG-SEC-2018-03-05-Singularity-Vulnerability/#references","text":"[1] http://opensciencegrid.github.io/docs/worker-node/install-singularity/ Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCE(S):"},{"location":"vulns/OSG-SEC-2018-03-08-Limiting-Singularity-image-types/","text":"OSG-SEC-2018-03-08 Limiting Singularity image types Dear OSG Security Contacts, This security advisory is INFORMATIONAL for OSG sites that have installed Singularity. The OSG Security Team would like to inform sites of how they can reduce risk of unknown exploits by disabling unused features. The default configuration of Singularity allows image types that carry a higher theoretical risk of attack. These image types are not currently used on the OSG, no specific exploit has been found, and we believe that any discovered vulnerability would be patched by RedHat. For those reasons, sites may choose whether or not to protect against the potential vulnerability. This issue has been documented in the OSG singularity install documentation for a few months so you may already be aware of it, but there has been no OSG security announcement about it before now. IMPACTED VERSIONS: RedHat 6 & 7 and its derivatives are affected, and all versions of Singularity. WHAT IS THE POTENTIAL VULNERABILITY: By default the setuid (RPM) distribution of Singularity allows unprivileged users to mount image files via loopback devices. This carries an inherently higher exposure to potential kernel exploits, as discussed in [1]. There are no known public exploits at this time, but Linux kernel developers are concerned enough to refuse allowing the capability in the kernel. Singularity enables the capability via a setuid-root function. No OSG VOs require mounting image files via loopback devices with Singularity on worker nodes. They instead use operating system images in directory trees distributed in CVMFS. However, as sites utilize OSG-provided Singularity for non-OSG use cases, we have not changed the upstream default value. Changing the RPM\u2019s default values could potentially cause problems when upgrading between Singularity versions. Sites should balance their understanding of the elevated risk with local use cases when planning any configuration change. WHAT YOU SHOULD DO: Read the \u201cLimiting Image Types\u201d section in the OSG documentation for installing Singularity [2] and decide whether or not to set the number of loopback devices to zero. Note the warning about watching out for singularity.conf.rpmnew after upgrades. Sites should also consider limiting their vulnerability further by installing only the singularity-runtime rpm and not the singularity rpm on worker nodes. RELATED LINKS: https://ticket.grid.iu.edu/36388 REFERENCES: [1] https://lwn.net/Articles/652468/ [2] http://opensciencegrid.github.io/docs/worker-node/install-singularity/#limiting-image-types Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-03-08 Limiting Singularity image types"},{"location":"vulns/OSG-SEC-2018-03-08-Limiting-Singularity-image-types/#osg-sec-2018-03-08-limiting-singularity-image-types","text":"Dear OSG Security Contacts, This security advisory is INFORMATIONAL for OSG sites that have installed Singularity. The OSG Security Team would like to inform sites of how they can reduce risk of unknown exploits by disabling unused features. The default configuration of Singularity allows image types that carry a higher theoretical risk of attack. These image types are not currently used on the OSG, no specific exploit has been found, and we believe that any discovered vulnerability would be patched by RedHat. For those reasons, sites may choose whether or not to protect against the potential vulnerability. This issue has been documented in the OSG singularity install documentation for a few months so you may already be aware of it, but there has been no OSG security announcement about it before now.","title":"OSG-SEC-2018-03-08 Limiting Singularity image types"},{"location":"vulns/OSG-SEC-2018-03-08-Limiting-Singularity-image-types/#impacted-versions","text":"RedHat 6 & 7 and its derivatives are affected, and all versions of Singularity.","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2018-03-08-Limiting-Singularity-image-types/#what-is-the-potential-vulnerability","text":"By default the setuid (RPM) distribution of Singularity allows unprivileged users to mount image files via loopback devices. This carries an inherently higher exposure to potential kernel exploits, as discussed in [1]. There are no known public exploits at this time, but Linux kernel developers are concerned enough to refuse allowing the capability in the kernel. Singularity enables the capability via a setuid-root function. No OSG VOs require mounting image files via loopback devices with Singularity on worker nodes. They instead use operating system images in directory trees distributed in CVMFS. However, as sites utilize OSG-provided Singularity for non-OSG use cases, we have not changed the upstream default value. Changing the RPM\u2019s default values could potentially cause problems when upgrading between Singularity versions. Sites should balance their understanding of the elevated risk with local use cases when planning any configuration change.","title":"WHAT IS THE POTENTIAL VULNERABILITY:"},{"location":"vulns/OSG-SEC-2018-03-08-Limiting-Singularity-image-types/#what-you-should-do","text":"Read the \u201cLimiting Image Types\u201d section in the OSG documentation for installing Singularity [2] and decide whether or not to set the number of loopback devices to zero. Note the warning about watching out for singularity.conf.rpmnew after upgrades. Sites should also consider limiting their vulnerability further by installing only the singularity-runtime rpm and not the singularity rpm on worker nodes.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-03-08-Limiting-Singularity-image-types/#related-links","text":"https://ticket.grid.iu.edu/36388","title":"RELATED LINKS:"},{"location":"vulns/OSG-SEC-2018-03-08-Limiting-Singularity-image-types/#references","text":"[1] https://lwn.net/Articles/652468/ [2] http://opensciencegrid.github.io/docs/worker-node/install-singularity/#limiting-image-types Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES:"},{"location":"vulns/OSG-SEC-2018-03-13-SAML-Vulnerabilities-affecting-multiple-implementations/","text":"OSG-SEC-2018-03-13 SAML Vulnerabilities affecting multiple implementations Dear OSG Security Contacts, This security advisory is INFORMATIONAL. DuoLabs - the research team of Duo Security- has published the details of a new vulnerability that affects SAML-based single-sign-on (SSO) systems. \"This vulnerability can allow an attacker with authenticated access to trick SAML systems into authenticating as a different user without knowledge of the victim user's password.\" [1] IMPACTED VERSIONS: Multiple vendors and all SAML-based systems using these vulnerable libraries are affected by this flaw: OneLogin python-saml library before v2.4.0. OneLogin ruby-saml library before v1.7.2. Clever - saml2-js library from 1.12.3 to 1.12.4 and 2.0.1 to 2.0.2 Shibboleth - XMLTooling library before V1.6.4. Duo Network Gateway before version 1.2.10. WHAT IS THE VULNERABILITY: The vulnerability is a flaw in some XML libraries and the way the text is extracted from the XML elements, particularly, when comments are included. In addition, XML canonicalization removes comments as part of signature validation; adding comments to a SAML Response will not invalidate the signature. Now, given that SAML Responses contain strings that identify the authenticating user, an attacker can impersonate a legitimate user and access protected information by modifying the SAML assertion and inserting a comment in the XML element that contains the Subject NameID [1]. The Common Vulnerabilities and Exposures (CVEs) numbers assigned for this vulnerability are listed below: OneLogin python-saml library: CVE-2017-11427 OneLogin ruby-saml library: CVE-2017-11428 Clever - saml2-js library: CVE-2017-11429 Shibboleth - XMLTooling library: CVE-2018-0489 Duo Network Gateway: CVE-2018-7340 WHAT YOU SHOULD DO: Apply updates and security patches for all the affected software to mitigate this vulnerability. Any systems that rely on SAML-based SSO should be patched ASAP: OneLogin - python-saml https://github.com/onelogin/python-saml/releases OneLogin - ruby-saml: https://github.com/onelogin/ruby-saml/releases Clever - saml2-js: https://engineering.clever.com/2018/02/28/clever-saml2-js-and-cve-2017-11429/ Shibboleth XMLTooling library: https://shibboleth.net/community/advisories/secadv_20180227.txt Duo Network Gateway: https://duo.com/labs/psa/duo-psa-2017-003 RELATED LINKS: https://ticket.grid.iu.edu/36412 REFERENCES [1] https://duo.com/blog/duo-finds-saml-vulnerabilities-affecting-multiple-implementations Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-03-13 SAML Vulnerabilities affecting multiple implementations"},{"location":"vulns/OSG-SEC-2018-03-13-SAML-Vulnerabilities-affecting-multiple-implementations/#osg-sec-2018-03-13-saml-vulnerabilities-affecting-multiple-implementations","text":"Dear OSG Security Contacts, This security advisory is INFORMATIONAL. DuoLabs - the research team of Duo Security- has published the details of a new vulnerability that affects SAML-based single-sign-on (SSO) systems. \"This vulnerability can allow an attacker with authenticated access to trick SAML systems into authenticating as a different user without knowledge of the victim user's password.\" [1]","title":"OSG-SEC-2018-03-13 SAML Vulnerabilities affecting multiple implementations"},{"location":"vulns/OSG-SEC-2018-03-13-SAML-Vulnerabilities-affecting-multiple-implementations/#impacted-versions","text":"Multiple vendors and all SAML-based systems using these vulnerable libraries are affected by this flaw: OneLogin python-saml library before v2.4.0. OneLogin ruby-saml library before v1.7.2. Clever - saml2-js library from 1.12.3 to 1.12.4 and 2.0.1 to 2.0.2 Shibboleth - XMLTooling library before V1.6.4. Duo Network Gateway before version 1.2.10.","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2018-03-13-SAML-Vulnerabilities-affecting-multiple-implementations/#what-is-the-vulnerability","text":"The vulnerability is a flaw in some XML libraries and the way the text is extracted from the XML elements, particularly, when comments are included. In addition, XML canonicalization removes comments as part of signature validation; adding comments to a SAML Response will not invalidate the signature. Now, given that SAML Responses contain strings that identify the authenticating user, an attacker can impersonate a legitimate user and access protected information by modifying the SAML assertion and inserting a comment in the XML element that contains the Subject NameID [1]. The Common Vulnerabilities and Exposures (CVEs) numbers assigned for this vulnerability are listed below: OneLogin python-saml library: CVE-2017-11427 OneLogin ruby-saml library: CVE-2017-11428 Clever - saml2-js library: CVE-2017-11429 Shibboleth - XMLTooling library: CVE-2018-0489 Duo Network Gateway: CVE-2018-7340","title":"WHAT IS THE VULNERABILITY:"},{"location":"vulns/OSG-SEC-2018-03-13-SAML-Vulnerabilities-affecting-multiple-implementations/#what-you-should-do","text":"Apply updates and security patches for all the affected software to mitigate this vulnerability. Any systems that rely on SAML-based SSO should be patched ASAP: OneLogin - python-saml https://github.com/onelogin/python-saml/releases OneLogin - ruby-saml: https://github.com/onelogin/ruby-saml/releases Clever - saml2-js: https://engineering.clever.com/2018/02/28/clever-saml2-js-and-cve-2017-11429/ Shibboleth XMLTooling library: https://shibboleth.net/community/advisories/secadv_20180227.txt Duo Network Gateway: https://duo.com/labs/psa/duo-psa-2017-003","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-03-13-SAML-Vulnerabilities-affecting-multiple-implementations/#related-links","text":"https://ticket.grid.iu.edu/36412","title":"RELATED LINKS:"},{"location":"vulns/OSG-SEC-2018-03-13-SAML-Vulnerabilities-affecting-multiple-implementations/#references","text":"[1] https://duo.com/blog/duo-finds-saml-vulnerabilities-affecting-multiple-implementations Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2018-03-27-SLURM-Vulnerability/","text":"OSG-SEC-2018-03-27 SLURM Vulnerability Dear OSG Security Contacts, A critical vulnerability was reported in Slurm which allows SQL injection attacks against the SlurmDBD component and it is described in CVE-2018-7033. IMPACTED VERSIONS: SLURM Versions 17.11.5 and 17.02.10 were released on March 15th 2018 with a fix for the mentioned vulnerability. All previous versions are considered to be vulnerable. WHAT IS THE VULNERABILITY: \"Several issues were discovered with incomplete sanitization of user-provided text strings, which could potentially lead to SQL injection attacks against SlurmDBD itself. Such exploits could lead to a loss of accounting data, or escalation of user privileges on the cluster.\" [1] WHAT YOU SHOULD DO: Sites running SLURM are recommended to update to the most current versions as soon as possible if they have not done so already. As stated in the security advisory by the software vendor: \"The only safe mitigation, aside from installing these updated versions, is to disable SlurmDBD on your system.\" [1] RELATED LINKS https://ticket.grid.iu.edu/36596 REFERENCES [1] https://www.schedmd.com/news.php?id=201#OPT_201 Please contact the OSG security team [immediately] at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-03-27 Vulnerability in SLURM"},{"location":"vulns/OSG-SEC-2018-03-27-SLURM-Vulnerability/#osg-sec-2018-03-27-slurm-vulnerability","text":"Dear OSG Security Contacts, A critical vulnerability was reported in Slurm which allows SQL injection attacks against the SlurmDBD component and it is described in CVE-2018-7033.","title":"OSG-SEC-2018-03-27 SLURM Vulnerability"},{"location":"vulns/OSG-SEC-2018-03-27-SLURM-Vulnerability/#impacted-versions","text":"SLURM Versions 17.11.5 and 17.02.10 were released on March 15th 2018 with a fix for the mentioned vulnerability. All previous versions are considered to be vulnerable.","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2018-03-27-SLURM-Vulnerability/#what-is-the-vulnerability","text":"\"Several issues were discovered with incomplete sanitization of user-provided text strings, which could potentially lead to SQL injection attacks against SlurmDBD itself. Such exploits could lead to a loss of accounting data, or escalation of user privileges on the cluster.\" [1]","title":"WHAT IS THE VULNERABILITY:"},{"location":"vulns/OSG-SEC-2018-03-27-SLURM-Vulnerability/#what-you-should-do","text":"Sites running SLURM are recommended to update to the most current versions as soon as possible if they have not done so already. As stated in the security advisory by the software vendor: \"The only safe mitigation, aside from installing these updated versions, is to disable SlurmDBD on your system.\" [1]","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-03-27-SLURM-Vulnerability/#related-links","text":"https://ticket.grid.iu.edu/36596","title":"RELATED LINKS"},{"location":"vulns/OSG-SEC-2018-03-27-SLURM-Vulnerability/#references","text":"[1] https://www.schedmd.com/news.php?id=201#OPT_201 Please contact the OSG security team [immediately] at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2018-04-02-Critical-Vulnerability-in-Singularity/","text":"OSG-SEC-2018-04-02 Critical Vulnerability in Singularity Dear OSG Security Contacts, A vulnerability has been reported in Singularity that has been rated as \"Critical\". This vulnerability allows an attacker to create arbitrary world-writable directories and files anywhere outside of a container and in that way obtain root privileges. The vulnerability is in the Singularity 'overlay' option. The vulnerability does not enable modifying existing files, it just allows creating new directories and files, but that is sufficient for privilege escalation. IMPACTED VERSIONS: All Singularity versions from 2.2.1 and later on RHEL7 and its derivatives are affected. All versions of singularity el7 rpms from OSG have the overlay option enabled by default. The 2.2.1 version from EPEL has the option disabled by default but a system administrator may have enabled it. RHEL6 and its derivatives are not affected because they do not support OverlayFS. Non setuid-root installations are also not affected. WHAT YOU SHOULD DO: There is no patched version yet. Instead, you should urgently apply the following mitigation: Disable the overlay option by replacing the 'enable overlay' setting in '/etc/singularity/singularity.conf' with 'enable overlay = no'. The VOs that currently use Singularity in production do not require this option. We will send another announcement when a new version with a patch is available. RELATED LINKS: https://ticket.grid.iu.edu/36742 OTHER INFORMATION: OSG was alerted about this issue by the EGI Software Vulnerability Group. Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-04-02 Critical vulnerability in Singularity"},{"location":"vulns/OSG-SEC-2018-04-02-Critical-Vulnerability-in-Singularity/#osg-sec-2018-04-02-critical-vulnerability-in-singularity","text":"Dear OSG Security Contacts, A vulnerability has been reported in Singularity that has been rated as \"Critical\". This vulnerability allows an attacker to create arbitrary world-writable directories and files anywhere outside of a container and in that way obtain root privileges. The vulnerability is in the Singularity 'overlay' option. The vulnerability does not enable modifying existing files, it just allows creating new directories and files, but that is sufficient for privilege escalation.","title":"OSG-SEC-2018-04-02 Critical Vulnerability in Singularity"},{"location":"vulns/OSG-SEC-2018-04-02-Critical-Vulnerability-in-Singularity/#impacted-versions","text":"All Singularity versions from 2.2.1 and later on RHEL7 and its derivatives are affected. All versions of singularity el7 rpms from OSG have the overlay option enabled by default. The 2.2.1 version from EPEL has the option disabled by default but a system administrator may have enabled it. RHEL6 and its derivatives are not affected because they do not support OverlayFS. Non setuid-root installations are also not affected.","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2018-04-02-Critical-Vulnerability-in-Singularity/#what-you-should-do","text":"There is no patched version yet. Instead, you should urgently apply the following mitigation: Disable the overlay option by replacing the 'enable overlay' setting in '/etc/singularity/singularity.conf' with 'enable overlay = no'. The VOs that currently use Singularity in production do not require this option. We will send another announcement when a new version with a patch is available.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-04-02-Critical-Vulnerability-in-Singularity/#related-links","text":"https://ticket.grid.iu.edu/36742","title":"RELATED LINKS:"},{"location":"vulns/OSG-SEC-2018-04-02-Critical-Vulnerability-in-Singularity/#other-information","text":"OSG was alerted about this issue by the EGI Software Vulnerability Group. Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OTHER INFORMATION:"},{"location":"vulns/OSG-SEC-2018-04-17-Vulnerability-in-MariaDB-MySQL/","text":"OSG-SEC-2018-04-17 Vulnerability in MariaDB MySQL Dear OSG Security Contacts, A vulnerability has been reported in the MariaDB MySQL that has been rated as \u2018up to HIGH\u2019 by EGI [1]. This vulnerability described in CVE-2018-2562, allows a low privileged attacker with network access via multiple protocols to compromise a MySQL Server. Impacted Versions/Environments: Following versions are affected - MariaDB 10.2.12 (prior versions have not been tested) - MariaDB 10.1.30 (prior versions have not been tested) - MariaDB 10.0.33 (prior versions have not been tested) - MariaDB 5.5.58 and prior Action Recommendations: Sites running MySQL should update to the most current version if they are running distributions where a patch is available. The vulnerability has been patched in the following version of MariaDB. - MariaDB 10.2.13 and later [2] - MariaDB 10.1.31 and later [3] - MariaDB 10.0.34 and later [4] - MariaDB 5.5.59 [5] Also ensure that MySQL is not directly accessible from the network unless it is essential for the application. How It Works: This vulnerability allows low privileged attacker with network access via multiple protocols to compromise a MySQL Server. Successful attacks of this vulnerability can result in unauthorized ability to cause a hang or frequently repeatable crash (complete DOS) of MySQL Server as well as unauthorized update, insert or delete access to some of MySQL Server accessible data. Related Link(s): https://ticket.opensciencegrid.org/37043 More Information: - [1] https://wiki.egi.eu/wiki/SVG:Advisory-SVG-CVE-2018-2562 - [2] https://mariadb.com/kb/en/library/mariadb-102/ - [3] https://mariadb.com/kb/en/library/mariadb-101/ - [4] https://mariadb.com/kb/en/library/mariadb-100/ - [5] https://mariadb.com/kb/en/library/mariadb-55/ Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-04-17 Vulnerability in MariaDB MySQL"},{"location":"vulns/OSG-SEC-2018-04-17-Vulnerability-in-MariaDB-MySQL/#osg-sec-2018-04-17-vulnerability-in-mariadb-mysql","text":"Dear OSG Security Contacts, A vulnerability has been reported in the MariaDB MySQL that has been rated as \u2018up to HIGH\u2019 by EGI [1]. This vulnerability described in CVE-2018-2562, allows a low privileged attacker with network access via multiple protocols to compromise a MySQL Server.","title":"OSG-SEC-2018-04-17 Vulnerability in MariaDB MySQL"},{"location":"vulns/OSG-SEC-2018-04-17-Vulnerability-in-MariaDB-MySQL/#impacted-versionsenvironments","text":"Following versions are affected - MariaDB 10.2.12 (prior versions have not been tested) - MariaDB 10.1.30 (prior versions have not been tested) - MariaDB 10.0.33 (prior versions have not been tested) - MariaDB 5.5.58 and prior Action Recommendations: Sites running MySQL should update to the most current version if they are running distributions where a patch is available. The vulnerability has been patched in the following version of MariaDB. - MariaDB 10.2.13 and later [2] - MariaDB 10.1.31 and later [3] - MariaDB 10.0.34 and later [4] - MariaDB 5.5.59 [5] Also ensure that MySQL is not directly accessible from the network unless it is essential for the application.","title":"Impacted Versions/Environments:"},{"location":"vulns/OSG-SEC-2018-04-17-Vulnerability-in-MariaDB-MySQL/#how-it-works","text":"This vulnerability allows low privileged attacker with network access via multiple protocols to compromise a MySQL Server. Successful attacks of this vulnerability can result in unauthorized ability to cause a hang or frequently repeatable crash (complete DOS) of MySQL Server as well as unauthorized update, insert or delete access to some of MySQL Server accessible data.","title":"How It Works:"},{"location":"vulns/OSG-SEC-2018-04-17-Vulnerability-in-MariaDB-MySQL/#related-links","text":"https://ticket.opensciencegrid.org/37043 More Information: - [1] https://wiki.egi.eu/wiki/SVG:Advisory-SVG-CVE-2018-2562 - [2] https://mariadb.com/kb/en/library/mariadb-102/ - [3] https://mariadb.com/kb/en/library/mariadb-101/ - [4] https://mariadb.com/kb/en/library/mariadb-100/ - [5] https://mariadb.com/kb/en/library/mariadb-55/ Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"Related Link(s):"},{"location":"vulns/OSG-SEC-2018-04-19-Critical-Vulnerability-in-Singularity-Update/","text":"OSG-SEC-2018-04-19 [FOLLOW-UP] Critical Vulnerability in Singularity Dear OSG Security Contacts, This is a follow-up to the previously announced Critical vulnerability in singularity. OSG has released a new version singularity-2.4.6 that eliminates the vulnerability. Note that for the security fix the new version puts a restriction on combinations of options that do bind mounts, and this is known to currently cause CMS jobs to fail. CMS was notified but hasn\u2019t yet had the resources to change their production pilot scripts, so CMS sites will probably want to wait to do the upgrade until they get a go-ahead from CMS. Sites that do not upgrade are encouraged to keep the previously announced mitigation in effect until they do upgrade. IMPACTED VERSIONS: All singularity versions from 2.2.1 and later on RHEL7 and its derivatives are affected. WHAT YOU SHOULD DO: Upgrade to singularity-2.4.6 or leave the 'enable overlay = no' mitigation in place. When you upgrade, watch for /etc/singularity/singularity.conf.rpmnew and clean it up. RELATED LINKS: - https://ticket.grid.iu.edu/36742 OTHER INFORMATION: Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-04-19 Critical vulnerability in Singularity Update"},{"location":"vulns/OSG-SEC-2018-04-19-Critical-Vulnerability-in-Singularity-Update/#osg-sec-2018-04-19-follow-up-critical-vulnerability-in-singularity","text":"Dear OSG Security Contacts, This is a follow-up to the previously announced Critical vulnerability in singularity. OSG has released a new version singularity-2.4.6 that eliminates the vulnerability. Note that for the security fix the new version puts a restriction on combinations of options that do bind mounts, and this is known to currently cause CMS jobs to fail. CMS was notified but hasn\u2019t yet had the resources to change their production pilot scripts, so CMS sites will probably want to wait to do the upgrade until they get a go-ahead from CMS. Sites that do not upgrade are encouraged to keep the previously announced mitigation in effect until they do upgrade.","title":"OSG-SEC-2018-04-19 [FOLLOW-UP] Critical Vulnerability in Singularity"},{"location":"vulns/OSG-SEC-2018-04-19-Critical-Vulnerability-in-Singularity-Update/#impacted-versions","text":"All singularity versions from 2.2.1 and later on RHEL7 and its derivatives are affected.","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2018-04-19-Critical-Vulnerability-in-Singularity-Update/#what-you-should-do","text":"Upgrade to singularity-2.4.6 or leave the 'enable overlay = no' mitigation in place. When you upgrade, watch for /etc/singularity/singularity.conf.rpmnew and clean it up. RELATED LINKS: - https://ticket.grid.iu.edu/36742","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-04-19-Critical-Vulnerability-in-Singularity-Update/#other-information","text":"Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OTHER INFORMATION:"},{"location":"vulns/OSG-SEC-2018-04-25-Including-Lets-Encrypt-in-OSG-CA-bundle/","text":"OSG-SEC-2018-04-25 Including Let\u2019s Encrypt\u2019s signing certificate in OSG CA bundle Dear OSG Security Contacts, This security advisory is INFORMATIONAL for OSG sites. As a part of the Service Migration Plan [1], we will be adding the Let\u2019s Encrypt root certificate to the OSG CA certificate bundle. The OSG has traditionally included a handful of CAs in addition to the IGTF-Classic (https://www.igtf.net/ap/classic/) Certificate Authorities (CAs) for signing host certificates. These CAs often rely on manual, multi-step processes for signing certificates that add administrative overhead. Many modern operational environments would like to spin up hosts in response to changing user demand but the manual process often proves to be too slow for certificate procurement and revocation. Let\u2019s Encrypt is an automated CA system that relies on a FQDN\u2019s authoritative DNS records to identify and confirm a host\u2019s identity.[3] Let\u2019s Encrypt also provides short-lived certificates in a secure manner with a minimum of overhead and automated renewal. Unlike the IGTF-Classic CAs, certificates from Let\u2019s Encrypt will be recognized by your browser and OS by default. Let\u2019s Encrypt, however, does not confirm the organization that is running the host in the same manner as the IGTF-Classic CAs; we believe the additional IGTF checks are redundant with the registration and service discovery steps done on the OSG. OSG has separate registration procedures for services on the OSG that verifies the organizations; no access is given solely based on the possession of a host certificate. For more details please consult the OSG Information Security Officer\u2019s position paper on the Let\u2019s Encrypt CA for Host Certificate Signing. [2] This is the upcoming change likely to be most relevant to security contacts during the migration. For more details on the migration plan please consult the Service Migration Plan document. [1] More Information: - [1] https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/ - [2] https://docs.google.com/document/d/17In575G9PawPzPGnPTSbqpDz2_9KVV3AlMgWNnHVKTQ/edit# - [3] https://letsencrypt.org/how-it-works/ Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns.","title":"OSG-SEC-2018-04-25 Including Let\u2019s Encrypt CA in the OSG CA bundle"},{"location":"vulns/OSG-SEC-2018-04-25-Including-Lets-Encrypt-in-OSG-CA-bundle/#osg-sec-2018-04-25-including-lets-encrypts-signing-certificate-in-osg-ca-bundle","text":"Dear OSG Security Contacts, This security advisory is INFORMATIONAL for OSG sites. As a part of the Service Migration Plan [1], we will be adding the Let\u2019s Encrypt root certificate to the OSG CA certificate bundle. The OSG has traditionally included a handful of CAs in addition to the IGTF-Classic (https://www.igtf.net/ap/classic/) Certificate Authorities (CAs) for signing host certificates. These CAs often rely on manual, multi-step processes for signing certificates that add administrative overhead. Many modern operational environments would like to spin up hosts in response to changing user demand but the manual process often proves to be too slow for certificate procurement and revocation. Let\u2019s Encrypt is an automated CA system that relies on a FQDN\u2019s authoritative DNS records to identify and confirm a host\u2019s identity.[3] Let\u2019s Encrypt also provides short-lived certificates in a secure manner with a minimum of overhead and automated renewal. Unlike the IGTF-Classic CAs, certificates from Let\u2019s Encrypt will be recognized by your browser and OS by default. Let\u2019s Encrypt, however, does not confirm the organization that is running the host in the same manner as the IGTF-Classic CAs; we believe the additional IGTF checks are redundant with the registration and service discovery steps done on the OSG. OSG has separate registration procedures for services on the OSG that verifies the organizations; no access is given solely based on the possession of a host certificate. For more details please consult the OSG Information Security Officer\u2019s position paper on the Let\u2019s Encrypt CA for Host Certificate Signing. [2] This is the upcoming change likely to be most relevant to security contacts during the migration. For more details on the migration plan please consult the Service Migration Plan document. [1] More Information: - [1] https://opensciencegrid.github.io/technology/policy/service-migrations-spring-2018/ - [2] https://docs.google.com/document/d/17In575G9PawPzPGnPTSbqpDz2_9KVV3AlMgWNnHVKTQ/edit# - [3] https://letsencrypt.org/how-it-works/ Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns.","title":"OSG-SEC-2018-04-25 Including Let\u2019s Encrypt\u2019s signing certificate in OSG CA bundle"},{"location":"vulns/OSG-SEC-2018-04-30-Multiple-Singularity-Vulnerabilities/","text":"OSG-SEC-2018-04-30 Multiple Singularity Vulnerabilities Dear OSG Security Contacts, Multiple vulnerabilities have been publicly reported concerning setuid-root installations of Singularity, including more than one way for a user outside of a container to escalate privileges. OSG security considers this a Critical vulnerability and the impact is high for our infrastructure. A new version is available in the osg-development yum repository and it is planned to be released to the osg yum repository in the morning on Tuesday, May 1. IMPACTED VERSIONS: Singularity versions 2.4.6 and earlier are impacted. Both EL6 and EL7 based systems are impacted. Installations using unprivileged singularity [1] on EL7 are not affected by these issues. WHAT ARE THE VULNERABILITIES: Unprivileged users who have access to run setuid-root singularity can: create world writable files in root-owned directories on the host system create folders outside of the container bypass the \u201cenable overlay = no\u201d option in singularity.conf (EL7 only) exploit buffer overflows For more details see the singularity-2.5.0 release announcement [2]. Note especially that jobs running inside of singularity containers are not able to exploit these vulnerabilities. WHAT YOU SHOULD DO: IMMEDIATELY begin testing the latest singularity version with the following command: yum update --enablerepo=osg-development singularity-runtime Version 2.5.0-1.1.osg34 includes a pending pull request [3], and there is one more potential known issue at this time [4] but it is not known to affect OSG use cases. Report any problems seen to security@opensciencegrid.org. If no problems are seen with your use cases you may upgrade before the release to the osg yum repository. RELATED LINKS http://opensciencegrid.github.io/docs/worker-node/install-singularity/ - OSG singularity install documentation. https://ticket.grid.iu.edu/37322 REFERENCES [1] http://opensciencegrid.github.io/docs/worker-node/install-singularity/#unprivileged-singularity [2] https://github.com/singularityware/singularity/releases/tag/2.5.0 [3] https://github.com/singularityware/singularity/pull/1491 [4] https://github.com/singularityware/singularity/pull/1490 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-04-30 Multiple vulnerabilities in Singularity"},{"location":"vulns/OSG-SEC-2018-04-30-Multiple-Singularity-Vulnerabilities/#osg-sec-2018-04-30-multiple-singularity-vulnerabilities","text":"Dear OSG Security Contacts, Multiple vulnerabilities have been publicly reported concerning setuid-root installations of Singularity, including more than one way for a user outside of a container to escalate privileges. OSG security considers this a Critical vulnerability and the impact is high for our infrastructure. A new version is available in the osg-development yum repository and it is planned to be released to the osg yum repository in the morning on Tuesday, May 1.","title":"OSG-SEC-2018-04-30 Multiple Singularity Vulnerabilities"},{"location":"vulns/OSG-SEC-2018-04-30-Multiple-Singularity-Vulnerabilities/#impacted-versions","text":"Singularity versions 2.4.6 and earlier are impacted. Both EL6 and EL7 based systems are impacted. Installations using unprivileged singularity [1] on EL7 are not affected by these issues.","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2018-04-30-Multiple-Singularity-Vulnerabilities/#what-are-the-vulnerabilities","text":"Unprivileged users who have access to run setuid-root singularity can: create world writable files in root-owned directories on the host system create folders outside of the container bypass the \u201cenable overlay = no\u201d option in singularity.conf (EL7 only) exploit buffer overflows For more details see the singularity-2.5.0 release announcement [2]. Note especially that jobs running inside of singularity containers are not able to exploit these vulnerabilities.","title":"WHAT ARE THE VULNERABILITIES:"},{"location":"vulns/OSG-SEC-2018-04-30-Multiple-Singularity-Vulnerabilities/#what-you-should-do","text":"IMMEDIATELY begin testing the latest singularity version with the following command: yum update --enablerepo=osg-development singularity-runtime Version 2.5.0-1.1.osg34 includes a pending pull request [3], and there is one more potential known issue at this time [4] but it is not known to affect OSG use cases. Report any problems seen to security@opensciencegrid.org. If no problems are seen with your use cases you may upgrade before the release to the osg yum repository.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-04-30-Multiple-Singularity-Vulnerabilities/#related-links","text":"http://opensciencegrid.github.io/docs/worker-node/install-singularity/ - OSG singularity install documentation. https://ticket.grid.iu.edu/37322","title":"RELATED LINKS"},{"location":"vulns/OSG-SEC-2018-04-30-Multiple-Singularity-Vulnerabilities/#references","text":"[1] http://opensciencegrid.github.io/docs/worker-node/install-singularity/#unprivileged-singularity [2] https://github.com/singularityware/singularity/releases/tag/2.5.0 [3] https://github.com/singularityware/singularity/pull/1491 [4] https://github.com/singularityware/singularity/pull/1490 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2018-05-07-Unprivileged-User-Namespaces-vulnerability/","text":"OSG-SEC-2018-05-07 Unprivileged User Namespaces vulnerability Dear OSG Security Contacts, A vulnerability has been found with the unprivileged user namespaces technology preview feature of RHEL7 that enables privilege escalation. This feature is not enabled by default, but the OSG singularity install instructions [1] explain how to enable the feature in order to run singularity unprivileged. For those who have enabled this feature, a patch is available and OSG security considers patching this vulnerability to be IMPORTANT. IMPACTED VERSIONS: Red Hat Enterprise Linux and its derivatives, version 7.4 and later WHAT ARE THE VULNERABILITIES: The realpath() function in glibc has a buffer underflow condition which can be exploited to escalate privileges by means of unprivileged user namespaces and setuid-root system programs linked with glibc. A public exploit is available for Debian systems which could theoretically be adapted to RHEL. WHAT YOU SHOULD DO: Upgrade glibc on systems that have unprivileged user namespaces enabled, to version glibc-2.17-222. This version was released by Red Hat with EL7.5, and even though that OS version is not yet released by Scientific Linux the glibc update is available now in the SL7 \"sl-security\" yum repository. It is also available in the CentOS7 \"cr\" yum repository. RELATED LINKS https://access.redhat.com/security/cve/cve-2018-1000001 https://access.redhat.com/errata/RHSA-2018:0805 https://www.scientificlinux.org/category/sl-errata/slsa-20180805-1 https://ticket.opensciencegrid.org/37551 REFERENCES [1] http://opensciencegrid.github.io/docs/worker-node/install-singularity/#unprivileged-singularity Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-05-07 Unprivileged user namespaces in Singularity"},{"location":"vulns/OSG-SEC-2018-05-07-Unprivileged-User-Namespaces-vulnerability/#osg-sec-2018-05-07-unprivileged-user-namespaces-vulnerability","text":"Dear OSG Security Contacts, A vulnerability has been found with the unprivileged user namespaces technology preview feature of RHEL7 that enables privilege escalation. This feature is not enabled by default, but the OSG singularity install instructions [1] explain how to enable the feature in order to run singularity unprivileged. For those who have enabled this feature, a patch is available and OSG security considers patching this vulnerability to be IMPORTANT.","title":"OSG-SEC-2018-05-07 Unprivileged User Namespaces vulnerability"},{"location":"vulns/OSG-SEC-2018-05-07-Unprivileged-User-Namespaces-vulnerability/#impacted-versions","text":"Red Hat Enterprise Linux and its derivatives, version 7.4 and later","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2018-05-07-Unprivileged-User-Namespaces-vulnerability/#what-are-the-vulnerabilities","text":"The realpath() function in glibc has a buffer underflow condition which can be exploited to escalate privileges by means of unprivileged user namespaces and setuid-root system programs linked with glibc. A public exploit is available for Debian systems which could theoretically be adapted to RHEL.","title":"WHAT ARE THE VULNERABILITIES:"},{"location":"vulns/OSG-SEC-2018-05-07-Unprivileged-User-Namespaces-vulnerability/#what-you-should-do","text":"Upgrade glibc on systems that have unprivileged user namespaces enabled, to version glibc-2.17-222. This version was released by Red Hat with EL7.5, and even though that OS version is not yet released by Scientific Linux the glibc update is available now in the SL7 \"sl-security\" yum repository. It is also available in the CentOS7 \"cr\" yum repository.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-05-07-Unprivileged-User-Namespaces-vulnerability/#related-links","text":"https://access.redhat.com/security/cve/cve-2018-1000001 https://access.redhat.com/errata/RHSA-2018:0805 https://www.scientificlinux.org/category/sl-errata/slsa-20180805-1 https://ticket.opensciencegrid.org/37551","title":"RELATED LINKS"},{"location":"vulns/OSG-SEC-2018-05-07-Unprivileged-User-Namespaces-vulnerability/#references","text":"[1] http://opensciencegrid.github.io/docs/worker-node/install-singularity/#unprivileged-singularity Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2018-05-08-Meltdown-Spectre-Update/","text":"OSG-SEC-2018-01-04 CPU hardware vulnerabilities [UPDATE 2018-05-08] Dear OSG Security Contacts, This is an update of the security announcement about the CPU hardware in modern processors that were reported in the beginning of January and are widely known as Meltdown and Spectre and described in CVE-2017-5754 [1] . An updated kernel is now available for Red Hat Enterprise Linux 7 that fixes another aspect of those issues, and also fixes many other security issues. The OSG Security team considers applying this update to be IMPORTANT. AFFECTED VERSIONS: EL7 kernel versions prior to 3.10-0-862 are affected. WHAT YOU SHOULD DO: Update the kernel using the following command: yum update kernel Kernel updates are available for the following systems. - Red Hat Enterprise Linux 7 [2] - Scientific Linux 7 [3] - CentOS 7 (in the \u201ccr\u201d yum repo - - use \u201cyum --enablerepo=cr update kernel\u201d) This should update the kernel to version 3.10.0-862.el7. The system must be rebooted for this update to take effect. NOTE: this kernel is known to cause problems with ZFS [4]; machines that support ZFS should wait for an updated ZFS release. RELATED LINKS: https://ticket.opensciencegrid.org/35754 REFERENCES: [1] https://access.redhat.com/security/cve/cve-2017-5754 [2] https://access.redhat.com/errata/RHSA-2018:1062 [3] https://www.scientificlinux.org/category/sl-errata/slsa-20181062-1/ [4] https://github.com/zfsonlinux/zfs/issues/7460 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-05-08 Meltdown-Spectre Update"},{"location":"vulns/OSG-SEC-2018-05-08-Meltdown-Spectre-Update/#osg-sec-2018-01-04-cpu-hardware-vulnerabilities","text":"","title":"OSG-SEC-2018-01-04 CPU hardware vulnerabilities"},{"location":"vulns/OSG-SEC-2018-05-08-Meltdown-Spectre-Update/#update-2018-05-08","text":"Dear OSG Security Contacts, This is an update of the security announcement about the CPU hardware in modern processors that were reported in the beginning of January and are widely known as Meltdown and Spectre and described in CVE-2017-5754 [1] . An updated kernel is now available for Red Hat Enterprise Linux 7 that fixes another aspect of those issues, and also fixes many other security issues. The OSG Security team considers applying this update to be IMPORTANT.","title":"[UPDATE 2018-05-08]"},{"location":"vulns/OSG-SEC-2018-05-08-Meltdown-Spectre-Update/#affected-versions","text":"EL7 kernel versions prior to 3.10-0-862 are affected.","title":"AFFECTED VERSIONS:"},{"location":"vulns/OSG-SEC-2018-05-08-Meltdown-Spectre-Update/#what-you-should-do","text":"Update the kernel using the following command: yum update kernel Kernel updates are available for the following systems. - Red Hat Enterprise Linux 7 [2] - Scientific Linux 7 [3] - CentOS 7 (in the \u201ccr\u201d yum repo - - use \u201cyum --enablerepo=cr update kernel\u201d) This should update the kernel to version 3.10.0-862.el7. The system must be rebooted for this update to take effect. NOTE: this kernel is known to cause problems with ZFS [4]; machines that support ZFS should wait for an updated ZFS release.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-05-08-Meltdown-Spectre-Update/#related-links","text":"https://ticket.opensciencegrid.org/35754","title":"RELATED LINKS:"},{"location":"vulns/OSG-SEC-2018-05-08-Meltdown-Spectre-Update/#references","text":"[1] https://access.redhat.com/security/cve/cve-2017-5754 [2] https://access.redhat.com/errata/RHSA-2018:1062 [3] https://www.scientificlinux.org/category/sl-errata/slsa-20181062-1/ [4] https://github.com/zfsonlinux/zfs/issues/7460 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES:"},{"location":"vulns/OSG-SEC-2018-05-18-Multiple-EL7-Linux-kernel-vulnerabilities/","text":"OSG-SEC-2018-05-18 Multiple EL7 Linux kernel vulnerabilities Dear OSG Security Contacts, A new kernel is available for RHEL7 and its derivatives that patches multiple vulnerabilities. These include one for unprivileged user namespaces that OSG security previously announced, one that can be used for privilege escalation on KVM virtual machines, and one that can enable an unprivileged user on any machine to cause it to crash. OSG security considers patching these vulnerabilities to be IMPORTANT. IMPACTED VERSIONS: Red Hat Enterprise Linux 7 and its derivatives. WHAT ARE THE VULNERABILITIES: The 'use-after-free' vulnerability flaw in XFRM mentioned in a previous announcement (OSG-SEC-2017-12-19) can lead to privilege escalation on systems that have enabled unprivileged user namespaces, if not mitigated by disabling network namespaces [1]. A vulnerability concerning the Linux kernel's KVM hypervisor exception handling can allow an unprivileged guest VM user to crash the guest or, potentially, escalate their privileges in the guest [2]. A vulnerability in the Linux kernel exception handling can allow an unprivileged user to crash the system and cause a Denial of Service (DoS) [3]. WHAT YOU SHOULD DO: Upgrade the kernel to version 3.10.0-862.2.3. This is available now in the Scientific Linux 7 \"sl-security\" yum repository and is also available in the CentOS 7 \"cr\" yum repository. Reboot after upgrading. If you had disabled network namespaces as described in the OSG singularity install instructions [4], you may re-enable them. RELATED LINKS: https://ticket.grid.iu.edu/37880 REFERENCES [1] https://access.redhat.com/security/cve/cve-2017-16939 [2] https://access.redhat.com/security/cve/cve-2018-1087 [3] https://access.redhat.com/security/cve/cve-2018-8897 [4] https://opensciencegrid.org/docs/worker-node/install-singularity/#enabling-singularity-via-oasis Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-05-18 Multiple EL7 Linux kernel vulnerabilities"},{"location":"vulns/OSG-SEC-2018-05-18-Multiple-EL7-Linux-kernel-vulnerabilities/#osg-sec-2018-05-18-multiple-el7-linux-kernel-vulnerabilities","text":"Dear OSG Security Contacts, A new kernel is available for RHEL7 and its derivatives that patches multiple vulnerabilities. These include one for unprivileged user namespaces that OSG security previously announced, one that can be used for privilege escalation on KVM virtual machines, and one that can enable an unprivileged user on any machine to cause it to crash. OSG security considers patching these vulnerabilities to be IMPORTANT.","title":"OSG-SEC-2018-05-18 Multiple EL7 Linux kernel vulnerabilities"},{"location":"vulns/OSG-SEC-2018-05-18-Multiple-EL7-Linux-kernel-vulnerabilities/#impacted-versions","text":"Red Hat Enterprise Linux 7 and its derivatives.","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2018-05-18-Multiple-EL7-Linux-kernel-vulnerabilities/#what-are-the-vulnerabilities","text":"The 'use-after-free' vulnerability flaw in XFRM mentioned in a previous announcement (OSG-SEC-2017-12-19) can lead to privilege escalation on systems that have enabled unprivileged user namespaces, if not mitigated by disabling network namespaces [1]. A vulnerability concerning the Linux kernel's KVM hypervisor exception handling can allow an unprivileged guest VM user to crash the guest or, potentially, escalate their privileges in the guest [2]. A vulnerability in the Linux kernel exception handling can allow an unprivileged user to crash the system and cause a Denial of Service (DoS) [3].","title":"WHAT ARE THE VULNERABILITIES:"},{"location":"vulns/OSG-SEC-2018-05-18-Multiple-EL7-Linux-kernel-vulnerabilities/#what-you-should-do","text":"Upgrade the kernel to version 3.10.0-862.2.3. This is available now in the Scientific Linux 7 \"sl-security\" yum repository and is also available in the CentOS 7 \"cr\" yum repository. Reboot after upgrading. If you had disabled network namespaces as described in the OSG singularity install instructions [4], you may re-enable them.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-05-18-Multiple-EL7-Linux-kernel-vulnerabilities/#related-links","text":"https://ticket.grid.iu.edu/37880","title":"RELATED LINKS:"},{"location":"vulns/OSG-SEC-2018-05-18-Multiple-EL7-Linux-kernel-vulnerabilities/#references","text":"[1] https://access.redhat.com/security/cve/cve-2017-16939 [2] https://access.redhat.com/security/cve/cve-2018-1087 [3] https://access.redhat.com/security/cve/cve-2018-8897 [4] https://opensciencegrid.org/docs/worker-node/install-singularity/#enabling-singularity-via-oasis Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2018-05-23-OSG-CA-service-retirement/","text":"OSG-SEC-2018-05-23 OSG CA service retirement Dear OSG users, This security advisory is INFORMATIONAL for the OSG community. The OSG Security Team wants to inform you that as part of the OSG Service Migration [1], the CILogon OSG CA service will be retired on May 31st, 2018: - After this date, new certificates from the CILogon OSG CA cannot be requested and therefore will no longer be issued. - All certificates issued by CILogon OSG CA will continue to work until their expiration dates. - The CILogon OSG CA will remain in the IGTF distribution until July 2019. WHAT YOU SHOULD DO? Getting user certificates after the CILogon OSG CA retirement: Non-LHC users can get certificates from the CILogon Basic CA (https://cilogon.org/) using their home institution credentials [1]. LHC users should continue to request their user certificates from CERN Grid CA (https://ca.cern.ch/ca/) [2]. Getting host and service certificates after the CILogon OSG CA retirement: Eligible institutions can get their host certificates from InCommon Federation certificate service [3]. Let\u2019s Encrypt CA (https://letsencrypt.org/how-it-works/) also provides short-lived host certificates in a secure manner with a minimum of overhead and automated renewal [4]. Let's Encrypt CA has been added to the OSG CA certificates bundle [5]. REFERENCES: [1] https://opensciencegrid.org/technology/policy/service-migrations-spring-2018/ https://opensciencegrid.org/docs/security/user-certs/#getting-a-certificate-from-cilogon [2] https://ca.cern.ch/ca/Help/?kbid=021001 [3] https://opensciencegrid.org/docs/security/host-certs/ [4] https://opensciencegrid.org/docs/security/host-certs/ [5] https://opensciencegrid.org/security/LetsEncryptOSGCAbundle/ RELATED LINKS https://ticket.grid.iu.edu/37926 Please contact the OSG security team at security@opensciencegrid.org immediately if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-05-23 CILogon OSG CA service retirement"},{"location":"vulns/OSG-SEC-2018-05-23-OSG-CA-service-retirement/#osg-sec-2018-05-23-osg-ca-service-retirement","text":"Dear OSG users, This security advisory is INFORMATIONAL for the OSG community. The OSG Security Team wants to inform you that as part of the OSG Service Migration [1], the CILogon OSG CA service will be retired on May 31st, 2018: - After this date, new certificates from the CILogon OSG CA cannot be requested and therefore will no longer be issued. - All certificates issued by CILogon OSG CA will continue to work until their expiration dates. - The CILogon OSG CA will remain in the IGTF distribution until July 2019.","title":"OSG-SEC-2018-05-23 OSG CA service retirement"},{"location":"vulns/OSG-SEC-2018-05-23-OSG-CA-service-retirement/#what-you-should-do","text":"Getting user certificates after the CILogon OSG CA retirement: Non-LHC users can get certificates from the CILogon Basic CA (https://cilogon.org/) using their home institution credentials [1]. LHC users should continue to request their user certificates from CERN Grid CA (https://ca.cern.ch/ca/) [2]. Getting host and service certificates after the CILogon OSG CA retirement: Eligible institutions can get their host certificates from InCommon Federation certificate service [3]. Let\u2019s Encrypt CA (https://letsencrypt.org/how-it-works/) also provides short-lived host certificates in a secure manner with a minimum of overhead and automated renewal [4]. Let's Encrypt CA has been added to the OSG CA certificates bundle [5].","title":"WHAT YOU SHOULD DO?"},{"location":"vulns/OSG-SEC-2018-05-23-OSG-CA-service-retirement/#references","text":"[1] https://opensciencegrid.org/technology/policy/service-migrations-spring-2018/ https://opensciencegrid.org/docs/security/user-certs/#getting-a-certificate-from-cilogon [2] https://ca.cern.ch/ca/Help/?kbid=021001 [3] https://opensciencegrid.org/docs/security/host-certs/ [4] https://opensciencegrid.org/docs/security/host-certs/ [5] https://opensciencegrid.org/security/LetsEncryptOSGCAbundle/","title":"REFERENCES:"},{"location":"vulns/OSG-SEC-2018-05-23-OSG-CA-service-retirement/#related-links","text":"https://ticket.grid.iu.edu/37926 Please contact the OSG security team at security@opensciencegrid.org immediately if you have any questions or concerns. OSG Security Team","title":"RELATED LINKS"},{"location":"vulns/OSG-SEC-2018-07-03-BLAHP-Vulnerability/","text":"OSG-SEC-2018-07-03 BLAHP vulnerability Dear OSG Security Contacts, A new vulnerability has been reported in the Batch Local ASCII Helper Protocol (BLAHP) that allows a local user with HTCondor-CE submission privileges to execute malicious code. This vulnerability is exploitable at sites that run HTCondor-CE in front of non-HTCondor batch systems. By exploiting this vulnerability, an attacker can execute arbitrary code and/or perform a denial of service attack on the running host. OSG security considers patching this vulnerability to be IMPORTANT. This vulnerability was reported by the Center for Trustworthy Scientific Cyberinfrastructure at the University of Wisconsin. Impacted Versions/Environments: All versions of the BLAHP distributed by the OSG are affected. Action Recommendations: This vulnerability has been patched in blahp-1.18.37.bosco-1. Sites running previous version of BLAHP should update to the most current version as soon as possible. How It Works: When submitting jobs, a local user can use the arguments attribute of the HTCondor submit description file to include malicious code. The malicious code enclosed is executed when the shell script, called by BLAHP, evaluates the arguments attribute on the CE. Most commands within a HTCondor submit file are input validated by HTCondor itself. But, the arguments line is passed through without change to the output ClassAd. Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-07-03 BLAHP vulnerability"},{"location":"vulns/OSG-SEC-2018-07-03-BLAHP-Vulnerability/#osg-sec-2018-07-03-blahp-vulnerability","text":"Dear OSG Security Contacts, A new vulnerability has been reported in the Batch Local ASCII Helper Protocol (BLAHP) that allows a local user with HTCondor-CE submission privileges to execute malicious code. This vulnerability is exploitable at sites that run HTCondor-CE in front of non-HTCondor batch systems. By exploiting this vulnerability, an attacker can execute arbitrary code and/or perform a denial of service attack on the running host. OSG security considers patching this vulnerability to be IMPORTANT. This vulnerability was reported by the Center for Trustworthy Scientific Cyberinfrastructure at the University of Wisconsin.","title":"OSG-SEC-2018-07-03 BLAHP vulnerability"},{"location":"vulns/OSG-SEC-2018-07-03-BLAHP-Vulnerability/#impacted-versionsenvironments","text":"All versions of the BLAHP distributed by the OSG are affected.","title":"Impacted Versions/Environments:"},{"location":"vulns/OSG-SEC-2018-07-03-BLAHP-Vulnerability/#action-recommendations","text":"This vulnerability has been patched in blahp-1.18.37.bosco-1. Sites running previous version of BLAHP should update to the most current version as soon as possible.","title":"Action Recommendations:"},{"location":"vulns/OSG-SEC-2018-07-03-BLAHP-Vulnerability/#how-it-works","text":"When submitting jobs, a local user can use the arguments attribute of the HTCondor submit description file to include malicious code. The malicious code enclosed is executed when the shell script, called by BLAHP, evaluates the arguments attribute on the CE. Most commands within a HTCondor submit file are input validated by HTCondor itself. But, the arguments line is passed through without change to the output ClassAd. Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"How It Works:"},{"location":"vulns/OSG-SEC-2018-07-05-Singularity-Vulnerabilities/","text":"OSG-SEC-2018-07-05 Singularity Vulnerabilities Dear OSG Security Contacts, High-severity vulnerabilities have been publicly reported concerning installations of singularity that support overlayfs, which is the default on EL7. If overlay is available, a malicious user could exploit this vulnerability to escalate privileges. OSG security considers this a Critical vulnerability and the impact is high for our infrastructure. A new version is available in the osg-testing repository and is planned to be released to the osg repository on Friday, July 6, after more extensive testing. A workaround not requiring an upgrade is outlined below. IMPACTED VERSIONS: EL7 based systems with singularity versions 2.5.1 and earlier with a default configuration are impacted. EL6 is not affected. WHAT ARE THE VULNERABILITIES: A vulnerability with the singularity mount command enables read access to protected files. In addition, a race condition allows read access to protected files in the root filesystem with other singularity commands. These can lead to privilege escalation. For more details see the singularity-2.5.2 release announcement [1]. Jobs running inside of singularity containers are not able to exploit these vulnerabilities. WHAT YOU SHOULD DO: On EL7 systems, one of the following actions should be applied IMMEDIATELY: 1. Configure the following workaround: set enable overlay = no in /etc/singularity/singularity.conf. No OSG VO using singularity in production currently requires this feature. (This may already be disabled because of a workaround for a previous announced vulnerability [2], which was later fixed.) 2. Begin testing the latest singularity version 2.5.2-1.osg34 with the following command yum update --enablerepo=osg-testing singularity-runtime and if it works for your workflows, install it on all nodes. Report any problems seen to security@opensciencegrid.org. If no problems are seen with your use cases you may upgrade before the release to the osg yum repository. REFERENCES [1] https://github.com/singularityware/singularity/releases/tag/2.5.2 [2] OSG-SEC-2018-04-30 [3] https://cve.mitre.org/cgi-bin/cvename.cgi?name=2018-12021 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-07-05 Vulnerabilities in Singularity"},{"location":"vulns/OSG-SEC-2018-07-05-Singularity-Vulnerabilities/#osg-sec-2018-07-05-singularity-vulnerabilities","text":"Dear OSG Security Contacts, High-severity vulnerabilities have been publicly reported concerning installations of singularity that support overlayfs, which is the default on EL7. If overlay is available, a malicious user could exploit this vulnerability to escalate privileges. OSG security considers this a Critical vulnerability and the impact is high for our infrastructure. A new version is available in the osg-testing repository and is planned to be released to the osg repository on Friday, July 6, after more extensive testing. A workaround not requiring an upgrade is outlined below.","title":"OSG-SEC-2018-07-05 Singularity Vulnerabilities"},{"location":"vulns/OSG-SEC-2018-07-05-Singularity-Vulnerabilities/#impacted-versions","text":"EL7 based systems with singularity versions 2.5.1 and earlier with a default configuration are impacted. EL6 is not affected.","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2018-07-05-Singularity-Vulnerabilities/#what-are-the-vulnerabilities","text":"A vulnerability with the singularity mount command enables read access to protected files. In addition, a race condition allows read access to protected files in the root filesystem with other singularity commands. These can lead to privilege escalation. For more details see the singularity-2.5.2 release announcement [1]. Jobs running inside of singularity containers are not able to exploit these vulnerabilities.","title":"WHAT ARE THE VULNERABILITIES:"},{"location":"vulns/OSG-SEC-2018-07-05-Singularity-Vulnerabilities/#what-you-should-do","text":"On EL7 systems, one of the following actions should be applied IMMEDIATELY: 1. Configure the following workaround: set enable overlay = no in /etc/singularity/singularity.conf. No OSG VO using singularity in production currently requires this feature. (This may already be disabled because of a workaround for a previous announced vulnerability [2], which was later fixed.) 2. Begin testing the latest singularity version 2.5.2-1.osg34 with the following command yum update --enablerepo=osg-testing singularity-runtime and if it works for your workflows, install it on all nodes. Report any problems seen to security@opensciencegrid.org. If no problems are seen with your use cases you may upgrade before the release to the osg yum repository.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-07-05-Singularity-Vulnerabilities/#references","text":"[1] https://github.com/singularityware/singularity/releases/tag/2.5.2 [2] OSG-SEC-2018-04-30 [3] https://cve.mitre.org/cgi-bin/cvename.cgi?name=2018-12021 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2018-08-07-data-channel-encryption-not-guaranteed/","text":"OSG-SEC-2018-08-07 data-channel encryption not guaranteed Dear OSG Security Contacts, This advisory is intended for VO contacts. If you need encrypted data transfer, encrypt the data before transmission instead of using GridFTP's built-in data encryption. This is because data-channel encryption is not necessarily guaranteed, even when requested. MORE INFORMATION: https://wiki.egi.eu/wiki/SVG:Advisory-SVG-2018-14117 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-08-07 Data channel encryption not guaranteed"},{"location":"vulns/OSG-SEC-2018-08-07-data-channel-encryption-not-guaranteed/#osg-sec-2018-08-07-data-channel-encryption-not-guaranteed","text":"Dear OSG Security Contacts, This advisory is intended for VO contacts. If you need encrypted data transfer, encrypt the data before transmission instead of using GridFTP's built-in data encryption. This is because data-channel encryption is not necessarily guaranteed, even when requested.","title":"OSG-SEC-2018-08-07 data-channel encryption not guaranteed"},{"location":"vulns/OSG-SEC-2018-08-07-data-channel-encryption-not-guaranteed/#more-information","text":"https://wiki.egi.eu/wiki/SVG:Advisory-SVG-2018-14117 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"MORE INFORMATION:"},{"location":"vulns/OSG-SEC-2018-08-17-Foreshadow/","text":"OSG-SEC-2018-08-17 CPU speculative execution vulnerabilities (Foreshadow) Dear OSG Security Contacts, A new speculative execution-based attack similar to Meltdown and Spectre (CVE-2017-5754 [1] ), has been reported in Intel processors. The L1 Terminal Fault (L1TF) also known as Foreshadow allows an attacker to gain access to sensitive data in the memory of any computing device. IMPACTED VERSIONS/ENVIRONMENTS: These vulnerabilities are present in the hardware and appear to affect all the operating systems running on x86 architectures. RedHat 6 & 7 and all its derivatives are impacted. ACTION RECOMMENDATIONS: OSG Security team advises sites to patch all hosts, prioritizing CEs, submit hosts, and worker nodes ASAP. Patches for these vulnerabilities are expected to affect CPU performance. RedHat have mitigations available for kernel and microcode_ctl in RHEL6, RHEL7. Scientific Linux have mitigations available for kernel in SL6 and SL7. RedHat Linux: - RHEL6: - kernel: https://access.redhat.com/errata/RHSA-2018:2390 - microcode_ctl: https://access.redhat.com/errata/RHEA-2018:2300 - RHEL7: - kernel: https://access.redhat.com/errata/RHSA-2018:2384 - microcode_ctl: https://access.redhat.com/errata/RHEA-2018:2299 Scientific Linux: - SL6 (kernel): https://www.scientificlinux.org/category/sl-errata/slsa-20182390-1/ - SL7 (kernel): https://www.scientificlinux.org/category/sl-errata/slsa-20182384-1/ There is a higher concern with virtualized environments. \"..if two virtual machines share a physical core, then the virtual machine using one logical core can potentially spy on the virtual machine using the other logical core.\" [4] . For further mitigation, after installing the updated microcode_ctl patch, disable hyperthreading on virtual-machine hosts. An alternative is to change the configuration of the virtualized environment to ensure that virtual machines are bound to separate physical cores. Note that existing mitigations and patches for Meltdown are not sufficient to protect against this new vulnerability. Some vendors have not released security patches for this vulnerability yet. Pay attention to new releases from your software vendor and patch as soon as the fix(es) become available. HOW IT WORKS: Privileged memory space can be accessed, exposing sensitive information. Details about the vulnerability and the attack can be found in [3] . MORE INFORMATION: [1] http://www.theregister.co.uk/2018/01/04/intel_amd_arm_cpu_vulnerability/ [2] https://www.intel.com/content/www/us/en/architecture-and-technology/l1tf.html [3] https://access.redhat.com/security/vulnerabilities/L1TF [4] https://arstechnica.com/gadgets/2018/08/intels-sgx-blown-wide-open-by-you-guessed-it-a-speculative-execution-attack/ Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-08-17 Foreshadow"},{"location":"vulns/OSG-SEC-2018-08-17-Foreshadow/#osg-sec-2018-08-17-cpu-speculative-execution-vulnerabilities-foreshadow","text":"Dear OSG Security Contacts, A new speculative execution-based attack similar to Meltdown and Spectre (CVE-2017-5754 [1] ), has been reported in Intel processors. The L1 Terminal Fault (L1TF) also known as Foreshadow allows an attacker to gain access to sensitive data in the memory of any computing device.","title":"OSG-SEC-2018-08-17 CPU speculative execution vulnerabilities (Foreshadow)"},{"location":"vulns/OSG-SEC-2018-08-17-Foreshadow/#impacted-versionsenvironments","text":"These vulnerabilities are present in the hardware and appear to affect all the operating systems running on x86 architectures. RedHat 6 & 7 and all its derivatives are impacted.","title":"IMPACTED VERSIONS/ENVIRONMENTS:"},{"location":"vulns/OSG-SEC-2018-08-17-Foreshadow/#action-recommendations","text":"OSG Security team advises sites to patch all hosts, prioritizing CEs, submit hosts, and worker nodes ASAP. Patches for these vulnerabilities are expected to affect CPU performance. RedHat have mitigations available for kernel and microcode_ctl in RHEL6, RHEL7. Scientific Linux have mitigations available for kernel in SL6 and SL7. RedHat Linux: - RHEL6: - kernel: https://access.redhat.com/errata/RHSA-2018:2390 - microcode_ctl: https://access.redhat.com/errata/RHEA-2018:2300 - RHEL7: - kernel: https://access.redhat.com/errata/RHSA-2018:2384 - microcode_ctl: https://access.redhat.com/errata/RHEA-2018:2299 Scientific Linux: - SL6 (kernel): https://www.scientificlinux.org/category/sl-errata/slsa-20182390-1/ - SL7 (kernel): https://www.scientificlinux.org/category/sl-errata/slsa-20182384-1/ There is a higher concern with virtualized environments. \"..if two virtual machines share a physical core, then the virtual machine using one logical core can potentially spy on the virtual machine using the other logical core.\" [4] . For further mitigation, after installing the updated microcode_ctl patch, disable hyperthreading on virtual-machine hosts. An alternative is to change the configuration of the virtualized environment to ensure that virtual machines are bound to separate physical cores. Note that existing mitigations and patches for Meltdown are not sufficient to protect against this new vulnerability. Some vendors have not released security patches for this vulnerability yet. Pay attention to new releases from your software vendor and patch as soon as the fix(es) become available.","title":"ACTION RECOMMENDATIONS:"},{"location":"vulns/OSG-SEC-2018-08-17-Foreshadow/#how-it-works","text":"Privileged memory space can be accessed, exposing sensitive information. Details about the vulnerability and the attack can be found in [3] .","title":"HOW IT WORKS:"},{"location":"vulns/OSG-SEC-2018-08-17-Foreshadow/#more-information","text":"[1] http://www.theregister.co.uk/2018/01/04/intel_amd_arm_cpu_vulnerability/ [2] https://www.intel.com/content/www/us/en/architecture-and-technology/l1tf.html [3] https://access.redhat.com/security/vulnerabilities/L1TF [4] https://arstechnica.com/gadgets/2018/08/intels-sgx-blown-wide-open-by-you-guessed-it-a-speculative-execution-attack/ Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"MORE INFORMATION:"},{"location":"vulns/OSG-SEC-2018-09-06-Apache-Struts-Vulnerability/","text":"OSG-SEC-2018-09-06 Apache Struts Vulnerability Dear OSG Security Contacts, This announcement is for sites that still use VOMS-admin from OSG 3.3. Support for OSG 3.3 ended in May 2018 [1]. A new vulnerability, described in CVE-2018-11776 [2] has been reported in Apache Struts 2 that potentially allows an attacker to execute arbitrary code on an impacted server. OSG security team considers patching this vulnerability to be IMPORTANT. Please note that this is our best-effort announcement notification. The OSG no longer supports VOMS Admin server, therefore our security team strongly recommends retiring any active servers. Please consult the migration documentation for details [3]. IMPACTED VERSIONS/ENVIRONMENTS: Impacted version of VOMS Admin server: All the versions of VOMS Admin server distributed by the OSG are affected. Impacted version of Struts: - Struts 2.3 - Struts 2.3.34 - Struts 2.5 - Struts 2.5.16 ACTION RECOMMENDATIONS: The OSG no longer supports VOMS Admin server, therefore our security team strongly recommends retiring any active servers. HOW IT WORKS: This vulnerability allows for remote code execution when namespace values aren't set for a result defined in underlying configurations and, at the same time, its upper action configuration(s) have a wildcard or no namespace. A possibility for remote code execution also exists when using url tags which don\u2019t have values and actions set and, at the same time, its upper action configuration(s) have a wildcard or no namespace. Proof of concept (PoC) of the exploit is publicly available on GitHub [4]. MORE INFORMATION: [1] https://opensciencegrid.org/technology/policy/release-series/#life-cycle-dates [2] https://nvd.nist.gov/vuln/detail/CVE-2018-11776 [3] https://opensciencegrid.org/technology/policy/voms-admin-retire/ [4] https://cwiki.apache.org/confluence/display/WW/S2-057 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-09-06 Vulnerability in Apache Struts"},{"location":"vulns/OSG-SEC-2018-09-06-Apache-Struts-Vulnerability/#osg-sec-2018-09-06-apache-struts-vulnerability","text":"Dear OSG Security Contacts, This announcement is for sites that still use VOMS-admin from OSG 3.3. Support for OSG 3.3 ended in May 2018 [1]. A new vulnerability, described in CVE-2018-11776 [2] has been reported in Apache Struts 2 that potentially allows an attacker to execute arbitrary code on an impacted server. OSG security team considers patching this vulnerability to be IMPORTANT. Please note that this is our best-effort announcement notification. The OSG no longer supports VOMS Admin server, therefore our security team strongly recommends retiring any active servers. Please consult the migration documentation for details [3].","title":"OSG-SEC-2018-09-06 Apache Struts Vulnerability"},{"location":"vulns/OSG-SEC-2018-09-06-Apache-Struts-Vulnerability/#impacted-versionsenvironments","text":"Impacted version of VOMS Admin server: All the versions of VOMS Admin server distributed by the OSG are affected. Impacted version of Struts: - Struts 2.3 - Struts 2.3.34 - Struts 2.5 - Struts 2.5.16","title":"IMPACTED VERSIONS/ENVIRONMENTS:"},{"location":"vulns/OSG-SEC-2018-09-06-Apache-Struts-Vulnerability/#action-recommendations","text":"The OSG no longer supports VOMS Admin server, therefore our security team strongly recommends retiring any active servers.","title":"ACTION RECOMMENDATIONS:"},{"location":"vulns/OSG-SEC-2018-09-06-Apache-Struts-Vulnerability/#how-it-works","text":"This vulnerability allows for remote code execution when namespace values aren't set for a result defined in underlying configurations and, at the same time, its upper action configuration(s) have a wildcard or no namespace. A possibility for remote code execution also exists when using url tags which don\u2019t have values and actions set and, at the same time, its upper action configuration(s) have a wildcard or no namespace. Proof of concept (PoC) of the exploit is publicly available on GitHub [4].","title":"HOW IT WORKS:"},{"location":"vulns/OSG-SEC-2018-09-06-Apache-Struts-Vulnerability/#more-information","text":"[1] https://opensciencegrid.org/technology/policy/release-series/#life-cycle-dates [2] https://nvd.nist.gov/vuln/detail/CVE-2018-11776 [3] https://opensciencegrid.org/technology/policy/voms-admin-retire/ [4] https://cwiki.apache.org/confluence/display/WW/S2-057 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"MORE INFORMATION:"},{"location":"vulns/OSG-SEC-2018-09-20-Vulnerabilities-in-AFS/","text":"OSG-SEC-2018-09-20 Vulnerabilities in AFS Dear OSG Security Contacts, This announcement is for sites that use AFS. There are three new vulnerabilities described in CVE-2018-16947 [1], CVE-2018-16948 [2], and CVE-2018-16949 [3] which have been reported in AFS that could potentially allow an attacker to modify or delete data within the cells that have the backup tape controller (butc) process, could expose information to an attacker, and could cause a Denial of Service (DoS) attack respectively. OSG security team considers patching these vulnerabilities to be IMPORTANT. IMPACTED VERSIONS/ENVIRONMENTS: All releases of OpenAFS server/client prior to 1.6.23 are affected. Also OpenAFS 1.8.0, 1.8.1, and 1.8.1.1 are affected. ACTION RECOMMENDATIONS: Upgrade to 1.8.2 or 1.6.23 releases. Please note that it is necessary to restart OpenAFS for the fixes to take effect. [4] HOW IT WORKS: The backup tape controller process accepts incoming RPCs but does not require (or allow for) authentication of those RPCs. Handling those RPCs results in operations being performed with administrator credentials, including dumping/restoring volume contents and manipulating the backup database. [1] OpenAFS uses the Rx RPC protocol for all remote operations, and uses the rxgen utility to generate the server RPC stubs. Output variables are allocated either on the stack or on the heap, by the RPC handler (for variable-length arrays). Many RPC handlers did not fully initialize these output variables, leaking memory contents to the remote caller for otherwise-successful RPCs. [2] OpenAFS uses the Rx RPC protocol for all remote operations; RPC inputs and outputs are described using the XDR data description language. XDR includes a facility for variable-length (up to 4GB) arrays, optionally subject to a smaller bound on their size. For several RPCs, OpenAFS servers would accept and attempt to unmarshall into memory input arrays up to the full 4GB limit; length and authentication checks in RPC handler functions would be applied only after low-level memory allocation and unmarshalling. This allows unauthenticated attackers to consume large amounts of server memory and network bandwidth, producing service degradation or denial of service to legitimate clients. [3] MORE INFORMATION: [1] http://www.openafs.org/pages/security/OPENAFS-SA-2018-001.txt [2] http://www.openafs.org/pages/security/OPENAFS-SA-2018-002.txt [3] http://www.openafs.org/pages/security/OPENAFS-SA-2018-003.txt [4] https://www.openafs.org/release/index.html Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-09-20 Vulnerability in AFS"},{"location":"vulns/OSG-SEC-2018-09-20-Vulnerabilities-in-AFS/#osg-sec-2018-09-20-vulnerabilities-in-afs","text":"Dear OSG Security Contacts, This announcement is for sites that use AFS. There are three new vulnerabilities described in CVE-2018-16947 [1], CVE-2018-16948 [2], and CVE-2018-16949 [3] which have been reported in AFS that could potentially allow an attacker to modify or delete data within the cells that have the backup tape controller (butc) process, could expose information to an attacker, and could cause a Denial of Service (DoS) attack respectively. OSG security team considers patching these vulnerabilities to be IMPORTANT.","title":"OSG-SEC-2018-09-20 Vulnerabilities in AFS"},{"location":"vulns/OSG-SEC-2018-09-20-Vulnerabilities-in-AFS/#impacted-versionsenvironments","text":"All releases of OpenAFS server/client prior to 1.6.23 are affected. Also OpenAFS 1.8.0, 1.8.1, and 1.8.1.1 are affected.","title":"IMPACTED VERSIONS/ENVIRONMENTS:"},{"location":"vulns/OSG-SEC-2018-09-20-Vulnerabilities-in-AFS/#action-recommendations","text":"Upgrade to 1.8.2 or 1.6.23 releases. Please note that it is necessary to restart OpenAFS for the fixes to take effect. [4]","title":"ACTION RECOMMENDATIONS:"},{"location":"vulns/OSG-SEC-2018-09-20-Vulnerabilities-in-AFS/#how-it-works","text":"The backup tape controller process accepts incoming RPCs but does not require (or allow for) authentication of those RPCs. Handling those RPCs results in operations being performed with administrator credentials, including dumping/restoring volume contents and manipulating the backup database. [1] OpenAFS uses the Rx RPC protocol for all remote operations, and uses the rxgen utility to generate the server RPC stubs. Output variables are allocated either on the stack or on the heap, by the RPC handler (for variable-length arrays). Many RPC handlers did not fully initialize these output variables, leaking memory contents to the remote caller for otherwise-successful RPCs. [2] OpenAFS uses the Rx RPC protocol for all remote operations; RPC inputs and outputs are described using the XDR data description language. XDR includes a facility for variable-length (up to 4GB) arrays, optionally subject to a smaller bound on their size. For several RPCs, OpenAFS servers would accept and attempt to unmarshall into memory input arrays up to the full 4GB limit; length and authentication checks in RPC handler functions would be applied only after low-level memory allocation and unmarshalling. This allows unauthenticated attackers to consume large amounts of server memory and network bandwidth, producing service degradation or denial of service to legitimate clients. [3]","title":"HOW IT WORKS:"},{"location":"vulns/OSG-SEC-2018-09-20-Vulnerabilities-in-AFS/#more-information","text":"[1] http://www.openafs.org/pages/security/OPENAFS-SA-2018-001.txt [2] http://www.openafs.org/pages/security/OPENAFS-SA-2018-002.txt [3] http://www.openafs.org/pages/security/OPENAFS-SA-2018-003.txt [4] https://www.openafs.org/release/index.html Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"MORE INFORMATION:"},{"location":"vulns/OSG-SEC-2018-10-02-Vulnerability-in-Linux-kernel/","text":"OSG-SEC-2018-10-02 Vulnerability in Linux kernel's create_elf_tables() function Dear OSG Security Contacts, A new integer overflow vulnerability described in CVE-2018-14634 [1] has been reported in the Linux kernel's create_elf_tables() function that could potentially allow an attacker to escalate privileges. This vulnerability only applies to systems with more than 32GB of memory and on which users can allocate 32GB. OSG security team considers patching this vulnerability to be IMPORTANT. IMPACTED VERSIONS/ENVIRONMENTS: Kernel versions 2.6.x, 3.10.x and 4.14.x. are affected. [1] ACTION RECOMMENDATIONS: Patches are available for the following operating systems and OSG Security team advises sites to apply the patch as soon as possible. Please note that patches are still not available for Red Hat Enterprise Linux 6 and Scientific Linux 6. Please pay attention to vendor advisories for patches to those systems. RedHat Linux: - RHEL7 (kernel): https://access.redhat.com/errata/RHSA-2018:2748 Scientific Linux: - SL 7 (kernel): https://www.scientificlinux.org/category/sl-errata/slsa-20182748-1/ HOW IT WORKS: An integer overflow flaw was found in the Linux kernel's create_elf_tables() function. An unprivileged local user with access to SUID (or otherwise privileged) binary could use this flaw to escalate their privileges on the system. This issue does not affect 32-bit systems as they do not have a large enough memory address space to exploit this flaw. [2] MORE INFORMATION: [1] http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-14634 [2] https://access.redhat.com/security/cve/cve-2018-14634 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-10-02 Vulnerability in Linux kernel\u2019s create_elf_tables() function"},{"location":"vulns/OSG-SEC-2018-10-02-Vulnerability-in-Linux-kernel/#osg-sec-2018-10-02-vulnerability-in-linux-kernels-create_elf_tables-function","text":"Dear OSG Security Contacts, A new integer overflow vulnerability described in CVE-2018-14634 [1] has been reported in the Linux kernel's create_elf_tables() function that could potentially allow an attacker to escalate privileges. This vulnerability only applies to systems with more than 32GB of memory and on which users can allocate 32GB. OSG security team considers patching this vulnerability to be IMPORTANT.","title":"OSG-SEC-2018-10-02 Vulnerability in Linux kernel's create_elf_tables() function"},{"location":"vulns/OSG-SEC-2018-10-02-Vulnerability-in-Linux-kernel/#impacted-versionsenvironments","text":"Kernel versions 2.6.x, 3.10.x and 4.14.x. are affected. [1]","title":"IMPACTED VERSIONS/ENVIRONMENTS:"},{"location":"vulns/OSG-SEC-2018-10-02-Vulnerability-in-Linux-kernel/#action-recommendations","text":"Patches are available for the following operating systems and OSG Security team advises sites to apply the patch as soon as possible. Please note that patches are still not available for Red Hat Enterprise Linux 6 and Scientific Linux 6. Please pay attention to vendor advisories for patches to those systems. RedHat Linux: - RHEL7 (kernel): https://access.redhat.com/errata/RHSA-2018:2748 Scientific Linux: - SL 7 (kernel): https://www.scientificlinux.org/category/sl-errata/slsa-20182748-1/","title":"ACTION RECOMMENDATIONS:"},{"location":"vulns/OSG-SEC-2018-10-02-Vulnerability-in-Linux-kernel/#how-it-works","text":"An integer overflow flaw was found in the Linux kernel's create_elf_tables() function. An unprivileged local user with access to SUID (or otherwise privileged) binary could use this flaw to escalate their privileges on the system. This issue does not affect 32-bit systems as they do not have a large enough memory address space to exploit this flaw. [2]","title":"HOW IT WORKS:"},{"location":"vulns/OSG-SEC-2018-10-02-Vulnerability-in-Linux-kernel/#more-information","text":"[1] http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-14634 [2] https://access.redhat.com/security/cve/cve-2018-14634 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"MORE INFORMATION:"},{"location":"vulns/OSG-SEC-2018-10-04-Vulnerability-in-Red-Hat-Ceph-Storage/","text":"OSG-SEC-2018-10-04 Vulnerability in Red Hat Ceph Storage Dear OSG Security Contacts, A vulnerability described in CVE-2018-14649 [1] has been reported in RedHat Ceph Storage that could potentially allow an unauthenticated attacker to remotely execute arbitrary code and escalate privileges. OSG security team considers patching this vulnerability to be IMPORTANT. IMPACTED VERSIONS/ENVIRONMENTS: This issue affects the versions of ceph-iscsi-cli as shipped with Red Hat Ceph Storage 2 and 3. [1] ACTION RECOMMENDATIONS: Any site using Red Hat Ceph storage should check whether they are using ceph-iscsi-cli package, and if they are should update urgently. Red Hat Enterprise Linux 7 Red Hat Ceph Storage 2.5: https://access.redhat.com/errata/RHSA-2018:2837 Red Hat Ceph Storage 3.1: https://access.redhat.com/errata/RHSA-2018:2838 HOW IT WORKS: It was found that the rbd-target-api service provided by ceph-iscsi-cli was running in debug mode. An unauthenticated attacker could use this to remotely execute arbitrary code and escalate privileges. [1] MORE INFORMATION: [1] https://access.redhat.com/security/cve/cve-2018-14649 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-10-04 Vulnerability in RedHat Ceph Storage"},{"location":"vulns/OSG-SEC-2018-10-04-Vulnerability-in-Red-Hat-Ceph-Storage/#osg-sec-2018-10-04-vulnerability-in-red-hat-ceph-storage","text":"Dear OSG Security Contacts, A vulnerability described in CVE-2018-14649 [1] has been reported in RedHat Ceph Storage that could potentially allow an unauthenticated attacker to remotely execute arbitrary code and escalate privileges. OSG security team considers patching this vulnerability to be IMPORTANT.","title":"OSG-SEC-2018-10-04 Vulnerability in Red Hat Ceph Storage"},{"location":"vulns/OSG-SEC-2018-10-04-Vulnerability-in-Red-Hat-Ceph-Storage/#impacted-versionsenvironments","text":"This issue affects the versions of ceph-iscsi-cli as shipped with Red Hat Ceph Storage 2 and 3. [1]","title":"IMPACTED VERSIONS/ENVIRONMENTS:"},{"location":"vulns/OSG-SEC-2018-10-04-Vulnerability-in-Red-Hat-Ceph-Storage/#action-recommendations","text":"Any site using Red Hat Ceph storage should check whether they are using ceph-iscsi-cli package, and if they are should update urgently. Red Hat Enterprise Linux 7 Red Hat Ceph Storage 2.5: https://access.redhat.com/errata/RHSA-2018:2837 Red Hat Ceph Storage 3.1: https://access.redhat.com/errata/RHSA-2018:2838","title":"ACTION RECOMMENDATIONS:"},{"location":"vulns/OSG-SEC-2018-10-04-Vulnerability-in-Red-Hat-Ceph-Storage/#how-it-works","text":"It was found that the rbd-target-api service provided by ceph-iscsi-cli was running in debug mode. An unauthenticated attacker could use this to remotely execute arbitrary code and escalate privileges. [1]","title":"HOW IT WORKS:"},{"location":"vulns/OSG-SEC-2018-10-04-Vulnerability-in-Red-Hat-Ceph-Storage/#more-information","text":"[1] https://access.redhat.com/security/cve/cve-2018-14649 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"MORE INFORMATION:"},{"location":"vulns/OSG-SEC-2018-10-18-Vulnerability-in-Linux-kernel-Update/","text":"OSG-SEC-2018-10-18 [UPDATE] Vulnerability in Linux kernel's create_elf_tables() function Dear OSG Security Contacts, This is an update to the prior announcement \"OSG-SEC-2018-10-02 Vulnerability in Linux kernel's create_elf_tables() function\". This fix is only for HTCondor and patches the vulnerability that could potentially allow an attacker to escalate privileges. ACTION RECOMMENDATIONS: Before you proceed further please note that these instructions to set memory limits will kill running jobs, therefore draining is recommended to prevent new jobs from starting. For HTCondor v8.6.x+ installed from RPMs or DEBs on RHEL7, Centos7, SL7, Debian, or Ubuntu (running systemd): As root run the following commands: # mkdir /etc/systemd/system/condor.service.d # echo -e '[Service]\\nLimitSTACK=16G\\n' > \\ /etc/systemd/system/condor.service.d/CVE-2018-14634.conf # systemctl restart condor For HTCondor v8.6.x+ installed from RPMs on RHEL6, SL6, Centos6 (running init): As root run the following commands: # sed -i 's/ULIMIT_FLAGS=.*/ULIMIT_FLAGS=\"-Hs 16000000\"/' /etc/sysconfig/condor # service condor restart Recommendations for other affected systems can be found in the original announcement. Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-10-18 Vulnerability in Linux kernel\u2019s create_elf_tables() function Update"},{"location":"vulns/OSG-SEC-2018-10-18-Vulnerability-in-Linux-kernel-Update/#osg-sec-2018-10-18-update-vulnerability-in-linux-kernels-create_elf_tables-function","text":"Dear OSG Security Contacts, This is an update to the prior announcement \"OSG-SEC-2018-10-02 Vulnerability in Linux kernel's create_elf_tables() function\". This fix is only for HTCondor and patches the vulnerability that could potentially allow an attacker to escalate privileges.","title":"OSG-SEC-2018-10-18 [UPDATE] Vulnerability in Linux kernel's create_elf_tables() function"},{"location":"vulns/OSG-SEC-2018-10-18-Vulnerability-in-Linux-kernel-Update/#action-recommendations","text":"Before you proceed further please note that these instructions to set memory limits will kill running jobs, therefore draining is recommended to prevent new jobs from starting. For HTCondor v8.6.x+ installed from RPMs or DEBs on RHEL7, Centos7, SL7, Debian, or Ubuntu (running systemd): As root run the following commands: # mkdir /etc/systemd/system/condor.service.d # echo -e '[Service]\\nLimitSTACK=16G\\n' > \\ /etc/systemd/system/condor.service.d/CVE-2018-14634.conf # systemctl restart condor For HTCondor v8.6.x+ installed from RPMs on RHEL6, SL6, Centos6 (running init): As root run the following commands: # sed -i 's/ULIMIT_FLAGS=.*/ULIMIT_FLAGS=\"-Hs 16000000\"/' /etc/sysconfig/condor # service condor restart Recommendations for other affected systems can be found in the original announcement. Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"ACTION RECOMMENDATIONS:"},{"location":"vulns/OSG-SEC-2018-12-12-Critical-vulnerability-in-Singularity-Update-2/","text":"OSG-SEC-2018-12-12 Critical vulnerability in Singularity Update 2 Dear OSG Security Contacts, This is a follow up on our previous announcement \u201cOSG-SEC-2018-12-12 Critical vulnerability in Singularity\u201d. The latest released version of singularity[1] fixes that OSG-SEC-2018-12-12 Critical vulnerability in Singularity. Singularity 3.x is now considered ready for production use, and has been moved to the release repositories as of OSG Release 3.4.31 [2]. Singularity 3.x no longer contains a setuid binary for building container images, so it is no longer vulnerable to the above security flaw. WHAT YOU SHOULD DO: Use the following command to update Singularity to 3.2.1, which was released in OSG Release 3.4.31 [2]: yum install singularity Note that in Singularity 3.x, singularity-runtime has been merged into the main singularity package, so the above command will remove the singularity-runtime package if you have it installed. REFERENCES [1] https://github.com/sylabs/singularity/releases/tag/v3.2.1 [2] https://opensciencegrid.org/docs/release/3.4/release-3-4-31/ Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2018-12-12 Critical vulnerability in Singularity Update 2"},{"location":"vulns/OSG-SEC-2018-12-12-Critical-vulnerability-in-Singularity-Update-2/#osg-sec-2018-12-12-critical-vulnerability-in-singularity-update-2","text":"Dear OSG Security Contacts, This is a follow up on our previous announcement \u201cOSG-SEC-2018-12-12 Critical vulnerability in Singularity\u201d. The latest released version of singularity[1] fixes that OSG-SEC-2018-12-12 Critical vulnerability in Singularity. Singularity 3.x is now considered ready for production use, and has been moved to the release repositories as of OSG Release 3.4.31 [2]. Singularity 3.x no longer contains a setuid binary for building container images, so it is no longer vulnerable to the above security flaw.","title":"OSG-SEC-2018-12-12 Critical vulnerability in Singularity Update 2"},{"location":"vulns/OSG-SEC-2018-12-12-Critical-vulnerability-in-Singularity-Update-2/#what-you-should-do","text":"Use the following command to update Singularity to 3.2.1, which was released in OSG Release 3.4.31 [2]: yum install singularity Note that in Singularity 3.x, singularity-runtime has been merged into the main singularity package, so the above command will remove the singularity-runtime package if you have it installed.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-12-12-Critical-vulnerability-in-Singularity-Update-2/#references","text":"[1] https://github.com/sylabs/singularity/releases/tag/v3.2.1 [2] https://opensciencegrid.org/docs/release/3.4/release-3-4-31/ Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2018-12-12-Critical-vulnerability-in-Singularity-Update/","text":"OSG-SEC-2018-12-12 Critical vulnerability in Singularity Update Dear OSG Security Contacts, Regarding the CRITICAL security vulnerability in singularity announced earlier today: exploits of the vulnerability have now been made public, so responding to the announcement is even more urgent. Please take the appropriate actions ASAP. The exploits also revealed an immediate mitigation that can be done without upgrading; details below. We also have updated instructions below on how to upgrade; this supersedes the prior upgrade instructions. MITIGATION The known exploits affect setuid executables in the singularity RPM and the singularity-runtime RPM. However, it does not affect the setuid executable in singularity-runtime that is used for executing containers. The affected setuid executable in singularity-runtime allows starting background instances, which is not known to be used by batch jobs. The singularity RPM is only needed on hosts where image creation capability is needed. Hence, for hosts such as worker nodes, one can mitigate the exploits by removing affected binaries. The first step of the mitigation is to remove the singularity RPM if it is installed, leaving only the singularity-runtime RPM. Then, remove this executable: rm /usr/libexec/singularity/bin/start-suid This executable will be reinstalled after an RPM upgrade. UPGRADE A permanent solution is to install singularity-runtime-2.6.1, which is now available in the OSG repository: yum install singularity-runtime Verify that yum installs at least singularity-runtime-2.6.1. The command recommended in the previous announcement installed the singularity RPM; we recommend avoiding installation of the singularity RPM where possible. Note the above command will also upgrade the singularity RPM if necessary. Please contact security@opensciencegrid.org if you have any questions or concerns. Sincerely, Jeny Teheran on behalf of the OSG Security Team","title":"OSG-SEC-2018-12-12 Critical vulnerability in Singularity Update"},{"location":"vulns/OSG-SEC-2018-12-12-Critical-vulnerability-in-Singularity-Update/#osg-sec-2018-12-12-critical-vulnerability-in-singularity-update","text":"Dear OSG Security Contacts, Regarding the CRITICAL security vulnerability in singularity announced earlier today: exploits of the vulnerability have now been made public, so responding to the announcement is even more urgent. Please take the appropriate actions ASAP. The exploits also revealed an immediate mitigation that can be done without upgrading; details below. We also have updated instructions below on how to upgrade; this supersedes the prior upgrade instructions.","title":"OSG-SEC-2018-12-12 Critical vulnerability in Singularity Update"},{"location":"vulns/OSG-SEC-2018-12-12-Critical-vulnerability-in-Singularity-Update/#mitigation","text":"The known exploits affect setuid executables in the singularity RPM and the singularity-runtime RPM. However, it does not affect the setuid executable in singularity-runtime that is used for executing containers. The affected setuid executable in singularity-runtime allows starting background instances, which is not known to be used by batch jobs. The singularity RPM is only needed on hosts where image creation capability is needed. Hence, for hosts such as worker nodes, one can mitigate the exploits by removing affected binaries. The first step of the mitigation is to remove the singularity RPM if it is installed, leaving only the singularity-runtime RPM. Then, remove this executable: rm /usr/libexec/singularity/bin/start-suid This executable will be reinstalled after an RPM upgrade.","title":"MITIGATION"},{"location":"vulns/OSG-SEC-2018-12-12-Critical-vulnerability-in-Singularity-Update/#upgrade","text":"A permanent solution is to install singularity-runtime-2.6.1, which is now available in the OSG repository: yum install singularity-runtime Verify that yum installs at least singularity-runtime-2.6.1. The command recommended in the previous announcement installed the singularity RPM; we recommend avoiding installation of the singularity RPM where possible. Note the above command will also upgrade the singularity RPM if necessary. Please contact security@opensciencegrid.org if you have any questions or concerns. Sincerely, Jeny Teheran on behalf of the OSG Security Team","title":"UPGRADE"},{"location":"vulns/OSG-SEC-2018-12-12-Critical-vulnerability-in-Singularity/","text":"OSG-SEC-2018-12-12 Critical vulnerability in Singularity Dear OSG Security Contacts, The following announcement impacts sites running Singularity on RHEL7. VERSIONS IMPACTED: Singularity versions 2.4.0 through 2.6.0 WHAT IS THE VULNERABILITY: This issue affects Singularity 2.4.0 through 2.6.0 on RHEL7 or any modern systemd-based distribution where mount points use shared mount propagation by default (CVE-2018-19295). A malicious user with access to the host system (e.g. SSH or running a payload) could exploit this vulnerability to mount arbitrary directories into the host, resulting in privilege escalation. The vulnerability affects the setuid-root mode of singularity. The RHEL7.6 kernel supports the non-setuid root mode of singularity, but this mode has not yet been sufficiently tested for it to be a recommended workaround at this time. OSG Security considers this vulnerability CRITICAL for sites running Singularity. WHAT YOU SHOULD DO: All sites should install Singularity version 2.6.1 as soon as possible and remove any old versions installed. Singularity 2.6.1 is available in the osg-testing repository; testing is still in progress. Release is planned for later today, December 12. To install from the testing repository, issue the following yum command: yum install --enablerepo=osg-testing singularity The release announcement from the Singularity project mentions a workaround of disabling shared mount propagation, but that adversely affects the visibility of cvmfs automount mount points inside of containers, so we do not recommend it; do the upgrade instead. REFERENCES: https://github.com/sylabs/singularity/releases/tag/2.6.1 https://opensciencegrid.org/docs/worker-node/install-singularity/ Please contact security@opensciencegrid.org if you have any questions or concerns. Sincerely, Ryan Kiser on behalf of the OSG Security Team","title":"OSG-SEC-2018-12-12 Critical vulnerability in Singularity"},{"location":"vulns/OSG-SEC-2018-12-12-Critical-vulnerability-in-Singularity/#osg-sec-2018-12-12-critical-vulnerability-in-singularity","text":"Dear OSG Security Contacts, The following announcement impacts sites running Singularity on RHEL7.","title":"OSG-SEC-2018-12-12 Critical vulnerability in Singularity"},{"location":"vulns/OSG-SEC-2018-12-12-Critical-vulnerability-in-Singularity/#versions-impacted","text":"Singularity versions 2.4.0 through 2.6.0","title":"VERSIONS IMPACTED:"},{"location":"vulns/OSG-SEC-2018-12-12-Critical-vulnerability-in-Singularity/#what-is-the-vulnerability","text":"This issue affects Singularity 2.4.0 through 2.6.0 on RHEL7 or any modern systemd-based distribution where mount points use shared mount propagation by default (CVE-2018-19295). A malicious user with access to the host system (e.g. SSH or running a payload) could exploit this vulnerability to mount arbitrary directories into the host, resulting in privilege escalation. The vulnerability affects the setuid-root mode of singularity. The RHEL7.6 kernel supports the non-setuid root mode of singularity, but this mode has not yet been sufficiently tested for it to be a recommended workaround at this time. OSG Security considers this vulnerability CRITICAL for sites running Singularity.","title":"WHAT IS THE VULNERABILITY:"},{"location":"vulns/OSG-SEC-2018-12-12-Critical-vulnerability-in-Singularity/#what-you-should-do","text":"All sites should install Singularity version 2.6.1 as soon as possible and remove any old versions installed. Singularity 2.6.1 is available in the osg-testing repository; testing is still in progress. Release is planned for later today, December 12. To install from the testing repository, issue the following yum command: yum install --enablerepo=osg-testing singularity The release announcement from the Singularity project mentions a workaround of disabling shared mount propagation, but that adversely affects the visibility of cvmfs automount mount points inside of containers, so we do not recommend it; do the upgrade instead.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2018-12-12-Critical-vulnerability-in-Singularity/#references","text":"https://github.com/sylabs/singularity/releases/tag/2.6.1 https://opensciencegrid.org/docs/worker-node/install-singularity/ Please contact security@opensciencegrid.org if you have any questions or concerns. Sincerely, Ryan Kiser on behalf of the OSG Security Team","title":"REFERENCES:"},{"location":"vulns/OSG-SEC-2019-05-14-Vulnerability-in-Singularity/","text":"OSG-SEC-2019-05-14 Vulnerability in Singularity Dear OSG users, Impacted: Singularity 3.x.x, all versions Severity: High The OSG Security Team wants to inform you that a high severity vulnerability has been announced for privileged installations of all Singularity 3.x.x versions. A new version with a fix to the vulnerability is being prepared by OSG. The current primary Singularity version supported by OSG, version 2.6.1, is not vulnerable. OSG does however support a 3.x.x version in the osg-upcoming yum repository and some sites have installed it. We will send a follow up announcement when a new version is available, but meanwhile there is a mitigation, below. WHAT YOU SHOULD DO: If you are using privileged Singularity 3.x.x on a RHEL7-based distribution, while waiting for the new version either downgrade to version 2.6.1 or enable unprivileged Singularity [1] and set allow setuid = no in singularity.conf. If you are using Singularity 3.x.x on a RHEL6-based distribution, downgrade to version 2.6.1. HOW IT WORKS: A malicious user with local/network access to the host system (e.g. ssh) could exploit this vulnerability due to insecure permissions allowing a user to edit files within /run/singularity/instances/sing/ / . The manipulation of those files can change the behavior of the starter-suid program when instances are joined resulting in potential privilege escalation on the host [2] [3]. REFERENCES: [1] https://opensciencegrid.org/docs/worker-node/install-singularity/#enabling-unprivileged-singularity [2] https://github.com/sylabs/singularity/releases/tag/v3.2.0 [3] https://cve.mitre.org/cgi-bin/cvename.cgi?name=2019-11328 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2019-05-14 Vulnerability in Singularity"},{"location":"vulns/OSG-SEC-2019-05-14-Vulnerability-in-Singularity/#osg-sec-2019-05-14-vulnerability-in-singularity","text":"Dear OSG users, Impacted: Singularity 3.x.x, all versions Severity: High The OSG Security Team wants to inform you that a high severity vulnerability has been announced for privileged installations of all Singularity 3.x.x versions. A new version with a fix to the vulnerability is being prepared by OSG. The current primary Singularity version supported by OSG, version 2.6.1, is not vulnerable. OSG does however support a 3.x.x version in the osg-upcoming yum repository and some sites have installed it. We will send a follow up announcement when a new version is available, but meanwhile there is a mitigation, below.","title":"OSG-SEC-2019-05-14 Vulnerability in Singularity"},{"location":"vulns/OSG-SEC-2019-05-14-Vulnerability-in-Singularity/#what-you-should-do","text":"If you are using privileged Singularity 3.x.x on a RHEL7-based distribution, while waiting for the new version either downgrade to version 2.6.1 or enable unprivileged Singularity [1] and set allow setuid = no in singularity.conf. If you are using Singularity 3.x.x on a RHEL6-based distribution, downgrade to version 2.6.1.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2019-05-14-Vulnerability-in-Singularity/#how-it-works","text":"A malicious user with local/network access to the host system (e.g. ssh) could exploit this vulnerability due to insecure permissions allowing a user to edit files within /run/singularity/instances/sing/ / . The manipulation of those files can change the behavior of the starter-suid program when instances are joined resulting in potential privilege escalation on the host [2] [3].","title":"HOW IT WORKS:"},{"location":"vulns/OSG-SEC-2019-05-14-Vulnerability-in-Singularity/#references","text":"[1] https://opensciencegrid.org/docs/worker-node/install-singularity/#enabling-unprivileged-singularity [2] https://github.com/sylabs/singularity/releases/tag/v3.2.0 [3] https://cve.mitre.org/cgi-bin/cvename.cgi?name=2019-11328 Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES:"},{"location":"vulns/OSG-SEC-2019-07-25-Vulnerability-in-Squid/","text":"OSG-SEC-2019-07-25 Vulnerability in Squid Dear OSG Security Contacts, The frontier-squid package has a publicly announced security vulnerability that can potentially enable remote code execution from any IP address that access control allows to use the squid. All sites that have frontier-squid-4.* versions should upgrade urgently, especially those that have squids that can be used from the internet. IMPACTED VERSIONS: frontier-squid-4.* WHAT ARE THE VULNERABILITIES: Due to incorrect buffer management, squid is vulnerable to a heap overflow and possible remote code execution attack when processing HTTP Authentication credentials. This happens when squid is asked to proxy ftp, which it allows by default. WHAT YOU SHOULD DO: If you have frontier-squid-4.* installed, upgrade to a version where the vulnerability is removed. OSG has released frontier-squid-4.4-2.1 which only adds a patch for this problem to version 4.4-1.1. Upstream had previously released 4.6 versions which are also vulnerable. The upstream frontier-squid-4.8-1.1 version fixes this problem in addition to including other features and bug fixes. So upgrade to either version OSG frontier-squid-4.4-2.1 or upstream 4.8-1.1. REFERENCES [1]. http://www.squid-cache.org/Advisories/SQUID-2019_5.txt [2]. http://frontier.cern.ch/dist/rpms/frontier-squidRELEASE_NOTES Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2019-07-25 Vulnerability in Squid"},{"location":"vulns/OSG-SEC-2019-07-25-Vulnerability-in-Squid/#osg-sec-2019-07-25-vulnerability-in-squid","text":"Dear OSG Security Contacts, The frontier-squid package has a publicly announced security vulnerability that can potentially enable remote code execution from any IP address that access control allows to use the squid. All sites that have frontier-squid-4.* versions should upgrade urgently, especially those that have squids that can be used from the internet.","title":"OSG-SEC-2019-07-25 Vulnerability in Squid"},{"location":"vulns/OSG-SEC-2019-07-25-Vulnerability-in-Squid/#impacted-versions","text":"frontier-squid-4.*","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2019-07-25-Vulnerability-in-Squid/#what-are-the-vulnerabilities","text":"Due to incorrect buffer management, squid is vulnerable to a heap overflow and possible remote code execution attack when processing HTTP Authentication credentials. This happens when squid is asked to proxy ftp, which it allows by default.","title":"WHAT ARE THE VULNERABILITIES:"},{"location":"vulns/OSG-SEC-2019-07-25-Vulnerability-in-Squid/#what-you-should-do","text":"If you have frontier-squid-4.* installed, upgrade to a version where the vulnerability is removed. OSG has released frontier-squid-4.4-2.1 which only adds a patch for this problem to version 4.4-1.1. Upstream had previously released 4.6 versions which are also vulnerable. The upstream frontier-squid-4.8-1.1 version fixes this problem in addition to including other features and bug fixes. So upgrade to either version OSG frontier-squid-4.4-2.1 or upstream 4.8-1.1.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2019-07-25-Vulnerability-in-Squid/#references","text":"[1]. http://www.squid-cache.org/Advisories/SQUID-2019_5.txt [2]. http://frontier.cern.ch/dist/rpms/frontier-squidRELEASE_NOTES Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2019-11-08-Vulnerability-in-Squid/","text":"OSG-SEC-2019-11-08 Vulnerability in Squid Dear OSG Security Contacts, Multiple vulnerabilities have been publicly announced affecting all current versions of frontier-squid-3. and frontier-squid-4. , including one that potentially permits remote code execution and another that permits bypassing access controls. An upgraded package is being prepared, but meanwhile a workaround is available to block the remote code execution vulnerability. All sites are encouraged to apply the workaround, especially those that are not blocked from the internet by a firewall, and to watch for a further announcement on the availability of a new frontier-squid version. IMPACTED VERSIONS: All frontier-squid-3. and frontier-squid-4. versions through frontier-squid-4.8-2.1. frontier-squid-2.* versions don\u2019t have these vulnerabilities but they are deprecated. WHAT ARE THE VULNERABILITIES: Vulnerability SQUID-2019:7 [1] describes a potential heap overflow in the URN (Universal Resource Name) handling code that can potentially lead to remote code execution or crash. This feature is not used by OSG clients but is enabled by default. A workaround to disable it is below. Vulnerability SQUID-2019:8 [2] describes several issues with URI (Universal Resource Identifier) processing that permit remote clients to bypass access controls or deny service to other clients. It discusses a workaround for a third issue enabling access to manager services, but that workaround is already in place by default. Three other vulnerabilities were announced at the same time but they are not applicable to the OSG. WHAT YOU SHOULD DO: Add these lines to /etc/squid/customize.sh and restart the frontier-squid service, especially if your squid is accessible to the internet: insertline(\"# INSERT YOUR OWN RULE\", \"acl URN proto URN\") insertline(\"# INSERT YOUR OWN RULE\", \"http_access deny URN\") Watch for a followup announcement of the availability of frontier-squid-4.9. REFERENCES [1] http://www.squid-cache.org/Advisories/SQUID-2019_7.txt [2] http://www.squid-cache.org/Advisories/SQUID-2019_8.txt Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2019-11-08 Vulnerability in Squid"},{"location":"vulns/OSG-SEC-2019-11-08-Vulnerability-in-Squid/#osg-sec-2019-11-08-vulnerability-in-squid","text":"Dear OSG Security Contacts, Multiple vulnerabilities have been publicly announced affecting all current versions of frontier-squid-3. and frontier-squid-4. , including one that potentially permits remote code execution and another that permits bypassing access controls. An upgraded package is being prepared, but meanwhile a workaround is available to block the remote code execution vulnerability. All sites are encouraged to apply the workaround, especially those that are not blocked from the internet by a firewall, and to watch for a further announcement on the availability of a new frontier-squid version.","title":"OSG-SEC-2019-11-08 Vulnerability in Squid"},{"location":"vulns/OSG-SEC-2019-11-08-Vulnerability-in-Squid/#impacted-versions","text":"All frontier-squid-3. and frontier-squid-4. versions through frontier-squid-4.8-2.1. frontier-squid-2.* versions don\u2019t have these vulnerabilities but they are deprecated.","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2019-11-08-Vulnerability-in-Squid/#what-are-the-vulnerabilities","text":"Vulnerability SQUID-2019:7 [1] describes a potential heap overflow in the URN (Universal Resource Name) handling code that can potentially lead to remote code execution or crash. This feature is not used by OSG clients but is enabled by default. A workaround to disable it is below. Vulnerability SQUID-2019:8 [2] describes several issues with URI (Universal Resource Identifier) processing that permit remote clients to bypass access controls or deny service to other clients. It discusses a workaround for a third issue enabling access to manager services, but that workaround is already in place by default. Three other vulnerabilities were announced at the same time but they are not applicable to the OSG.","title":"WHAT ARE THE VULNERABILITIES:"},{"location":"vulns/OSG-SEC-2019-11-08-Vulnerability-in-Squid/#what-you-should-do","text":"Add these lines to /etc/squid/customize.sh and restart the frontier-squid service, especially if your squid is accessible to the internet: insertline(\"# INSERT YOUR OWN RULE\", \"acl URN proto URN\") insertline(\"# INSERT YOUR OWN RULE\", \"http_access deny URN\") Watch for a followup announcement of the availability of frontier-squid-4.9.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2019-11-08-Vulnerability-in-Squid/#references","text":"[1] http://www.squid-cache.org/Advisories/SQUID-2019_7.txt [2] http://www.squid-cache.org/Advisories/SQUID-2019_8.txt Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2019-11-11-Vulnerability-in-Squid-UPDATE/","text":"OSG-SEC-2019-11-11 Vulnerability in Squid UPDATE Dear OSG Security Contacts, UPDATE: There was an issue with smart quotes in the original announcement. The correct lines to add to /etc/squid/customize.sh should look like this: insertline(\"# INSERT YOUR OWN RULE\", \"acl URN proto URN\") insertline(\"# INSERT YOUR OWN RULE\", \"http_access deny URN\") Original Announcement: Multiple vulnerabilities have been publicly announced affecting all current versions of frontier-squid-3. and frontier-squid-4. , including one that potentially permits remote code execution and another that permits bypassing access controls. An upgraded package is being prepared, but meanwhile a workaround is available to block the remote code execution vulnerability. All sites are encouraged to apply the workaround, especially those that are not blocked from the internet by a firewall, and to watch for a further announcement on the availability of a new frontier-squid version. IMPACTED VERSIONS: All frontier-squid-3. and frontier-squid-4. versions through frontier-squid-4.8-2.1. frontier-squid-2.* versions don\u2019t have these vulnerabilities but they are deprecated. WHAT ARE THE VULNERABILITIES: Vulnerability SQUID-2019:7 [1] describes a potential heap overflow in the URN (Universal Resource Name) handling code that can potentially lead to remote code execution or crash. This feature is not used by OSG clients but is enabled by default. A workaround to disable it is below. Vulnerability SQUID-2019:8 [2] describes several issues with URI (Universal Resource Identifier) processing that permit remote clients to bypass access controls or deny service to other clients. It discusses a workaround for a third issue enabling access to manager services, but that workaround is already in place by default. Three other vulnerabilities were announced at the same time but they are not applicable to the OSG. WHAT YOU SHOULD DO: Add these lines to /etc/squid/customize.sh and restart the frontier-squid service, especially if your squid is accessible to the internet: insertline(\"# INSERT YOUR OWN RULE\", \"acl URN proto URN\") insertline(\"# INSERT YOUR OWN RULE\", \"http_access deny URN\") Watch for a followup announcement of the availability of frontier-squid-4.9. REFERENCES [1] http://www.squid-cache.org/Advisories/SQUID-2019_7.txt [2] http://www.squid-cache.org/Advisories/SQUID-2019_8.txt Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2019-11-11 Vulnerability in Squid UPDATE"},{"location":"vulns/OSG-SEC-2019-11-11-Vulnerability-in-Squid-UPDATE/#osg-sec-2019-11-11-vulnerability-in-squid-update","text":"Dear OSG Security Contacts,","title":"OSG-SEC-2019-11-11 Vulnerability in Squid UPDATE"},{"location":"vulns/OSG-SEC-2019-11-11-Vulnerability-in-Squid-UPDATE/#update","text":"There was an issue with smart quotes in the original announcement. The correct lines to add to /etc/squid/customize.sh should look like this: insertline(\"# INSERT YOUR OWN RULE\", \"acl URN proto URN\") insertline(\"# INSERT YOUR OWN RULE\", \"http_access deny URN\") Original Announcement: Multiple vulnerabilities have been publicly announced affecting all current versions of frontier-squid-3. and frontier-squid-4. , including one that potentially permits remote code execution and another that permits bypassing access controls. An upgraded package is being prepared, but meanwhile a workaround is available to block the remote code execution vulnerability. All sites are encouraged to apply the workaround, especially those that are not blocked from the internet by a firewall, and to watch for a further announcement on the availability of a new frontier-squid version.","title":"UPDATE:"},{"location":"vulns/OSG-SEC-2019-11-11-Vulnerability-in-Squid-UPDATE/#impacted-versions","text":"All frontier-squid-3. and frontier-squid-4. versions through frontier-squid-4.8-2.1. frontier-squid-2.* versions don\u2019t have these vulnerabilities but they are deprecated.","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2019-11-11-Vulnerability-in-Squid-UPDATE/#what-are-the-vulnerabilities","text":"Vulnerability SQUID-2019:7 [1] describes a potential heap overflow in the URN (Universal Resource Name) handling code that can potentially lead to remote code execution or crash. This feature is not used by OSG clients but is enabled by default. A workaround to disable it is below. Vulnerability SQUID-2019:8 [2] describes several issues with URI (Universal Resource Identifier) processing that permit remote clients to bypass access controls or deny service to other clients. It discusses a workaround for a third issue enabling access to manager services, but that workaround is already in place by default. Three other vulnerabilities were announced at the same time but they are not applicable to the OSG.","title":"WHAT ARE THE VULNERABILITIES:"},{"location":"vulns/OSG-SEC-2019-11-11-Vulnerability-in-Squid-UPDATE/#what-you-should-do","text":"Add these lines to /etc/squid/customize.sh and restart the frontier-squid service, especially if your squid is accessible to the internet: insertline(\"# INSERT YOUR OWN RULE\", \"acl URN proto URN\") insertline(\"# INSERT YOUR OWN RULE\", \"http_access deny URN\") Watch for a followup announcement of the availability of frontier-squid-4.9.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2019-11-11-Vulnerability-in-Squid-UPDATE/#references","text":"[1] http://www.squid-cache.org/Advisories/SQUID-2019_7.txt [2] http://www.squid-cache.org/Advisories/SQUID-2019_8.txt Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2019-11-15-Vulnerability-in-Squid-UPDATE-2/","text":"OSG-SEC-2019-11-15 Vulnerability in Squid UPDATE 2 Dear OSG Security Contacts, UPDATE 2: This is an update to OSG-SEC-2019-11-11[1]. OSG 3.5.5[2] and 3.4.39[3] have been released containing frontier-squid-4.9-2.1, fixing the two high-priority vulnerabilities described in the original announcement. OSG Security recommends updating to frontier-squid-4.9-2.1 as soon as possible. The previously described workaround involving /etc/squid/customize.sh is no longer necessary when running frontier-squid-4.9-21. References: [1] https://opensciencegrid.org/security/vulns/OSG-SEC-2019-11-11-Vulnerability-in-Squid-UPDATE/ [2] https://opensciencegrid.org/docs/release/3.5/release-3-5-5/ [3] https://opensciencegrid.org/docs/release/3.4/release-3-4-39/ Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2019-11-15 Vulnerability in Squid UPDATE 2"},{"location":"vulns/OSG-SEC-2019-11-15-Vulnerability-in-Squid-UPDATE-2/#osg-sec-2019-11-15-vulnerability-in-squid-update-2","text":"Dear OSG Security Contacts,","title":"OSG-SEC-2019-11-15 Vulnerability in Squid UPDATE 2"},{"location":"vulns/OSG-SEC-2019-11-15-Vulnerability-in-Squid-UPDATE-2/#update-2","text":"This is an update to OSG-SEC-2019-11-11[1]. OSG 3.5.5[2] and 3.4.39[3] have been released containing frontier-squid-4.9-2.1, fixing the two high-priority vulnerabilities described in the original announcement. OSG Security recommends updating to frontier-squid-4.9-2.1 as soon as possible. The previously described workaround involving /etc/squid/customize.sh is no longer necessary when running frontier-squid-4.9-21.","title":"UPDATE 2:"},{"location":"vulns/OSG-SEC-2019-11-15-Vulnerability-in-Squid-UPDATE-2/#references","text":"[1] https://opensciencegrid.org/security/vulns/OSG-SEC-2019-11-11-Vulnerability-in-Squid-UPDATE/ [2] https://opensciencegrid.org/docs/release/3.5/release-3-5-5/ [3] https://opensciencegrid.org/docs/release/3.4/release-3-4-39/ Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"References:"},{"location":"vulns/OSG-SEC-2020-02-07-Vulnerabilities-in-frontier-squid/","text":"OSG-SEC-2020-02-07 Vulnerabilities in Frontier-Squid Dear OSG Security Contacts, Security vulnerabilities have been publicly announced for squid. OSG has released a version of frontier-squid with fixes for the vulnerabilities. All installations of squid should be upgraded. OSG security considers the vulnerability affecting reverse proxy installations (such as CVMFS Stratum 1 servers) to be CRITICAL and the vulnerability affecting ordinary proxy installations to be MODERATE. IMPACTED VERSIONS: All versions of frontier-squid prior to 4.10-1.1 WHAT ARE THE VULNERABILITIES: The first vulnerability [1] affects reverse proxy configurations, where squid forwards all traffic to a backend server using the http_port \"accel\" or \"vhost\" options. CVMFS Stratum 1 servers are affected. Due to incorrect input validation, squid can interpret crafted HTTP requests in unexpected ways to access server resources prohibited by earlier security filters. Also, due to incorrect buffer management a remote client can cause a buffer overflow in a Squid acting as reverse-proxy. This can result in remote code execution. The second vulnerability [2] affects squid installations that allow proxying ftp, which is the default. Due to incorrect data management, squid is vulnerable to information disclosure when translating FTP server listings into HTTP responses. The information may be anything from the heap area including information from other processes on the machine. An exploit requires control of the destination server, so those installations that restrict the destination servers to a known list of trusted servers should not be affected, but OSG security still advises upgrading. WHAT YOU SHOULD DO: AUpgrade reverse proxy installations to frontier-squid-4.10-1.1 as soon as possible, and schedule an upgrade for other installations. REFERENCES [1] http://www.squid-cache.org/Advisories/SQUID-2020_1.txt [2] http://www.squid-cache.org/Advisories/SQUID-2020_2.txt Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2020-02-07 Vulnerabilities in Frontier Squid"},{"location":"vulns/OSG-SEC-2020-02-07-Vulnerabilities-in-frontier-squid/#osg-sec-2020-02-07-vulnerabilities-in-frontier-squid","text":"Dear OSG Security Contacts, Security vulnerabilities have been publicly announced for squid. OSG has released a version of frontier-squid with fixes for the vulnerabilities. All installations of squid should be upgraded. OSG security considers the vulnerability affecting reverse proxy installations (such as CVMFS Stratum 1 servers) to be CRITICAL and the vulnerability affecting ordinary proxy installations to be MODERATE.","title":"OSG-SEC-2020-02-07 Vulnerabilities in Frontier-Squid"},{"location":"vulns/OSG-SEC-2020-02-07-Vulnerabilities-in-frontier-squid/#impacted-versions","text":"All versions of frontier-squid prior to 4.10-1.1","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2020-02-07-Vulnerabilities-in-frontier-squid/#what-are-the-vulnerabilities","text":"The first vulnerability [1] affects reverse proxy configurations, where squid forwards all traffic to a backend server using the http_port \"accel\" or \"vhost\" options. CVMFS Stratum 1 servers are affected. Due to incorrect input validation, squid can interpret crafted HTTP requests in unexpected ways to access server resources prohibited by earlier security filters. Also, due to incorrect buffer management a remote client can cause a buffer overflow in a Squid acting as reverse-proxy. This can result in remote code execution. The second vulnerability [2] affects squid installations that allow proxying ftp, which is the default. Due to incorrect data management, squid is vulnerable to information disclosure when translating FTP server listings into HTTP responses. The information may be anything from the heap area including information from other processes on the machine. An exploit requires control of the destination server, so those installations that restrict the destination servers to a known list of trusted servers should not be affected, but OSG security still advises upgrading.","title":"WHAT ARE THE VULNERABILITIES:"},{"location":"vulns/OSG-SEC-2020-02-07-Vulnerabilities-in-frontier-squid/#what-you-should-do","text":"AUpgrade reverse proxy installations to frontier-squid-4.10-1.1 as soon as possible, and schedule an upgrade for other installations.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2020-02-07-Vulnerabilities-in-frontier-squid/#references","text":"[1] http://www.squid-cache.org/Advisories/SQUID-2020_1.txt [2] http://www.squid-cache.org/Advisories/SQUID-2020_2.txt Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2020-03-26-Vulnerability-in-xrootd-scitokens-plugin/","text":"OSG-SEC-2020-03-26 Vulnerability in xrootd-scitokens Plugin Dear OSG Security Contacts, A security vulnerability has been discovered in the xrootd-scitokens plugin. OSG has released an updated version of the plugin with fixes for the vulnerability. All installations of the plugin should be upgraded. The OSG Security team considers this vulnerability to be of MODERATE severity. IMPACTED VERSIONS: All versions of xrootd-scitokens prior to v1.2 WHAT ARE THE VULNERABILITIES: The xrootd-scitokens plugin v1.1.0 (and earlier) contains an authorization logic error that permits both read and write access to files when the user's token authorizes only read or write permission. An authorized user with a valid token granting read access to files also obtains write access to those files (and vice versa). This does not affect typical xrootd-scitokens deployment scenarios, which either have read-only filesystems or where both read and write permissions are granted for all generated tokens. WHAT YOU SHOULD DO: Update the xrootd-scitokens plugin to v1.2 or later. REFERENCES [1] https://github.com/scitokens/xrootd-scitokens Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2020-03-26 Vulnerability in xrootd-scitokens Plugin"},{"location":"vulns/OSG-SEC-2020-03-26-Vulnerability-in-xrootd-scitokens-plugin/#osg-sec-2020-03-26-vulnerability-in-xrootd-scitokens-plugin","text":"Dear OSG Security Contacts, A security vulnerability has been discovered in the xrootd-scitokens plugin. OSG has released an updated version of the plugin with fixes for the vulnerability. All installations of the plugin should be upgraded. The OSG Security team considers this vulnerability to be of MODERATE severity.","title":"OSG-SEC-2020-03-26 Vulnerability in xrootd-scitokens Plugin"},{"location":"vulns/OSG-SEC-2020-03-26-Vulnerability-in-xrootd-scitokens-plugin/#impacted-versions","text":"All versions of xrootd-scitokens prior to v1.2","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2020-03-26-Vulnerability-in-xrootd-scitokens-plugin/#what-are-the-vulnerabilities","text":"The xrootd-scitokens plugin v1.1.0 (and earlier) contains an authorization logic error that permits both read and write access to files when the user's token authorizes only read or write permission. An authorized user with a valid token granting read access to files also obtains write access to those files (and vice versa). This does not affect typical xrootd-scitokens deployment scenarios, which either have read-only filesystems or where both read and write permissions are granted for all generated tokens.","title":"WHAT ARE THE VULNERABILITIES:"},{"location":"vulns/OSG-SEC-2020-03-26-Vulnerability-in-xrootd-scitokens-plugin/#what-you-should-do","text":"Update the xrootd-scitokens plugin to v1.2 or later.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2020-03-26-Vulnerability-in-xrootd-scitokens-plugin/#references","text":"[1] https://github.com/scitokens/xrootd-scitokens Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2020-05-05-Singularity-and-unprivileged-user-namespaces/","text":"OSG-SEC-2020-05-05 Singularity and unprivileged user namespaces Dear OSG Security Contacts, Red Hat Enterprise Linux 7 supports a kernel feature called unprivileged user namespaces that enables singularity to run completely unprivileged. All OSG VOs (including WLCG VOs) that use singularity are now configured to run singularity unprivileged out of CVMFS when they can. OSG security believes this to be a significantly lower risk than having singularity installed with setuid root enabled. We recommend that sites enable unprivileged user namespaces on their RHEL 7 worker nodes if they haven\u2019t, and remove singularity rpms if there is no non-OSG requirement to keep them. IMPACTED VERSIONS: RHEL 7.6 and later are affected. RHEL 8 has unprivileged user namespaces enabled by default. RHEL 6 cannot enable unprivileged user namespaces. WHAT ARE THE VULNERABILITIES: There are no known current exploits with setuid root singularity, but there have been in the past. Setuid root programs are notoriously difficult to secure, and there are likely to be more exploits discovered in the future. WHAT YOU SHOULD DO: On RHEL 7 worker nodes, enable unprivileged user namespaces by following the instructions on the OSG singularity installation page [1]. Then, if you have no requirement to keep the rpm installed for non-OSG purposes, remove singularity rpms from your worker nodes. If your singularity installation is version 2, instead remove singularity-runtime rpms. If you have to keep the singularity rpm installed, consider setting the configuration \u2018allow setuid = no\u2019. More information on making that choice is available [2]. Note that if there were local changes to singularity.conf, VOs will no longer be using them. Extra local bind paths can be added to jobs through the SINGULARITY_BINDPATH environment variable. REFERENCES [1]\u00ad\u00ad\u00ad\u2063\u2063\u2063 https://opensciencegrid.org/docs/worker-node/install-singularity/#enabling-unprivileged-singularity [2]\u00ad\u00ad\u00ad\u2063\u2063\u2063 https://opensciencegrid.org/docs/worker-node/install-singularity/#choosing-unprivileged-vs-privileged-singularity Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2020-05-05 Singularity and unprivileged user namespaces"},{"location":"vulns/OSG-SEC-2020-05-05-Singularity-and-unprivileged-user-namespaces/#osg-sec-2020-05-05-singularity-and-unprivileged-user-namespaces","text":"Dear OSG Security Contacts, Red Hat Enterprise Linux 7 supports a kernel feature called unprivileged user namespaces that enables singularity to run completely unprivileged. All OSG VOs (including WLCG VOs) that use singularity are now configured to run singularity unprivileged out of CVMFS when they can. OSG security believes this to be a significantly lower risk than having singularity installed with setuid root enabled. We recommend that sites enable unprivileged user namespaces on their RHEL 7 worker nodes if they haven\u2019t, and remove singularity rpms if there is no non-OSG requirement to keep them.","title":"OSG-SEC-2020-05-05 Singularity and unprivileged user namespaces"},{"location":"vulns/OSG-SEC-2020-05-05-Singularity-and-unprivileged-user-namespaces/#impacted-versions","text":"RHEL 7.6 and later are affected. RHEL 8 has unprivileged user namespaces enabled by default. RHEL 6 cannot enable unprivileged user namespaces.","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2020-05-05-Singularity-and-unprivileged-user-namespaces/#what-are-the-vulnerabilities","text":"There are no known current exploits with setuid root singularity, but there have been in the past. Setuid root programs are notoriously difficult to secure, and there are likely to be more exploits discovered in the future.","title":"WHAT ARE THE VULNERABILITIES:"},{"location":"vulns/OSG-SEC-2020-05-05-Singularity-and-unprivileged-user-namespaces/#what-you-should-do","text":"On RHEL 7 worker nodes, enable unprivileged user namespaces by following the instructions on the OSG singularity installation page [1]. Then, if you have no requirement to keep the rpm installed for non-OSG purposes, remove singularity rpms from your worker nodes. If your singularity installation is version 2, instead remove singularity-runtime rpms. If you have to keep the singularity rpm installed, consider setting the configuration \u2018allow setuid = no\u2019. More information on making that choice is available [2]. Note that if there were local changes to singularity.conf, VOs will no longer be using them. Extra local bind paths can be added to jobs through the SINGULARITY_BINDPATH environment variable.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2020-05-05-Singularity-and-unprivileged-user-namespaces/#references","text":"[1]\u00ad\u00ad\u00ad\u2063\u2063\u2063 https://opensciencegrid.org/docs/worker-node/install-singularity/#enabling-unprivileged-singularity [2]\u00ad\u00ad\u00ad\u2063\u2063\u2063 https://opensciencegrid.org/docs/worker-node/install-singularity/#choosing-unprivileged-vs-privileged-singularity Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2020-08-31-Vulnerabilities-in-frontier-squid/","text":"OSG-SEC-2020-08-31 Vulnerabilities in frontier-squid Dear OSG Security Contacts, The squid project has publicly announced new vulnerabilities that can result in cache poisoning. OSG has released a new version frontier-squid-4.13-1.1 that addresses the vulnerabilities, and all sites are encouraged to upgrade to it. There is also a temporary workaround that may work for sites that cannot upgrade in a timely manner. IMPACTED VERSIONS: All frontier-squid versions < 4.13 WHAT ARE THE VULNERABILITIES: Two announced vulnerabilities, one for request splitting [1] and one for request smuggling [2] can both lead to cache poisoning. Cache poisoning will lead to only denial of service for CVMFS, but could potentially be more serious for the Frontier application used by CMS and ATLAS, or for other applications that might be using the squid. Note that exposure to squids is usually limited by access control to addresses within a local area network. WHAT YOU SHOULD DO: On RHEL6 or RHEL7, upgrade squid with yum install frontier-squid as shown in the OSG frontier-squid installation instructions [3]. The squid will be out of service for about a minute during the upgrade. The new version is available in OSG 3.4 and 3.5 yum repositories. An alternative workaround for the vulnerabilities is to add the option setoption(\"relaxed_header_parser\", \"off\") to /etc/squid/customize.sh and reload the squid with service frontier-squid reload This has been tested with CVMFS and Frontier but may impact other applications using the squid. REFERENCES [1] https://github.com/squid-cache/squid/security/advisories/GHSA-c7p8-xqhm-49wv [2] https://github.com/squid-cache/squid/security/advisories/GHSA-3365-q9qx-f98m [3] https://opensciencegrid.org/docs/data/frontier-squid Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2020-08-31 Vulnerabilities in frontier-squid"},{"location":"vulns/OSG-SEC-2020-08-31-Vulnerabilities-in-frontier-squid/#osg-sec-2020-08-31-vulnerabilities-in-frontier-squid","text":"Dear OSG Security Contacts, The squid project has publicly announced new vulnerabilities that can result in cache poisoning. OSG has released a new version frontier-squid-4.13-1.1 that addresses the vulnerabilities, and all sites are encouraged to upgrade to it. There is also a temporary workaround that may work for sites that cannot upgrade in a timely manner.","title":"OSG-SEC-2020-08-31 Vulnerabilities in frontier-squid"},{"location":"vulns/OSG-SEC-2020-08-31-Vulnerabilities-in-frontier-squid/#impacted-versions","text":"All frontier-squid versions < 4.13","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2020-08-31-Vulnerabilities-in-frontier-squid/#what-are-the-vulnerabilities","text":"Two announced vulnerabilities, one for request splitting [1] and one for request smuggling [2] can both lead to cache poisoning. Cache poisoning will lead to only denial of service for CVMFS, but could potentially be more serious for the Frontier application used by CMS and ATLAS, or for other applications that might be using the squid. Note that exposure to squids is usually limited by access control to addresses within a local area network.","title":"WHAT ARE THE VULNERABILITIES:"},{"location":"vulns/OSG-SEC-2020-08-31-Vulnerabilities-in-frontier-squid/#what-you-should-do","text":"On RHEL6 or RHEL7, upgrade squid with yum install frontier-squid as shown in the OSG frontier-squid installation instructions [3]. The squid will be out of service for about a minute during the upgrade. The new version is available in OSG 3.4 and 3.5 yum repositories. An alternative workaround for the vulnerabilities is to add the option setoption(\"relaxed_header_parser\", \"off\") to /etc/squid/customize.sh and reload the squid with service frontier-squid reload This has been tested with CVMFS and Frontier but may impact other applications using the squid.","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2020-08-31-Vulnerabilities-in-frontier-squid/#references","text":"[1] https://github.com/squid-cache/squid/security/advisories/GHSA-c7p8-xqhm-49wv [2] https://github.com/squid-cache/squid/security/advisories/GHSA-3365-q9qx-f98m [3] https://opensciencegrid.org/docs/data/frontier-squid Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2020-09-22-CVE-2020-14386-Memory-corruption-in-kernel-on-EL8-UPDATE/","text":"OSG-SEC-2020-09-22 CVE-2020-14386 Memory corruption in kernel on EL8 UPDATE Dear OSG Security Contacts, A memory corruption vulnerability described in CVE-2020-14386 [1] has been found in some versions of the Linux kernel that can result in privilege escalation. Specifically, this affects EL8 systems; RHEL 7 and CentOS 7 are not affected. The OSG Security team considers this vulnerability to be HIGH severity. IMPACTED VERSIONS: Red Hat Enterprise Linux 8, CentOS 8 WHAT ARE THE VULNERABILITIES: A memory corruption vulnerability [2] exists in code related to handling AF_PACKET sockets. An unprivileged user on systems where unprivileged user namespaces are enabled, such as EL8 systems, can acquire the CAP_NET_RAW capability to create AF_PACKET sockets and trigger this memory corruption, potentially leading to privilege escalation. WHAT YOU SHOULD DO: UPDATE 10/26/20 RedHat has fixed this issue - see [4], fixes are now available for RedHat Enterprise Linux and its derivatives. Sites are recommended to update relevant components. This should be carried out urgently if they have not already carried out the mitigation described in this advisory on affected hosts, especially those providing shell or container access to unprivileged users. Additionally, the OSG Security team recommends disabling network namespaces when unprivileged user namespaces are enabled [5]: echo \"user.max_net_namespaces = 0\" \\ > /etc/sysctl.d/90-max_net_namespaces.conf sysctl -p /etc/sysctl.d/90-max_net_namespaces.conf Note that docker uses network namespaces, unless it is invoked with --net=host. Disabling network namespaces also blocks the systemd PrivateNetwork feature, which is a feature that is used by some EL 8 services. It is also configured for some EL 7 services but they are all disabled by default. More details on this issue and potential workarounds are available in the OSG Singularity documentation [5]. Unprivileged user namespaces are enabled by default on EL8. If you are not using unprivileged user namespaces (for example for singularity), you can also mitigate this issue by disabling them: echo \"user.max_user_namespaces = 0\" \\ > /etc/sysctl.d/90-max_user_namespaces.conf sysctl -p /etc/sysctl.d/90-max_user_namespaces.conf REFERENCES [1] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-14386 [2] https://seclists.org/oss-sec/2020/q3/146 [3] https://access.redhat.com/security/cve/CVE-2020-14386 [4] https://access.redhat.com/errata/RHSA-2020:4286 [5] https://opensciencegrid.org/docs/worker-node/install-singularity/#enabling-unprivileged-singularity Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2020-09-22 CVE-2020-14386 Memory corruption in kernel on EL8 **UPDATE**"},{"location":"vulns/OSG-SEC-2020-09-22-CVE-2020-14386-Memory-corruption-in-kernel-on-EL8-UPDATE/#osg-sec-2020-09-22-cve-2020-14386-memory-corruption-in-kernel-on-el8-update","text":"Dear OSG Security Contacts, A memory corruption vulnerability described in CVE-2020-14386 [1] has been found in some versions of the Linux kernel that can result in privilege escalation. Specifically, this affects EL8 systems; RHEL 7 and CentOS 7 are not affected. The OSG Security team considers this vulnerability to be HIGH severity.","title":"OSG-SEC-2020-09-22 CVE-2020-14386 Memory corruption in kernel on EL8 UPDATE"},{"location":"vulns/OSG-SEC-2020-09-22-CVE-2020-14386-Memory-corruption-in-kernel-on-EL8-UPDATE/#impacted-versions","text":"Red Hat Enterprise Linux 8, CentOS 8","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2020-09-22-CVE-2020-14386-Memory-corruption-in-kernel-on-EL8-UPDATE/#what-are-the-vulnerabilities","text":"A memory corruption vulnerability [2] exists in code related to handling AF_PACKET sockets. An unprivileged user on systems where unprivileged user namespaces are enabled, such as EL8 systems, can acquire the CAP_NET_RAW capability to create AF_PACKET sockets and trigger this memory corruption, potentially leading to privilege escalation.","title":"WHAT ARE THE VULNERABILITIES:"},{"location":"vulns/OSG-SEC-2020-09-22-CVE-2020-14386-Memory-corruption-in-kernel-on-EL8-UPDATE/#what-you-should-do-update-102620","text":"RedHat has fixed this issue - see [4], fixes are now available for RedHat Enterprise Linux and its derivatives. Sites are recommended to update relevant components. This should be carried out urgently if they have not already carried out the mitigation described in this advisory on affected hosts, especially those providing shell or container access to unprivileged users. Additionally, the OSG Security team recommends disabling network namespaces when unprivileged user namespaces are enabled [5]: echo \"user.max_net_namespaces = 0\" \\ > /etc/sysctl.d/90-max_net_namespaces.conf sysctl -p /etc/sysctl.d/90-max_net_namespaces.conf Note that docker uses network namespaces, unless it is invoked with --net=host. Disabling network namespaces also blocks the systemd PrivateNetwork feature, which is a feature that is used by some EL 8 services. It is also configured for some EL 7 services but they are all disabled by default. More details on this issue and potential workarounds are available in the OSG Singularity documentation [5]. Unprivileged user namespaces are enabled by default on EL8. If you are not using unprivileged user namespaces (for example for singularity), you can also mitigate this issue by disabling them: echo \"user.max_user_namespaces = 0\" \\ > /etc/sysctl.d/90-max_user_namespaces.conf sysctl -p /etc/sysctl.d/90-max_user_namespaces.conf","title":"WHAT YOU SHOULD DO: UPDATE 10/26/20"},{"location":"vulns/OSG-SEC-2020-09-22-CVE-2020-14386-Memory-corruption-in-kernel-on-EL8-UPDATE/#references","text":"[1] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-14386 [2] https://seclists.org/oss-sec/2020/q3/146 [3] https://access.redhat.com/security/cve/CVE-2020-14386 [4] https://access.redhat.com/errata/RHSA-2020:4286 [5] https://opensciencegrid.org/docs/worker-node/install-singularity/#enabling-unprivileged-singularity Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2020-09-22-CVE-2020-14386-Memory-corruption-in-kernel-on-EL8/","text":"OSG-SEC-2020-09-22 CVE-2020-14386 Memory corruption in kernel on EL8 Dear OSG Security Contacts, A memory corruption vulnerability described in CVE-2020-14386 [1] has been found in some versions of the Linux kernel that can result in privilege escalation. Specifically, this affects EL8 systems; RHEL 7 and CentOS 7 are not affected. The OSG Security team considers this vulnerability to be HIGH severity. IMPACTED VERSIONS: Red Hat Enterprise Linux 8, CentOS 8 WHAT ARE THE VULNERABILITIES: A memory corruption vulnerability [2] exists in code related to handling AF_PACKET sockets. An unprivileged user on systems where unprivileged user namespaces are enabled, such as EL8 systems, can acquire the CAP_NET_RAW capability to create AF_PACKET sockets and trigger this memory corruption, potentially leading to privilege escalation. WHAT YOU SHOULD DO: A patched kernel is not yet available. The Red Hat security announcement [3] recommends disabling the CAP_NET_RAW capability for regular users and executables as a mitigation. Additionally, the OSG Security team recommends disabling network namespaces when unprivileged user namespaces are enabled [4]: echo \"user.max_net_namespaces = 0\" \\ > /etc/sysctl.d/90-max_net_namespaces.conf sysctl -p /etc/sysctl.d/90-max_net_namespaces.conf Note that docker uses network namespaces, unless it is invoked with --net=host. Unprivileged user namespaces are enabled by default on EL8. If you are not using unprivileged user namespaces (for example for singularity), you can also mitigate this issue by disabling them: echo \"user.max_user_namespaces = 0\" \\ > /etc/sysctl.d/90-max_user_namespaces.conf sysctl -p /etc/sysctl.d/90-max_user_namespaces.conf REFERENCES [1] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-14386 [2] https://seclists.org/oss-sec/2020/q3/146 [3] https://access.redhat.com/security/cve/CVE-2020-14386 [4] https://opensciencegrid.org/docs/worker-node/install-singularity/#enabling-unprivileged-singularity Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2020-09-22 CVE-2020-14386 Memory corruption in kernel on EL8"},{"location":"vulns/OSG-SEC-2020-09-22-CVE-2020-14386-Memory-corruption-in-kernel-on-EL8/#osg-sec-2020-09-22-cve-2020-14386-memory-corruption-in-kernel-on-el8","text":"Dear OSG Security Contacts, A memory corruption vulnerability described in CVE-2020-14386 [1] has been found in some versions of the Linux kernel that can result in privilege escalation. Specifically, this affects EL8 systems; RHEL 7 and CentOS 7 are not affected. The OSG Security team considers this vulnerability to be HIGH severity.","title":"OSG-SEC-2020-09-22 CVE-2020-14386 Memory corruption in kernel on EL8"},{"location":"vulns/OSG-SEC-2020-09-22-CVE-2020-14386-Memory-corruption-in-kernel-on-EL8/#impacted-versions","text":"Red Hat Enterprise Linux 8, CentOS 8","title":"IMPACTED VERSIONS:"},{"location":"vulns/OSG-SEC-2020-09-22-CVE-2020-14386-Memory-corruption-in-kernel-on-EL8/#what-are-the-vulnerabilities","text":"A memory corruption vulnerability [2] exists in code related to handling AF_PACKET sockets. An unprivileged user on systems where unprivileged user namespaces are enabled, such as EL8 systems, can acquire the CAP_NET_RAW capability to create AF_PACKET sockets and trigger this memory corruption, potentially leading to privilege escalation.","title":"WHAT ARE THE VULNERABILITIES:"},{"location":"vulns/OSG-SEC-2020-09-22-CVE-2020-14386-Memory-corruption-in-kernel-on-EL8/#what-you-should-do","text":"A patched kernel is not yet available. The Red Hat security announcement [3] recommends disabling the CAP_NET_RAW capability for regular users and executables as a mitigation. Additionally, the OSG Security team recommends disabling network namespaces when unprivileged user namespaces are enabled [4]: echo \"user.max_net_namespaces = 0\" \\ > /etc/sysctl.d/90-max_net_namespaces.conf sysctl -p /etc/sysctl.d/90-max_net_namespaces.conf Note that docker uses network namespaces, unless it is invoked with --net=host. Unprivileged user namespaces are enabled by default on EL8. If you are not using unprivileged user namespaces (for example for singularity), you can also mitigate this issue by disabling them: echo \"user.max_user_namespaces = 0\" \\ > /etc/sysctl.d/90-max_user_namespaces.conf sysctl -p /etc/sysctl.d/90-max_user_namespaces.conf","title":"WHAT YOU SHOULD DO:"},{"location":"vulns/OSG-SEC-2020-09-22-CVE-2020-14386-Memory-corruption-in-kernel-on-EL8/#references","text":"[1] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-14386 [2] https://seclists.org/oss-sec/2020/q3/146 [3] https://access.redhat.com/security/cve/CVE-2020-14386 [4] https://opensciencegrid.org/docs/worker-node/install-singularity/#enabling-unprivileged-singularity Please contact the OSG security team at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"REFERENCES"},{"location":"vulns/OSG-SEC-2021-01-27-heap-based-buffer-overflow-in-sudo/","text":"CentOS8 packages now available [6]. CORRECTION: In the previous notice the patched versions were erroneously listed as the impacted versions. The heading has been updated in the message below for clarity. Dear OSG Security Contacts, A heap-based buffer overflow vulnerability that could lead to privilege escalation described in CVE-2021-3156 [1] has been discovered in 'sudo' [2]. The vulnerable code was introduced in July 2011 and affects all legacy versions of sudo from v1.8.2 to v1.8.31p2, and all stable versions from v1.9.0 to v1.9.5p1, using default configurations. The OSG Security team considers this vulnerability to be of CRITICAL severity. Patched Versions: RHEL/CentOS7: sudo-1.8.23-10.el7_9.1 [3][4] RHEL/CentOS8: sudo-1.8.29-6.el8_3.1 [5] Other operating systems and distributions are also likely to be exploitable. WHAT ARE THE VULNERABILITIES: The vulnerability is exploitable by any local user. The attacker does not need to know the user's password, nor be a part of any sudoers list. Successful exploitation of this vulnerability could lead to privilege escalation. WHAT YOU SHOULD DO: How to Check: As a non-root user account, run the following: sudoedit -s '\\' perl -e 'print \"A\" x 65536' A vulnerable system will segfault or show a similar error indicating memory corruption. If your system has local user accounts, update to the latest version of 'sudo' available for your operating system. After updating, run the command in \"How to Check\" above to verify the patch. If a patch is not yet available for your system, a mitigation using 'systemtap' has been described in the RedHat announcement for this issue [2]. The OSG Security team recommends updating as soon as possible. RELATED LINKS https://wiki.egi.eu/wiki/SVG:Advisory-SVG-CVE-2021-3156 https://ubuntu.com/security/CVE-2021-3156 https://security-tracker.debian.org/tracker/CVE-2021-3156 http://mirror.centos.org/centos-8/8/BaseOS/x86_64/os/Packages/?C=M;O=D REFERENCES [1] https://access.redhat.com/security/cve/CVE-2021-3156 [2] https://blog.qualys.com/vulnerabilities-research/2021/01/26/cve-2021-3156-heap-based-buffer-overflow-in-sudo-baron-samedit [3] https://access.redhat.com/errata/RHSA-2021:0221 [4] https://lists.centos.org/pipermail/centos-announce/2021-January/048252.html [5] https://access.redhat.com/errata/RHSA-2021:0218 (RHEL8) [6] http://mirror.centos.org/centos-8/8/BaseOS/x86_64/os/Packages/?C=M;O=D Please contact the OSG security team immediately at security at opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2021-01-27 heap-based buffer overflow in sudo"},{"location":"vulns/OSG-SEC-2021-01-28-vulnerabilities-in-HTCondor/","text":"Dear OSG Security Contacts, There are two new vulnerabilities in HTCondor described in CVE-2021-25312 [1] that allows a user to submit a job as another user on the system, because of a flaw in the IDTOKENS authentication method and CVE-2021-25311 [2] that allows directory traversal outside the SEC_CREDENTIAL_DIRECTORY_OAUTH directory, as demonstrated by creating a file under /etc that will later be executed by root. The HTCondor v8.9.11 release contains fixes for both the vulnerabilities. The OSG Security team considers this vulnerability to be of HIGH severity. IMPACTED VERSIONS: HTCondor version 8.9.2 through 8.9.10. WHAT ARE THE VULNERABILITIES: CVE-2021-25312: when a user is authenticating to a daemon using IDTOKENS it is possible for them to impersonate other users and/or the \"condor\" service itself. [3] CVE-2021-25311: a running condor_credd daemon can be instructed to create or write certain files as root that are outside of the directory specified by the parameter \"SEC_CREDENTIAL_DIRECTORY_OAUTH\". If you have not added the CREDD to your DAEMON_LIST, you are not vulnerable to this issue. (Keep in mind the CREDD is automatically added to the DAEMON_LIST if you have added \"use feature:OAUTH\"). [4] WHAT YOU SHOULD DO: Upgrade to version 8.9.11. RELATED LINKS REFERENCES [1] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-25312 [2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-25311 [3] https://research.cs.wisc.edu/htcondor/security/vulnerabilities/HTCONDOR-2021-0001 [4] https://research.cs.wisc.edu/htcondor/security/vulnerabilities/HTCONDOR-2021-0002 Please contact the OSG security team [immediately] at security@opensciencegrid.org if you have any questions or concerns. OSG Security Team","title":"OSG-SEC-2021-01-28 vulnerabilities in HTCondor"}]}